"use strict";(globalThis.__LOADABLE_LOADED_CHUNKS__=globalThis.__LOADABLE_LOADED_CHUNKS__||[]).push([[64910],{27744:(e,t,o)=>{o.d(t,{A:()=>a});var i,n,r=o(65622);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)({}).hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},l.apply(null,arguments)}const a=function(e){return r.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 72 72",width:"1em",height:"1em"},e),i||(i=r.createElement("path",{fill:"white",fillOpacity:.5,d:"M29.75 27.75a6.25 6.25 0 1112.5 0v3.125h1.875c1.726 0 3.125 1.4 3.125 3.125v8.125c0 1.726-1.4 3.125-3.125 3.125h-16.25a3.125 3.125 0 01-3.125-3.125V34c0-1.726 1.4-3.125 3.125-3.125h1.875V27.75zm10 0a3.75 3.75 0 10-7.5 0v3.125h7.5V27.75zm-11.875 5.625a.625.625 0 00-.625.625v8.125c0 .345.28.625.625.625h16.25c.345 0 .625-.28.625-.625V34a.625.625 0 00-.625-.625h-16.25z"})),n||(n=r.createElement("path",{fill:"white",fillOpacity:.5,d:"M8.31 11.066C6.31 39.714 13.78 61.236 36 68.6c22.22-7.364 29.69-28.886 27.69-57.534C50.963 10.36 36 1.4 36 1.4s-14.964 8.96-27.69 9.666zm35.654-2.56c4.78 2.087 11.002 4.334 17.106 5.1.678 13.076-.764 24.294-4.673 33.083C52.42 55.632 45.85 62.167 36 65.672c-9.85-3.505-16.42-10.04-20.397-18.983-3.909-8.788-5.35-20.007-4.673-33.084 6.104-.765 12.325-3.012 17.106-5.1A98.573 98.573 0 0036 4.586a98.573 98.573 0 007.964 3.92z"})))}},83420:(e,t,o)=>{o.d(t,{Ii:()=>s,M3:()=>m,NO:()=>g,TG:()=>u,cA:()=>v,sv:()=>c});var i=o(88457),n=o(12688),r=o(69872),l=o(70091);let a;const s=()=>{var e;if(a)return a;try{const{abTestVersion:t}=l.t,o=null===(e=null==t?void 0:t.parameters)||void 0===e?void 0:e.live_volume_balance,i=(null==o?void 0:o.target)||-19,n=Math.abs((null==o?void 0:o.diff)||2);return a={isExpGroup:"v1"===(null==o?void 0:o.vid),targetLufs:i,scope:[[-60,i-n],[i+n,0]]},a}catch(e){return a={isExpGroup:!1,targetLufs:-19,scope:[[-60,-21],[-17,0]]},a}};let d;const c=e=>{var t,o;if(!e||(0,i.fU)()||"4g"!==(null===(o=null===(t=null===window||void 0===window?void 0:window.navigator)||void 0===t?void 0:t.connection)||void 0===o?void 0:o.effectiveType))return e;const n=r.parseUrl(e).query;return n.abr_pts=(()=>{var e;if(!d){const{abTestVersion:t}=l.t,o=null===(e=null==t?void 0:t.parameters)||void 0===e?void 0:e.live_low_latency_v2;if("v0"===((null==o?void 0:o.vid)||"v0"))return d="-2800",d;d=`${o.val}`;try{isNaN(Number(d))&&(d="-2800")}catch(e){d="-2800"}}return d})(),r.stringifyUrl({url:e,query:Object.assign({},n)})},u=()=>{var e;const{abTestVersion:t}=l.t;return"v1"===(null!==(e=(0,n.qt)(t,"live_screen_radio_opt_side_nav"))&&void 0!==e?e:"v0")},v=()=>{var e;const{abTestVersion:t}=l.t;return"v1"===(null!==(e=(0,n.qt)(t,"live_screen_radio_opt_display_bottom"))&&void 0!==e?e:"v0")},m=()=>{var e;const{abTestVersion:t}=l.t;return"v1"===(null!==(e=(0,n.V7)(t,"live_room_seamless_switch"))&&void 0!==e?e:"v0")};let h;const g=()=>{var e,t,o,i,n;if(h)return h;h={isExpGroup:!1,adaptive:{low:1.5,high:6.5},abr:{low:1.5,high:6.5}};try{const{abTestVersion:r}=l.t,a=null===(e=null==r?void 0:r.parameters)||void 0===e?void 0:e.live_low_latency_v2,s=(null==a?void 0:a.vid)||"v0";return a&&(h={isExpGroup:"v0"!==s,adaptive:{low:(null===(t=a.adaptive)||void 0===t?void 0:t.low)||1.5,high:(null===(o=a.adaptive)||void 0===o?void 0:o.high)||6.5},abr:{low:(null===(i=a.abr)||void 0===i?void 0:i.low)||1.5,high:(null===(n=a.abr)||void 0===n?void 0:n.high)||6.5}}),h}catch(e){return h}}},24598:(e,t,o)=>{o.d(t,{ZR:()=>r,b$:()=>l,oN:()=>a});var i=o(12688),n=o(70091);const r=()=>{const{abTestVersion:e}=n.t;return"v1"===(0,i.qt)(e,"live_enter_room_chore")},l=()=>{const{abTestVersion:e}=n.t;return"v1"===(0,i.qt)(e,"live_quick_chat_expand")},a=()=>{const{abTestVersion:e}=n.t;return(0,i.qt)(e,"live_detail_endlive_auto_feed")||"v0"}},31520:(e,t,o)=>{o.d(t,{Ac:()=>l,Ir:()=>r,Pd:()=>n,sg:()=>i});const i=new Set([2,5,8,11]);var n,r;!function(e){e[e.Game=0]="Game",e[e.LifeStyle=1]="LifeStyle"}(n||(n={})),function(e){e.Talent="mix_talent",e.Fashion="fashion",e.Outdoor="outdoor",e.Chatting="chatting"}(r||(r={}));const l=new Set([r.Chatting,r.Fashion,r.Outdoor,r.Talent])},58801:(e,t,o)=>{o.d(t,{b:()=>l,p:()=>r});var i=o(68298),n=o(84770);const r=[{key:"for_you",key2:"nonpersonalizedFeeds_LIVEfeed_navP_menuLink",path:n.vI.liveDiscover,channelId:87,reqFrom:"live_mt_pc_web_rec_tab_refresh",reqFromMore:"live_mt_pc_web_rec_tab_loadmore",feedType:"recommendInFeed",teaParams:{switchMode:"recommend",enterFromMerge:"live_merge",enterMethod:"live_cover",switchType:"enter_url",is_top_tab:i.qw.common,is_tab_icon:i.qw.common}},{key:"live_nav_follow",key2:"live_nav_follow",path:n.vI.liveFollowing,channelId:88,reqFrom:"live_mt_pc_web_follow_tab_refresh",reqFromMore:"live_mt_pc_web_follow_tab_refresh",feedType:"followInFeed",teaParams:{switchMode:"follow_page",enterFromMerge:"live_follow",enterMethod:"live_cover",switchType:"enter_url",is_top_tab:i.qw.common,is_tab_icon:i.qw.common}},{key:"webappLiveEvent_tab",key2:"webappLiveEvent_tab",path:n.vI.liveEventAggregation,feedType:"eventInFeed",teaParams:{switchMode:"event",enterFromMerge:"event",enterMethod:"live_cover",switchType:"enter_url",is_top_tab:i.qw.common,is_tab_icon:i.qw.common}},{key:"webLIVE_LIVEpage_gamingTab",key2:"webLIVE_LIVEpage_gamingTab",path:n.vI.liveGaming,channelId:89,reqFrom:"pc_web_game_feed_refresh",reqFromMore:"pc_web_game_feed_loadmore",feedType:"gameInFeed",teaParams:{switchMode:"category_game",enterFromMerge:"category_game",enterMethod:"live_cover",switchType:"enter_url",is_top_tab:i.qw.common,is_tab_icon:i.qw.common}}],l=[{key:"ttlive_webPC_categoryNameAll_title",key2:"ttlive_webPC_categoryNameAll_title",path:n.vI.liveCategory,channelId:88,reqFrom:"live_mt_pc_web_follow_tab_refresh",reqFromMore:"live_mt_pc_web_follow_tab_refresh",feedType:"followInFeed",teaParams:{switchMode:"follow_page",enterFromMerge:"live_follow",enterMethod:"live_cover",switchType:"enter_url",is_top_tab:i.qw.common,is_tab_icon:i.qw.common}}]},35e3:(e,t,o)=>{o.d(t,{P0:()=>l,Ym:()=>i,vu:()=>r});const i=new Set([2,3,6,7]);var n;!function(e){e.feed="feeds_section",e.forYou="foryou_section",e.gaming="game_section",e.event="event_section",e.chatting="chatting_section",e.outdoor="outdoor_section",e.fashion="fashion_section",e.talent="talent_section",e.catalog="catalog_section",e.singleGame="game_section_",e.singleAction="action_section_"}(n||(n={}));const r=[{titleKey:"ttlive_webPC_categoryNameGaming_title",type:"game_section"},{titleKey:"ttlive_webPC_recommendedCategoriesSection_title",type:"catalog_section"},{titleKey:"webappLiveEvent_tab",type:"event_section"}];var l;!function(e){e.gaming="gaming",e.lifestyle="lifestyle",e.category="category",e.action="setting_section"}(l||(l={}))},36505:(e,t,o)=>{o.d(t,{By:()=>r,CZ:()=>i,Sd:()=>n});const i=864e5,n=6e5,r=432e5},15495:(e,t,o)=>{o.d(t,{Vy:()=>v,W_:()=>d,qQ:()=>c});var i=o(11379),n=o(90040),r=o(577),l=o(36505),a=o(10202),s=o(70091);const d="persist",c=new n.E({defaultOptions:{queries:{staleTime:l.CZ,maxAge:l.CZ,cacheTime:l.CZ}}});function u(e="WebAppLiveReactQuery"){return{persistClient:t=>(0,i.sH)(this,void 0,void 0,(function*(){try{yield(0,r.hZ)(e,t)}catch(e){a.M.captureException(e,{name:"createIDBPersister.persistClient"})}})),restoreClient:()=>(0,i.sH)(this,void 0,void 0,(function*(){let t;try{t=yield(0,r.Jt)(e)}catch(e){a.M.captureException(e,{name:"createIDBPersister.restoreClient"})}return t})),removeClient:()=>(0,i.sH)(this,void 0,void 0,(function*(){try{yield(0,r.yH)(e)}catch(e){a.M.captureException(e,{name:"createIDBPersister.removeClient"})}}))}}const v=()=>({persister:u(),buster:"1.0.0.5005"+s.t.language,dehydrateOptions:{shouldDehydrateQuery:e=>{var t;return!!(null===(t=e.queryKey)||void 0===t?void 0:t.includes(d))}}})},33988:(e,t,o)=>{o.d(t,{O:()=>n});var i=o(31520);function n(e){return i.Ac.has(e)?i.Pd.LifeStyle:i.Pd.Game}},5186:(e,t,o)=>{o.d(t,{BL:()=>r,Se:()=>n});var i=o(65622);o(72749);const n=e=>{const t=(0,i.useRef)();(0,i.useEffect)((()=>{t.current=t=>{const o=null==e?void 0:e(t);return"string"==typeof o?t.returnValue=o:t.defaultPrevented?t.returnValue="":void 0}}),[e]),(0,i.useEffect)((()=>{const e=e=>{t.current&&t.current(e)};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[])},r=({callback:e,element:t})=>{const o=(0,i.useRef)(null),n=(0,i.useCallback)((()=>{(null==t?void 0:t.current)&&o.current&&o.current.observe(null==t?void 0:t.current)}),[null==t?void 0:t.current,o.current]);(0,i.useEffect)((()=>(o.current&&(null==t?void 0:t.current)&&o.current.unobserve(null==t?void 0:t.current),o.current=new IntersectionObserver(e),n(),()=>{o.current&&(null==t?void 0:t.current)&&o.current.unobserve(null==t?void 0:t.current)})),[null==t?void 0:t.current,o.current,e,n])}},26593:(e,t,o)=>{o.d(t,{UI:()=>a,VA:()=>i,Z9:()=>d,ZL:()=>c,qO:()=>l});var i,n=o(88457);!function(e){e[e.high=8]="high",e[e.middlePlus=6]="middlePlus",e[e.middle=4]="middle",e[e.low=2]="low"}(i||(i={}));const r=new Map,l=e=>{if(r.has(e))return r.get(e);if((0,n.fU)())return!1;const t=navigator.hardwareConcurrency;return r.set(e,t>=e),r.get(e)},a=()=>{var e;try{const t=navigator.userAgent.toLowerCase(),o=(null===(e=/chrome\/(\d+)/.exec(t))||void 0===e?void 0:e[1])||"0",i=parseFloat(o)>=122,n=/edge?\//.test(t);return i&&!n}catch(e){return!1}};let s;const d=()=>{if(void 0!==s)return s;const e=window.navigator.userAgent.toLowerCase().match(/windows\snt\s([\d.]+)/),t=e?e[1]:"";return s=!t||parseFloat(t)>=10,s},c=()=>{var e,t;return!(0,n.fU)()&&Number(null===(t=null===(e=null===window||void 0===window?void 0:window.navigator)||void 0===e?void 0:e.connection)||void 0===t?void 0:t.downlink)>=10}},29820:(e,t,o)=>{o.d(t,{E:()=>n,I:()=>i});const i=e=>e?e.replace(/\s/g,"_"):"",n=e=>e.replace(/_/g," ")},83798:(e,t,o)=>{o.d(t,{Ab:()=>l,ri:()=>r,we:()=>a});var i=o(91528),n=o.n(i);function r(e){var t;return(null==e?void 0:e.owner)&&(e.owner.verified=Boolean(null===(t=e.owner.authentication_info)||void 0===t?void 0:t.authentication_badge)),(null==e?void 0:e.link_mic)&&!e.with_linkmic&&Object.defineProperty(e,"with_linkmic",{writable:!0,value:Boolean(e.link_mic.channel_id)}),e}function l(e){return e&&e.length?e.map((e=>((null==e?void 0:e.data)&&r(e.data),e))):[]}const a=e=>n()(e,(e=>{var t;return null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.id_str})).filter((e=>{var t;return 8!==(null===(t=e.data)||void 0===t?void 0:t.stream_status)}))},47160:(e,t,o)=>{o.d(t,{J:()=>r});var i,n=o(52602);!function(e){e.DefinitionSelectedKey="definition_selected_key",e.AutoDefinitionSelectedKey="auto_definition_selected_key",e.HideDefinitionRedDot="hide_definition_red_dot",e.Volume="live_player_volume",e.Muted="live_player_muted"}(i||(i={}));const r=new class{constructor(){this.setAutoDefinitionSelectKey=e=>(0,n.AP)("auto_definition_selected_key",e),this.getAutoDefinitionSelectKey=()=>(0,n._S)("auto_definition_selected_key"),this.setDefinitionSelectKey=e=>(0,n.AP)("definition_selected_key",e),this.getDefinitionSelectKey=()=>(0,n._S)("definition_selected_key"),this.setHideDefinitionRedDot=()=>(0,n.AP)("hide_definition_red_dot","1"),this.getHideDefinitionRedDot=()=>"1"===(0,n._S)("hide_definition_red_dot","0"),this.setMuted=e=>(0,n.AP)("live_player_muted",String(e)),this.getMuted=()=>"1"===(0,n._S)("live_player_muted"),this.setVolume=e=>(0,n.AP)("live_player_volume",e.toString()),this.getVolume=()=>{let e=Number((0,n._S)("live_player_volume","60"));return(e<0||e>1e3||isNaN(e))&&(e=60),e},this.setDailyFrequencyControlCount=(e,t)=>{const o=new Date,i=`${o.getFullYear()}${o.getMonth()}${o.getDate()}`;return(0,n.AP)(e,`${i}-${t.toString()}`)},this.getDailyFrequencyControlCount=e=>{const t=new Date,o=`${t.getFullYear()}${t.getMonth()}${t.getDate()}`,i=(0,n._S)(e);if(!i)return 0;const[r,l]=i.split("-");return r===o?Number(l):0}}}},54764:(e,t,o)=>{function i(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function n(e){let t=(e/1e3).toFixed(1);return t=-1!==t.indexOf(".")?t.replace(/0+$/,""):t,t=t.endsWith(".")?t.slice(0,-1):t,`${t}k`}o.d(t,{Z:()=>i,s:()=>n})},35076:(e,t,o)=>{o.d(t,{Ay:()=>g,RX:()=>y,Sh:()=>w,WZ:()=>f,XA:()=>u,aZ:()=>p,e8:()=>h,jo:()=>_,nj:()=>b});var i=o(26089),n=o.n(i),r=o(69872),l=o(90028),a=o(4251),s=o(19796);const d=2e6,c=Object.freeze(["auto","origin","uhd_60","uhd","hd_60","hd","sd","ld"]);function u(e){var t,o;try{const i={common:{},data:{}},n=JSON.parse(null!==(t=null==e?void 0:e.stream_data)&&void 0!==t?t:"");if(i.common=n.common,n.data)for(const e in n.data){if(n.data[e].main){const t=JSON.parse(n.data[e].main.sdk_params);i.data[e]={},i.data[e].main=n.data[e].main,i.data[e].main.sdk_params=t}if(n.data[e].backup){const t=JSON.parse(n.data[e].backup.sdk_params);i.data[e]=null!==(o=i.data[e])&&void 0!==o?o:{},i.data[e].backup=n.data[e].backup,i.data[e].backup.sdk_params=t}}return{streamData:i}}catch(e){return{streamData:{}}}}function v(e,t){return t?(0,r.stringifyUrl)({url:e,query:{_session_id:`${t}.${Date.now()}`}}):e}function m({url:e,key:t,title:o,isSameBitrate:i,hasUhd:n}){const r=e.includes("/stage/");if(!(r&&"hd"===t&&i&&n))return r&&"uhd"===t?{title:l.qt.hd,key:"hd"}:{title:o,key:t}}function h(e,t){var o,i,n,r,a,c,u,h,g,p,f,_,y,b;const x=[],w=e.common.session_id,S=(null===(r=null===(n=null===(i=null===(o=e.data)||void 0===o?void 0:o.uhd)||void 0===i?void 0:i.main)||void 0===n?void 0:n.sdk_params)||void 0===r?void 0:r.vbitrate)===(null===(h=null===(u=null===(c=null===(a=e.data)||void 0===a?void 0:a.hd)||void 0===c?void 0:c.main)||void 0===u?void 0:u.sdk_params)||void 0===h?void 0:h.vbitrate),C=!!(null===(g=e.data)||void 0===g?void 0:g.uhd);for(const[o,i]of Object.entries(e.data)){let e=o,n=null!==(f=null===(p=t.find((e=>e.sdk_key===o)))||void 0===p?void 0:p.name)&&void 0!==f?f:l.qt[o];if(!n)continue;let r=i.main.sdk_params.vbitrate;if("origin"===o&&(r=d),!(0,s.L5)()){const t=m({url:i.main.flv,key:e,title:n,isSameBitrate:S,hasUhd:C});if(!t)continue;e=t.key,n=t.title}x.push({sdkKey:e,definition:n,bitrate:r,url:{mainFLV:v(i.main.flv,w),mainHLS:i.main.hls,backupFLV:(null===(_=i.backup)||void 0===_?void 0:_.flv)?v(null===(y=i.backup)||void 0===y?void 0:y.flv,w):"",backupHLS:null===(b=i.backup)||void 0===b?void 0:b.hls},activeUrl:"",vCodecKey:i.main.sdk_params.VCodec,isActive:!1,pullFailedCount:0})}return x}function g(e){return n()(e,(e=>c.indexOf(e.sdkKey)))}function p(e,t,o){const i=e.map((e=>e.sdkKey));let n=i[0];if(t&&i.includes(t))n=t;else if(o&&t){const e=Object.keys(l.qt);let o=t;for(;-1===i.indexOf(o);){const t=e.indexOf(o);o=e[t+1],o||(o=i[i.length-1])}o!==t&&(n=o)}const r=function(e,t){return e.find((e=>e.sdkKey===t))}(e,n);return r||(console.error(`[stream] getMainStream: no stream found by ${t}`),null)}const f=e=>function(e,t=!1){return e.reduce(((e,o)=>Object.assign(Object.assign({},e),{[o.bitrate]:t?(0,a.X$)(o.url.mainFLV):o.url.mainFLV})),{})}(Boolean(e)?e.filter((e=>"origin"!==e.sdkKey)):e,!0);function _(e,t){return e.find((e=>e.bitrate===t))}function y(e){const t=e.data,o=[];return t&&Object.keys(t).forEach((e=>{if(l.qt[e]){const i=Object.assign({name:e,sdk_key:e},t[e].sdk_params);o.push(i)}})),o}function b(e,t,o){let i=!1;const n=[],r=[];e.forEach((e=>{e===t?i=!0:i?n.push(e):r.push(e)}));const l=[...n,...r];let a="up"===o?l.length-2:-1,s=null;for(;!s;){if("up"===o&&0===a||"down"===o&&a===l.length-1)return null;a="up"===o?a-1:a+1,s=l[a]}return s}let x;function w(e,t){if(!e)return e;const o=(0,r.parseUrl)(e);return t=null!=t?t:`${Date.now()}`,x||(x=/\.[0-9]{13}/),o.query._session_id&&(o.query._session_id=o.query._session_id.replace(x,`.${t}`)),(0,r.stringifyUrl)(o)}},52904:(e,t,o)=>{o.d(t,{Q:()=>l});var i=o(65622),n=o(28210),r=o(48796);const l=()=>{const{toggle:e,value:t}=(0,i.useContext)(n.xm),o=(0,i.useRef)(t);return{switchToDarkTheme:(0,r.A)((()=>{o.current=t,t||e(!0)})),resetToPreviousTheme:(0,r.A)((()=>{e(o.current)}))}}},13452:(e,t,o)=>{o.d(t,{x:()=>k});var i=o(76769),n=o(8941),r=o(65622),l=o(63161),a=o(92094),s=o(50374),d=o(95090),c=o(84770),u=o(52528),v=o(58677),m=o(69872);const h={INDEX:"index, follow",NO_INDEX:"noindex, follow",IMAGE_PREVIEW_LARGE:"max-image-preview:large"},g="TikTok LIVE, TT LIVE, LIVE channel, LIVE videos, LIVE streaming, LIVE room, PC LIVE, LIVE Studio, studio, download, requirements, access, application, free download, coin, Get Coins, nạp xu, browser, コイン, チャージ, ブラウザ, ライブ, 購入, Creator network, Creator hub, Subscription, Games, Gaming, Lifestyle, Chat, Outdoors, Talents, Fashion",p={ALL:"pc, mobile",PC:"pc",MOBILE:"mobile"},f="https://www.tiktok.com";var _=o(29820);const y="tiktok live, live channel, live videos, live streaming, pc live";var b=o(93179);function x(){const[,{setSeoMetaState:e}]=d._.useAtomService(),t=(0,u.s)(),o=function(){const{pathname:e}=(0,l.zy)();return(0,r.useMemo)((()=>(0,l.B6)(e,{path:c.vI.liveCategory,exact:!0})?c.oV.liveCategory:(0,l.B6)(e,{path:c.vI.liveCategoryGaming,exact:!0})?c.oV.liveCategoryGaming:(0,l.B6)(e,{path:c.vI.liveCategoryLifestyle,exact:!0})?c.oV.liveCategoryLifestyle:(0,l.B6)(e,{path:c.vI.liveCategorySingleGaming,exact:!0})?c.oV.liveCategorySingleGaming:(0,l.B6)(e,{path:c.vI.liveCategorySingleAction,exact:!0})?c.oV.liveCategorySingleAction:(0,l.B6)(e,{path:c.vI.liveCategorySingleLifeStyle,exact:!0})?c.oV.liveCategorySingleLifeStyle:(0,l.B6)(e,{path:c.vI.liveDiscover,exact:!0})?c.oV.liveDiscover:(0,l.B6)(e,{path:c.vI.liveEvent,exact:!0})?c.oV.liveEvent:(0,l.B6)(e,{path:c.vI.liveEventAggregation,exact:!0})?c.oV.liveEventAggregation:(0,l.B6)(e,{path:c.vI.liveFollowing,exact:!0})?c.oV.liveFollowing:(0,l.B6)(e,{path:c.vI.liveGaming,exact:!0})?c.oV.liveGaming:(0,l.B6)(e,{path:c.vI.liveLifestyle,exact:!0})?c.oV.liveLifestyle:(0,l.B6)(e,{path:c.vI.liveRoom,exact:!0})?c.oV.liveRoom:(0,l.B6)(e,{path:c.vI.liveSingleGaming,exact:!0})?c.oV.liveSingleGaming:(0,l.B6)(e,{path:c.vI.studioDownload,exact:!0})?c.oV.studioDownload:(0,l.B6)(e,{path:c.vI.liveExplore,exact:!0})?c.oV.liveExplore:void 0),[e])}(),i=(0,b.s)(d.h),n=function(){const e=(0,l.zy)(),t=(0,m.parse)(e.search);return(0,r.useCallback)((e=>{const{lang:o}=t,i=(0,v.x_)(o);if(!o||!i)return e;const n=e.includes("?")?"&":"?";return`${e}${n}lang=${o}`}),[t])}();(0,r.useEffect)((()=>{let r={};switch(o){case c.oV.liveCategory:r=function(e){return{title:e("ttlive_webPC_SEO_title_allCategories"),keywords:g,description:e("ttlive_webPC_SEO_desc_common"),robotsContent:h.INDEX,canonicalHref:`${f}${c.vI.liveCategory}`,applicableDevice:p.ALL}}(t);break;case c.oV.liveCategoryGaming:r=function(e){return{title:e("ttlive_webPC_SEO_title_gamingCategories"),keywords:g,description:e("ttlive_webPC_SEO_desc_common"),robotsContent:h.INDEX,canonicalHref:`${f}${c.vI.liveCategoryGaming}`,applicableDevice:p.ALL}}(t);break;case c.oV.liveCategoryLifestyle:r=function(e){return{title:e("ttlive_webPC_SEO_title_lifestyleCategories"),keywords:g,description:e("ttlive_webPC_SEO_desc_common"),robotsContent:h.INDEX,canonicalHref:`${f}${c.vI.liveCategoryLifestyle}`,applicableDevice:p.ALL}}(t);break;case c.oV.liveCategorySingleAction:r=function(e,t){return t?{title:e("ttlive_webPC_SEO_title_gamesLIVEVideos",{gamename:t.actionName}),keywords:g,description:e("ttlive_webPC_SEO_desc_categories",{num:"956.2K",categoryName:t.actionName}),robotsContent:h.INDEX,canonicalHref:`${f}${c.vI.liveCategorySingleLifeStyle.replace(":action",t.action)}`,applicableDevice:p.ALL}:{}}(t,i.liveSingleActionParams);break;case c.oV.liveCategorySingleGaming:r=function(e,t){if(!t)return{};const{testKeywords:o,testGameIntroduction:i}=function(e){switch(e){case"Mobile Legends: Bang Bang":return{testKeywords:`mobile legends: bang bang, mlbb, moba, ${y}`,testGameIntroduction:"Mobile Legends: Bang Bang (MLBB) is a popular MOBA game by Moonton, featuring real-time 5v5 battles with quick matchmaking and short matches. Gameplay involves securing objectives and defending towers, with outcomes based on skill and strategy, not pay-to-play or leveling up."};case"PUBG Mobile":return{testKeywords:`pubg mobile, pubg, battle royale game, ${y}`,testGameIntroduction:"PUBG Mobile, a free-to-play battle royale game developed by LightSpeed, Quantum Studio, and PUBG Studios, is a mobile adaptation of PUBG: Battlegrounds, released on Android and iOS in March 2018."};case"Grand Theft Auto V":return{testKeywords:`grand theft auto V, gta5, gta, ${y}`,testGameIntroduction:"Grand Theft Auto V (GTA5), a 2013 action-adventure game by Rockstar North, is the seventh main and fifteenth overall entry in the series. Set in the fictional San Andreas, it follows three protagonists committing heists under duress in an open world environment."};case"Counter-Strike":return{testKeywords:`counter-strike 2, cs, cs2, csgo, ${y}`,testGameIntroduction:"Counter-Strike 2 (CS2), a 2023 tactical shooter by Valve, is the fifth series entry and an update of Counter-Strike: Global Offensive (CSGO). Announced in March and released in September 2023 for Windows and Linux, it replaced Global Offensive on Steam."};default:return{}}}(t.gameName);return{title:e("ttlive_webPC_SEO_title_gamesLIVEVideos",{gamename:t.gameName}),keywords:o||g,description:e("ttlive_webPC_SEO_desc_games",{gamename:t.gameName,num:t.viewerCount,gameIntroduction:i||t.gameIntroduction}),robotsContent:h.INDEX,canonicalHref:`${f}${c.vI.liveCategorySingleGaming.replace(":gameTag",(0,_.I)(t.gameName))}`,applicableDevice:p.ALL}}(t,i.liveCategorySingleGamingParams);break;case c.oV.liveCategorySingleLifeStyle:r=function(e,t){return t?{title:e("ttlive_webPC_SEO_title_gamesLIVEVideos",{gamename:t.categoryName}),keywords:g,description:e("ttlive_webPC_SEO_desc_categories",{num:"1259.5K",categoryName:t.categoryName}),robotsContent:h.INDEX,canonicalHref:`${f}${c.vI.liveCategorySingleLifeStyle.replace(":category",t.category)}`,applicableDevice:p.ALL}:{}}(t,i.liveCategorySingleLifestyleParams);break;case c.oV.liveDiscover:r=function(e){return{title:e("ttlive_webPC_SEO_title_feed_FY"),keywords:g,description:e("ttlive_webPC_SEO_desc_common"),robotsContent:h.INDEX,canonicalHref:`${f}${c.vI.liveDiscover}`,applicableDevice:p.ALL}}(t);break;case c.oV.liveEvent:r=function(e,t){return t?{title:e("ttlive_webPC_SEO_title_singleEvent",{eventName:t.eventName}),keywords:g,description:void 0,robotsContent:h.INDEX,canonicalHref:`${f}${c.vI.liveEvent.replace(":eventId",t.eventId)}`,applicableDevice:p.ALL}:{}}(t,i.liveEventParams);break;case c.oV.liveEventAggregation:r=function(e){return{title:e("ttlive_webPC_SEO_title_allEvents"),keywords:g,description:e("ttlive_webPC_SEO_desc_allEvents"),robotsContent:h.INDEX,canonicalHref:`${f}${c.vI.liveEventAggregation}`,applicableDevice:p.ALL}}(t);break;case c.oV.liveFollowing:r=function(e){return{title:e("ttlive_webPC_SEO_title_feed_following"),keywords:g,description:e("ttlive_webPC_SEO_desc_common"),robotsContent:h.INDEX,canonicalHref:`${f}${c.vI.liveFollowing}`,applicableDevice:p.ALL}}(t);break;case c.oV.liveGaming:r=function(e){return{title:e("ttlive_webPC_SEO_title_feed_gaming"),keywords:g,description:e("ttlive_webPC_SEO_desc_common"),robotsContent:h.INDEX,canonicalHref:`${f}${c.vI.liveGaming}`,applicableDevice:p.ALL}}(t);break;case c.oV.liveLifestyle:r=function(e){return{title:e("ttlive_webPC_SEO_title_feed_lifestyle"),keywords:g,description:e("ttlive_webPC_SEO_desc_common"),robotsContent:h.INDEX,canonicalHref:`${f}${c.vI.liveLifestyle}`,applicableDevice:p.ALL}}(t);break;case c.oV.liveRoom:r=function(e,t){if(!t)return{};const o=`${t.nickname} (@${t.uniqueId})`;return{title:e("ttlive_webPC_SEO_title_joinLIVE",{username:o}),keywords:g,description:e("ttlive_webPC_SEO_desc_LIVEroom",{livetitle:t.liveTitle,username:o}),robotsContent:h.INDEX,canonicalHref:`${f}${c.vI.liveRoom.replace(":uniqueId",t.uniqueId)}`,applicableDevice:p.ALL}}(t,i.liveRoomParams);break;case c.oV.liveSingleGaming:r=function(e,t){return t?{title:e("ttlive_webPC_SEO_title_feed_games",{gamename:t.gameName}),keywords:g,description:e("ttlive_webPC_SEO_desc_common"),robotsContent:h.INDEX,canonicalHref:`${f}${c.vI.liveSingleGaming.replace(":gameId",(0,_.I)(t.gameName))}`,applicableDevice:p.ALL}:{}}(t,i.liveSingleGamingParams);break;case c.oV.studioDownload:r=function(e){return{title:`${e("pm_mt_ls_download_button")} | TikTok`,keywords:g,description:e("ttlive_webPC_SEO_desc_common"),robotsContent:h.INDEX,canonicalHref:`${c.vI.studioDownload}`,applicableDevice:p.PC}}(t);break;case c.oV.liveExplore:r=function(e,t){return t?{title:e("ttlive_webPC_SEO_title_gamesLIVEVideos",{gamename:t.keywords}),keywords:g,description:e("ttlive_webPC_SEO_desc_categories",{num:"1259.5K",categoryName:t.keywords}),robotsContent:h.INDEX,canonicalHref:`${f}${c.vI.liveExplore.replace(":keywords",(0,_.I)(t.keywords))}`,applicableDevice:p.ALL}:{}}(t,i.liveExploreParams);break;default:r={}}r.canonicalHref&&(r.canonicalHref=n(r.canonicalHref)),e({metaParams:Object.assign({},r),jsonldList:[]})}),[o,i])}var w=o(20081),S=o(69138);const C={paidads:"google_ads"};var I=o(76053);let j=!1;const k=(e,t)=>{var o;const d=null!==(o=null==t?void 0:t.clientVersionName)&&void 0!==o?o:"live_v2",c=(0,l.zy)();(0,i.tF)((()=>({page_name:e,enter_from:e,request_page:"webapp",clientVersionName:d})),[e,c]),(0,I.A)((()=>{const t=(0,w.k)()||{},o=function(e){return{landing_page_title:document.title,landing_page_type:e}}(e),i=function(e){var t;const o=null!==(t=new URLSearchParams(e.search).get("enter_from_merge"))&&void 0!==t?t:"",i=C[o];return i?{ads_source:i}:{}}(c);j||s.f.config({commonHeaderConfig:{"header.custom":Object.assign({},i)},commonEventParams:Object.assign(Object.assign({},o),t)})})),(0,n.rF)({pid:e}),(0,S.Yb)(e,null==t?void 0:t.gtmId);const u=(0,i.ct)({});(0,r.useEffect)((()=>{var e,t;if(u(),!j){const o=new URLSearchParams(c.search);a.Al.enterLiveScene({enter_from_merge:null!==(e=o.get("enter_from_merge"))&&void 0!==e?e:"",enter_method:null!==(t=o.get("enter_method"))&&void 0!==t?t:""}),j=!0}}),[u]),x()}},28803:(e,t,o)=>{o.d(t,{O:()=>a});var i=o(27334),n=o(65622),r=o(53193),l=o(5186);const a=({onScrollToBottom:e})=>{const t=(0,n.useRef)(null),o=(0,n.useRef)(!1),[a,s]=(0,n.useState)(!1),d=(0,r.A)((()=>(0,i.jsx)("div",{ref:t,style:{width:"100%",height:1}},void 0)),[]);return(0,l.BL)({callback:t=>{const[i]=t,n=Boolean(i&&i.intersectionRatio>0);n&&!o.current&&e(),o.current=n,s(n)},element:t}),{detectComponent:d,isInViewRef:o,isInViewValue:a}}},9772:(e,t,o)=>{o.d(t,{g:()=>i});const i=e=>!!e&&[1,2].includes(e)},25013:(e,t,o)=>{o.d(t,{_W:()=>c});var i=o(27334),n=o(65622),r=o(15474),l=o(77160),a=o(48796),s=o(52602);const d="control-icon",c=(0,n.memo)((e=>{const{disableHover:t,isActive:o,onClick:n,onMouseEnter:c,activeIcon:u,inActiveIcon:v,activeTip:m,inActiveTip:h,dataE2E:g="",style:p={},enableHoverBg:f=!1}=e,_=(0,a.A)((e=>{(0,s.Gu)(e),n()}));return(0,i.jsx)(l.K,Object.assign({onClick:_,"data-e2e":g,"data-testid":"control-container",disableHover:t,onMouseEnter:c,tabIndex:0,style:p,role:"button",onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.stopPropagation(),e.preventDefault(),n())}},{children:(0,i.jsx)(r.N0,Object.assign({content:o?m:h,background:"ToastDefault",disabled:t},{children:(0,i.jsx)(l.x,Object.assign({"data-e2e":d,"data-testid":d,enableHoverBg:f},{children:o?u:v}),void 0)}),void 0)}),void 0)}))},77160:(e,t,o)=>{o.d(t,{K:()=>n,x:()=>r});var i=o(2032);const n=(0,i.default)("div",{target:"e182san20"})((({disableHover:e,theme:t})=>({color:t.colors.ConstTextInverse,cursor:e?"auto":"pointer",userSelect:"none",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"24px",pointerEvents:e?"none":"auto"})),"label:DivControllerBasicIconWrapper;"),r=(0,i.default)("div",{target:"e182san21"})((({enableHoverBg:e})=>[{borderRadius:2,minWidth:e?40:24,height:e?40:24,display:"flex",alignItems:"center",justifyContent:"center"},e?{":hover":{":after":{content:'""',display:"block",position:"absolute",left:0,top:0,width:40,height:40,background:"rgba(255, 255, 255, 0.1)",borderRadius:"75px"}}}:void 0]),"label:DivControllerBasicIcon;")},68071:(e,t,o)=>{o.d(t,{S:()=>b});var i=o(27334),n=o(556),r=o(65622),l=o(14020),a=o(52528),s=o(28210),d=o(15474),c=o(2032),u=o(27744);const v=(0,c.default)(u.A,{target:"e1deymwl0"})({width:72,height:72},"label:StyledUnavailableSVG;"),m=(0,c.default)("div",{target:"e1deymwl1"})({width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:0,left:0,background:"rgba(22, 24, 35, 1)"},"label:DivPolicyWatchLiveMask;"),h=(0,c.default)("div",{target:"e1deymwl2"})({display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},"label:DivPolicyContentContainer;"),g=(0,c.default)("div",{target:"e1deymwl3"})((({theme:e})=>({display:"flex",justifyContent:"center",alignItems:"center",fontSize:"45px",backgroundColor:e.colors.ConstBGContainer,color:"rgba(255, 255, 255, 0.75)",borderRadius:"50%",width:"72px",height:"72px"})),"label:DivWarningSvg;"),p=(0,c.default)("div",{target:"e1deymwl4"})((({theme:e})=>({color:e.colors.TextPrimary,fontSize:"24px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:700,marginTop:"16px"})),"label:DivPolicyTitle;"),f=(0,c.default)("div",{target:"e1deymwl5"})((({theme:e})=>({color:e.colors.TextPrimary,fontSize:"16px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:400,margin:"8px",textAlign:"center"})),"label:DivPolicy;"),_=(0,c.default)("div",{target:"e1deymwl6"})((({theme:e})=>({marginTop:"16px",width:"336px",display:"flex",flexDirection:"row",alignItems:"center",fontFamily:e.fontFamilies.TikTokFont})),"label:DivButtonList;"),y={minWidth:160,borderRadius:"4px",fontWeight:700},b=(0,r.memo)((e=>{const t=(0,a.s)(),o=(0,s.O4)({isDark:!0,isMobile:!1}),{title:r,status:c="default",subTitle:u,continueType:b="default",cancelType:x,onCancel:w,onContinue:S}=e;return(0,i.jsx)(n.a,Object.assign({theme:o},{children:(0,i.jsx)(m,{children:(0,i.jsxs)(h,{children:["default"===c?(0,i.jsx)(g,{children:(0,i.jsx)(l.$,{},void 0)},void 0):(0,i.jsx)(v,{},void 0),(0,i.jsx)(p,{children:r},void 0),u&&(0,i.jsx)(f,{children:u},void 0),(0,i.jsxs)(_,Object.assign({style:{justifyContent:x?"space-between":"center"}},{children:["default"===b&&(0,i.jsx)(d.I0,{onClick:w,variant:"const",size:"large",style:y,label:t("skip"===x?"pm_mt_viewer_overlay_skip_btn":"pm_mt_viewer_overlay_back_btn")},void 0),"default"===b&&(0,i.jsx)(d.I0,{variant:"primary",onClick:S,size:"large",style:y,label:t("pm_mt_viewer_overlay_watch_btn")},void 0),"login"===b&&(0,i.jsx)(d.I0,{variant:"const",onClick:S,size:"large",style:y,label:t("pm_mt_lcc_logIn_btn")},void 0)]}),void 0)]},void 0)},void 0)}),void 0)}))},18199:(e,t,o)=>{o.d(t,{f:()=>L});var i,n=o(27334),r=o(556),l=o(52528),a=o(28210),s=o(65622),d=o(99644),c=o(88408),u=o(15474),v=o(2032),m=o(8819),h=o(53240);function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)({}).hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},g.apply(null,arguments)}const p=function(e){return s.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 70 56",width:"1em",height:"1em"},e),i||(i=s.createElement("path",{fill:"#161823",d:"M7.599 55.123h42.608c4.174 0 7.57-3.397 7.575-7.57V37.144l9.66 8.671a1.511 1.511 0 001.63.257c.546-.242.9-.787.9-1.383V10.663a1.517 1.517 0 00-2.53-1.126l-9.66 8.671V7.801c0-4.174-3.396-7.57-7.57-7.57H7.599C3.425.23.029 3.626.029 7.8v39.751c0 4.174 3.396 7.57 7.57 7.57zM3.057 7.8a4.55 4.55 0 014.542-4.543h42.613A4.55 4.55 0 0154.754 7.8v13.803a1.517 1.517 0 002.529 1.126l9.66-8.671v27.24l-9.66-8.672a1.517 1.517 0 00-2.529 1.126v13.799a4.55 4.55 0 01-4.542 4.542H7.599a4.55 4.55 0 01-4.542-4.542V7.8zm37.387 31.568a1.51 1.51 0 01-1.15-.532 13.218 13.218 0 00-9.955-4.666 1.53 1.53 0 01-.116.005 13.2 13.2 0 00-10.082 4.666 1.521 1.521 0 01-1.15.527 1.505 1.505 0 01-1.145-2.481 16.212 16.212 0 0112.236-5.726c.043-.003.087-.005.13-.005a16.23 16.23 0 0112.378 5.726 1.51 1.51 0 01-1.146 2.486zM18.182 26.34a1.505 1.505 0 01-1.507-1.506v-4.581c0-.834.673-1.507 1.507-1.507.834 0 1.507.673 1.507 1.506v4.581c0 .834-.674 1.508-1.507 1.508zm20.564-1.506c0 .833.673 1.507 1.507 1.507.834 0 1.507-.674 1.507-1.508v-4.58c0-.834-.673-1.507-1.507-1.507-.834 0-1.507.673-1.507 1.506v4.581z"})))};o(27744);const f=(0,v.default)("div",{target:"e1dq6dxd0"})({display:"flex",alignItems:"center",justifyContent:"center",background:"#000",borderRadius:8,height:"100%"},"label:DivExceptionWrapper;"),_=(0,v.default)("div",{target:"e1dq6dxd1"})({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:480},"label:DivExceptionContent;"),y=(0,v.default)("div",{target:"e1dq6dxd2"})({marginBottom:25,width:70,height:55},"label:DivIconWrapper;"),b=(0,v.default)("h3",{target:"e1dq6dxd3"})((({theme:e})=>[(0,h.zy)({theme:e,typography:"P3",color:"TextPrimary",fontWeight:"semiBold"}),{fontSize:24,lineHeight:"32px",textAlign:"center",paddingBottom:8,margin:0}]),"label:H3Title;"),x=(0,v.default)("h5",{target:"e1dq6dxd4"})((({theme:e})=>[(0,h.zy)({theme:e,color:"TextTertiary",fontWeight:"normal"}),{fontSize:16,lineHeight:"22px",textAlign:"center",paddingBottom:24,margin:0}]),"label:H5SubTitle;"),w=(0,v.default)(m.A,{target:"e1dq6dxd5"})((({theme:e})=>({width:69,height:69,">path":{fill:e.colors.TextTertiary}})),"label:StyledErrorRobotLarge;"),S=(0,v.default)(p,{target:"e1dq6dxd6"})((({theme:e})=>({width:69,height:69,fillOpacity:.34,">path":{fill:e.colors.TextTertiary}})),"label:StyledCameraSVG;"),C=(0,v.default)("div",{target:"e1dq6dxd8"})((({theme:e})=>({width:69,height:69,fillOpacity:.34,color:e.colors.TextTertiary})),"label:DivVideoSVG;"),I=(0,v.default)("div",{target:"e1dq6dxd9"})((({theme:e})=>({color:e.colors.ConstTextInverse4})),"label:DivRefreshIconWrapper;"),j=(0,s.memo)((e=>{const{title:t,className:o,subTitle:i,onClick:r,buttonText:l,status:a="camera",style:s}=e;return(0,n.jsx)(f,Object.assign({className:o,style:s},{children:(0,n.jsxs)(_,{children:[(0,n.jsxs)(y,{children:["refresh"===a&&(0,n.jsx)(I,{children:(0,n.jsx)(d.r,{color:"ConstTextInverse4",size:72},void 0)},void 0),"tv"===a&&(0,n.jsx)(w,{},void 0),"camera"===a&&(0,n.jsx)(S,{},void 0),"video"===a&&(0,n.jsx)(C,{children:(0,n.jsx)(c.x,{size:80},void 0)},void 0)]},void 0),(0,n.jsx)(b,{children:t},void 0),(0,n.jsx)(x,{children:i},void 0),l&&(0,n.jsx)(u.I0,{variant:"const",size:"large",label:l,onClick:r,style:{minWidth:160,fontWeight:700,borderRadius:"4px"}},void 0)]},void 0)}),void 0)})),k={0:"live_error_network_body",1:"live_error_blocked",3:"pm_mt_nonlogin_room_1",4:"no_live"},R={0:"live_error_network_button",1:"",3:"pm_mt_login_confirm_region_btn",4:"Back"},L=(0,s.memo)((({type:e=0,content:t,status:o="tv",onShow:i,onClick:d})=>{var c;const u=(0,l.s)(),v=(0,a.O4)({isDark:!0});return(0,s.useEffect)((()=>{i&&i(e)}),[i,e]),(0,n.jsx)(r.a,Object.assign({theme:v},{children:(0,n.jsx)(j,{style:{zIndex:50,position:"absolute",top:0,width:"100%"},status:o,subTitle:null!=t?t:u(k[e]),buttonText:u(null!==(c=R[e])&&void 0!==c?c:""),onClick:d},void 0)}),void 0)}))},15888:(e,t,o)=>{o.d(t,{e:()=>a});var i=o(27334),n=o(65622),r=o(15474);const l=(0,o(2032).default)("div",{target:"ebz8wew0"})((({zIndex:e})=>({position:"absolute",top:"50%",left:"50%",zIndex:e,width:48,height:48,transform:"translate(-50%, -50%)"})),"label:DivLoadingWrapper;"),a=(0,n.memo)((e=>{const{loading:t,zIndex:o}=e;return t?(0,i.jsx)(l,Object.assign({zIndex:o},{children:(0,i.jsx)(r.sg,{center:!0},void 0)}),void 0):null}))},65988:(e,t,o)=>{o.d(t,{j:()=>p});var i=o(27334),n=o(65622),r=o(2032),l=o(53240);const a=(0,r.default)("div",{target:"e5mq83r0"})({display:"flex",flexWrap:"nowrap"},"label:DivLiveTagWrapper;"),s=(0,r.default)("div",{target:"e5mq83r1"})((({theme:e,needViewer:t,isSubOnlyLive:o})=>[{display:"flex",marginInlineStart:o?"8px":"0",padding:"0 6px",height:"20px",justifyContent:"center",alignItems:"center",borderRadius:"rtl"===e.direction?"0 4px 4px 0":"4px 0 0 4px",background:o?e.colors.ConstBGMat:"linear-gradient(131deg, #FF1764 0%, #ED3495 94.15%)"},(0,l.zy)({theme:e,typography:"H6",color:"ConstTextInverse",fontWeight:"medium"}),!t&&{borderRadius:"4px"}]),"label:DivLiveTag;"),d=(0,r.default)("div",{target:"e5mq83r2"})({marginInlineEnd:"2px",height:14},"label:DivLiveTagIconWrapper;"),c=(0,r.default)("div",{target:"e5mq83r3"})((({theme:e})=>({display:"flex",height:"20px",padding:"0 4px",justifyContent:"center",alignItems:"center",borderRadius:"rtl"===e.direction?"4px 0 0 4px":"0 4px 4px 0",gap:"4px",background:"rgba(0, 0, 0, 0.5)"})),"label:DivLiveViewer;"),u=(0,r.default)("span",{target:"e5mq83r4"})((({theme:e})=>[(0,l.zy)({theme:e,typography:"H6",color:"ConstTextInverse",fontWeight:"medium"})]),"label:DivLiveViewerNum;");var v=o(15474),m=o(17705),h=o(51802),g=o(52528);const p=(0,n.memo)((function(e){const t=(0,g.s)(),{needViewer:o,viewerCount:n,className:r,isSubOnlyLive:l}=e;return(0,i.jsxs)(a,Object.assign({className:r},{children:[(0,i.jsxs)(s,Object.assign({needViewer:o,isSubOnlyLive:l},{children:[l&&(0,i.jsx)(d,{children:(0,i.jsx)(v.Ft,{icon:m.A,size:14,color:"ConstTextInverse"},void 0)},void 0),t(l?"subLiveShare_webLivePage_chatTextfield_subOnlyNote":"LIVE")]}),void 0),o&&(0,i.jsxs)(c,{children:[(0,i.jsx)(v.Ft,{icon:h.A,size:12,color:"ConstTextInverse"},void 0),(0,i.jsx)(u,{children:n},void 0)]},void 0)]}),void 0)}))},49220:(e,t,o)=>{o.d(t,{a:()=>i,i:()=>r,ml:()=>n,pQ:()=>l});const i=[{query:"(min-width: 50px)",oneRowCount:3},{query:"(min-width: 798px)",oneRowCount:4},{query:"(min-width: 980px)",oneRowCount:5},{query:"(min-width: 1142px)",oneRowCount:6},{query:"(min-width: 1352px)",oneRowCount:7},{query:"(min-width: 1556px)",oneRowCount:8},{query:"(min-width: 1778px)",oneRowCount:9},{query:"(min-width: 2020px)",oneRowCount:10},{query:"(min-width: 2277px)",oneRowCount:11},{query:"(min-width: 2484px)",oneRowCount:12},{query:"(min-width: 2746px)",oneRowCount:13}],n=[{query:"(min-width: 50px)",oneRowCount:2},{query:"(min-width: 1130px)",oneRowCount:3},{query:"(min-width: 1624px)",oneRowCount:4},{query:"(min-width: 2100px)",oneRowCount:5},{query:"(min-width: 2632px)",oneRowCount:6}],r=[{query:"(min-width: 1104px)",oneRowCount:2},{query:"(min-width: 2037px)",oneRowCount:3},{query:"(min-width: 2900px)",oneRowCount:4}],l={small:i,medium:n,large:r}},60573:(e,t,o)=>{o.d(t,{d:()=>d});var i=o(49220);function n(e){return e.reduce(((e,t)=>(e[`@media ${t.query}`]={gridTemplateColumns:`repeat(${t.oneRowCount}, 1fr)`},e)),{})}var r=o(2032);const l=n(i.a),a=n(i.ml),s=n(i.i),d=(0,r.default)("div",{target:"e1dt1qyr0"})((({type:e})=>[{display:"grid",width:"100%",gridTemplateColumns:"repeat(1, 1fr)"},"small"===e&&Object.assign({},l),"medium"===e&&Object.assign({},a),"large"===e&&Object.assign({},s)]),"label:DivBasicRowContainer;")},15124:(e,t,o)=>{o.d(t,{J:()=>a});var i=o(65622),n=o(53193),r=o(48796),l=o(49220);const a=e=>{const t=(0,n.A)((()=>l.pQ[e]),[e]),o=(0,n.A)((()=>t.map((({query:e})=>window.matchMedia(e)))),[]),a=(0,r.A)((()=>{const e=t.slice().reverse().find((e=>window.matchMedia(e.query).matches));return e?e.oneRowCount:1})),s=(0,n.A)((()=>a()),[]),[d,c]=(0,i.useState)(s);return(0,i.useEffect)((()=>{const e=()=>{const e=a();c(e)};return o.forEach((t=>{t.addEventListener("change",e)})),()=>{o.forEach((t=>t.removeEventListener("change",e)))}}),[o,a]),{colCount:d}}},8949:(e,t,o)=>{o.d(t,{it:()=>S});var i=o(27334),n=o(65622),r=o(53193),l=o(48796),a=o(40787),s=o(83162),d=o(77160),c=o(2032),u=o(90701);const v=76,m=(0,c.default)("div",{target:"e1pru98l0"})((({theme:e})=>({position:"absolute",width:28,height:100,background:e.colors.BGCreation,borderRadius:"100px",bottom:(0,u.w)()?54:34})),"label:DivVolumeSlider;"),h=(0,c.default)("div",{target:"e1pru98l2"})((({theme:e})=>({display:"block",position:"absolute",bottom:8,left:12,background:e.colors.ConstTextInverse4,borderRadius:"100px",width:4,height:80,cursor:"pointer"})),"label:DivVolumeBar;"),g=(0,c.default)("div",{target:"e1pru98l3"})((({volume:e,theme:t})=>({display:"block",position:"absolute",bottom:0,left:0,background:t.colors.ConstTextInverse,maxHeight:v,height:Math.round(e/100*v),width:4,borderRadius:"100px",cursor:"pointer"})),"label:DivDragBar;"),p=(0,c.default)("div",{target:"e1pru98l4"})((({volume:e})=>({width:8,height:8,background:"rgb(255, 255, 255)",boxShadow:"rgb(0 0 0 / 26%) 0px 0px 5px 0px",position:"absolute",borderRadius:"50%",left:-2,top:v-Math.round(e/100*v)-2})),"label:DivDot;");var f=o(64572),_=o(92733);const y="volume-icon-id",b="volume-bar-id";var x;!function(e){e[e.MUTE=0]="MUTE",e[e.NORMAL=1]="NORMAL",e[e.LOUD=2]="LOUD"}(x||(x={}));const w={0:(0,i.jsx)(a._,{"data-testid":"volume-mute-icon-id",size:20},void 0),1:(0,i.jsx)(s.F,{"data-testid":"volume-speaker-id",size:20},void 0),2:(0,i.jsx)(s.F,{"data-testid":"volume-larger-id",size:20},void 0)},S=(0,n.memo)((e=>{const{value:t,onVolumeChange:o,onMutedClick:a,muted:s,enableHoverBg:c=!1}=e,[x,S]=(0,n.useState)(!1),C=(0,r.A)((()=>({current:null})),[]),I=(0,r.A)((()=>({current:!1})),[]),j=(0,r.A)((()=>({current:!1})),[]),k=(0,r.A)((()=>({current:t})),[]),R=(0,r.A)((()=>({current:0})),[]),L=(0,r.A)((()=>s?0:t>0&&t<50?1:2),[t,s]),T=(0,r.A)((()=>w[L]),[L]),A=(0,l.A)((e=>{if(C.current){const t=e-C.current.getBoundingClientRect().y,o=v-t;return function(e){return e>100?100:e<0?0:e}(Math.round(o/v*100))}})),P=(0,l.A)((e=>{(0,f.Gu)(e);const t=A(e.clientY);void 0!==t&&o(t)})),E=(0,l.A)((e=>{e.stopPropagation(),k.current=t,I.current=!0})),D=(0,l.A)((()=>{I.current=!1,j.current&&S(!1)})),M=(0,l.A)((e=>{if(e.stopPropagation(),I.current){const t=A(e.clientY);void 0!==t&&o(t)}})),O=(0,l.A)((e=>{(0,f.Gu)(e),a(!s)})),F=(0,l.A)((()=>{j.current=!1,clearTimeout(R.current),S(!0)})),B=(0,l.A)((e=>{e.stopPropagation(),j.current=!0,I.current||(R.current=window.setTimeout((()=>{S(!1)}),100))}));(0,n.useEffect)((()=>(document.addEventListener("mouseup",D),document.addEventListener("mousemove",M),()=>{document.removeEventListener("mouseup",D),document.removeEventListener("mousemove",M)})),[D,M]);const q=(0,r.A)((()=>s?0:t),[s,t]),G=(0,l.A)((e=>{"ArrowDown"!==e.key&&"ArrowUp"!==e.key&&" "!==e.key||(e.stopPropagation(),e.preventDefault()),"Enter"!==e.key&&" "!==e.key||O(e),"ArrowUp"===e.key&&(o(t>90?100:t+10),a(!1)),"ArrowDown"!==e.key||s||o(t<10?0:t-10)})),z=(0,l.A)((e=>{e.stopPropagation(),e.preventDefault(),j.current=!0,I.current||(R.current=window.setTimeout((()=>{S(!1)}),100))}));return(0,i.jsxs)(d.K,Object.assign({onMouseEnter:F,"data-e2e":"volume-icon","data-testid":"control-container",onMouseLeave:B,onFocus:F,onBlur:z,tabIndex:0,onKeyDown:G,role:"button"},{children:[(0,i.jsxs)(m,Object.assign({style:{display:x?"block":"none"},onClick:P,onMouseDown:E,onMouseLeave:B,"data-e2e":"volume-slider","data-testid":"volume-slider"},{children:[(0,i.jsxs)(h,Object.assign({"data-e2e":b,"data-testid":b,ref:C},{children:[(0,i.jsx)(g,{volume:q},void 0),(0,i.jsx)(p,{volume:q},void 0)]}),void 0),(0,u.w)()&&(0,i.jsx)(_.g,{className:"!ms-4 absolute -bottom-20",content:"M"},void 0)]}),void 0),(0,i.jsx)(d.x,Object.assign({enableHoverBg:c,"data-e2e":y,"data-testid":y,onClick:O},{children:T}),void 0)]}),void 0)}))},86921:(e,t,o)=>{o.d(t,{M:()=>P});var i=o(27334),n=o(65622),r=o(2032),l=o(15436),a=o(53240),s=o(79385),d=o(63161);const c=(0,r.default)("div",{target:"e1by88ez0"})({width:"100%",height:"100%",transition:"color, background-color, transform .2s ease-out","&:hover":{transform:"translate3d(0, -6px, 0) scale(1.01, 1.01)"},transform:"translate3d(0, 0, 0)",cursor:"pointer",overflow:"hidden",position:"relative"},"label:DivCategoryCardContainer;"),u=(0,r.default)("div",{target:"e1by88ez1"})({height:0,width:"100%",paddingBottom:"135.14%",position:"relative",overflow:"hidden",borderRadius:8},"label:DivCategoryCardImgResponsive;"),v=(0,r.default)("div",{target:"e1by88ez2"})({height:"100%",width:"100%",position:"absolute",top:0,left:0,background:"transparent"},"label:DivCategoryCardImgWrapper;"),m=(0,r.default)(l.I,{target:"e1by88ez3"})({height:"100%",width:"100%",position:"absolute",top:0,left:0,objectFit:"cover"},"label:StyledCategoryCardImg;"),h=(0,r.default)("h3",{target:"e1by88ez4"})((({theme:e})=>[{display:"-webkit-box",width:"100%",marginTop:8,WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},...(0,a.zy)({theme:e,typography:"P2",color:"TextPrimary",fontWeight:"bold"})]),"label:H3CategoryCardTitle;"),g=(0,r.default)("div",{target:"e1by88ez5"})((({theme:e})=>[{width:"100%",marginTop:4},...(0,a.zy)({theme:e,typography:"P3",color:"TextTertiaryAlt",fontWeight:"normal"})]),"label:DivCategoryCardViewer;"),p=(0,r.default)("div",{target:"e1by88ez6"})((({theme:e})=>({position:"absolute",left:0,top:0,display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",background:e.colors.ConstBGInverse1})),"label:DivFullbackLiveCover;"),f=(0,r.default)("div",{target:"e1by88ez7"})({width:72,height:72,backgroundImage:`url(${s})`,backgroundSize:"100% 100%",backgroundRepeat:"no-repeat"},"label:DivTikTokLogo;"),_=(0,r.default)(d.N_,{target:"e1by88ez8"})({position:"absolute",left:0,top:0,height:"100%",width:"100%",cursor:"pointer",zIndex:5,textDecoration:"none",transaction:"",background:"transparent","&:hover":{textDecoration:"none"}},"label:StyledHoverLink;");var y=o(15474);const b=()=>(0,i.jsxs)(c,{children:[(0,i.jsx)(u,{children:(0,i.jsx)(v,{children:(0,i.jsx)(y.sO,{width:"100%",height:"100%"},void 0)},void 0)},void 0),(0,i.jsx)(y.sO,{width:"90%",height:16,marginBlockStart:8},void 0),(0,i.jsx)(y.sO,{width:"60%",height:14,marginBlockStart:4},void 0)]},void 0);var x=o(29820),w=o(5186),S=o(54764),C=o(52528),I=o(5651),j=o(57063),k=o(31520),R=o(84770);const L=(0,n.memo)((function(e){const{cardTitle:t,cardImg:o,viewers:r,cardTabType:l,handleCardExposure:a,categorySubType:s,handleCardClick:y}=e,b=(0,C.s)(),L=(0,d.W6)(),T=(0,I.Eo)(),A=(0,n.useRef)(null),P=(0,n.useRef)(!1),E=(0,n.useCallback)((e=>{e[0].intersectionRatio<=0||P.current||(a(),P.current=!0)}),[a]),D=(0,n.useMemo)((()=>{if(!l||void 0===s)return"";let e;switch(s){case k.Pd.Game:e=R.vI.liveCategorySingleGaming.replace(":gameTag",(0,x.I)(l));break;case k.Pd.LifeStyle:e=R.vI.liveCategorySingleLifeStyle.replace(":category",l);break;default:e=""}return e}),[l,s]),M=(0,n.useCallback)((e=>{e.preventDefault(),D&&(y(),L.push(D))}),[D,y,L]);(0,w.BL)({callback:E,element:A});const O=(0,n.useMemo)((()=>{let e;return e=r<1e4?(0,S.Z)(Number(r)):(0,S.s)(Number(r)),b("ttlive_webPC_LIVEviewercountPluralization_desc",{num:r}).replace(/\d+/,e)}),[b,r]),[F,{setTrue:B}]=(0,j.A)(!1);return(0,i.jsxs)(c,Object.assign({ref:A},{children:[(0,i.jsx)(u,{children:(0,i.jsx)(v,{children:F||!o?(0,i.jsx)(p,{children:(0,i.jsx)(f,{},void 0)},void 0):(0,i.jsx)(m,{src:o,alt:t,onError:B,showSkeleton:!0},void 0)},void 0)},void 0),(0,i.jsx)(h,{children:t},void 0),!T&&(0,i.jsx)(g,{children:O},void 0),(0,i.jsx)(_,{to:D,title:t,onClick:M},void 0)]}),void 0)}));var T=o(22542),A=o(40123);const P=(0,n.memo)((function(e){const{cardData:t,cardIndex:o,categorySubType:r,categoryInfo:l,sectionIndex:a}=e,s=(0,A.v)(),d=(0,n.useMemo)((()=>function(e){const{cardData:t,categorySubType:o,categoryInfo:i,sectionIndex:n,cardIndex:r}=e;return{sectionType:"content_section",contentSectionTitle:null==i?void 0:i.type,contentSectionOrder:void 0!==n?String(n+1+1):void 0,imprPosition:String(r+1),catalogTitle:0===o?`${null==t?void 0:t.tab_type}_game_catalog`:{mix_talent:"talents_catalog",fashion:"fashion_catalog",outdoor:"outdoors_catalog",chatting:"chatting_catalog"}[(null==t?void 0:t.tab_type)||"fashion"]}}({cardData:t,categorySubType:r,categoryInfo:l,sectionIndex:a,cardIndex:o})),[t,o,a,l,r]),c=(0,n.useMemo)((()=>({content_section_order:d.contentSectionOrder,content_section_title:d.contentSectionTitle,impr_position:d.imprPosition,enter_from_merge:null==s?void 0:s.teaParams.enterFromMerge,enter_method:null==s?void 0:s.teaParams.enterMethod,section_type:d.sectionType,catalog_title:d.catalogTitle})),[null==s?void 0:s.teaParams.enterFromMerge,null==s?void 0:s.teaParams.enterMethod,d]),u=(0,n.useCallback)((()=>{T.h.handleCardShow(Object.assign({},c))}),[c]),v=(0,n.useCallback)((()=>{T.h.handleCardClick(Object.assign({},c))}),[c]);return t&&t.tab_name&&void 0!==r?(0,i.jsx)(L,{categorySubType:r,cardTabType:t.tab_type,cardImg:t.cover_url,cardTitle:t.tab_name,viewers:t.viewer_count||0,handleCardExposure:u,handleCardClick:v},void 0):(0,i.jsx)(b,{},void 0)}))},94818:(e,t,o)=>{o.d(t,{Xh:()=>i,jx:()=>n,mE:()=>r});const i=(0,o(42851).BX)({width:0,height:0}),n=e=>{i.width=e},r=e=>{i.height=e}},1435:(e,t,o)=>{o.d(t,{U:()=>s,f:()=>d});var i=o(16577),n=o.n(i),r=o(48796),l=o(76053),a=o(74404);const s=new class{constructor(){this._eventEmitter=new(n())}emit(e,t){this._eventEmitter.emit(e,t)}on(e,t){this._eventEmitter.on(e,t)}off(e,t){t?this._eventEmitter.off(e,t):this._eventEmitter.removeAllListeners(e)}};function d(e,t){const o=(0,r.A)(t);(0,l.A)((()=>{s.on(e,o)})),(0,a.A)((()=>{s.off(e,o)}))}},62944:(e,t,o)=>{o.d(t,{FA:()=>h,Sf:()=>v,a5:()=>m,ak:()=>g,ix:()=>u});var i=o(65622),n=o(42851),r=o(28143),l=o(18649),a=o(98214),s=o(1435),d=o(63249),c=o(90701);const u=(0,n.BX)({containerRef:(0,n.KR)((0,i.createRef)()),playerWrapperRef:(0,n.KR)((0,i.createRef)()),playMode:"webpage",supportRotate:!1,showingDebugPanel:!1,isStalling:!1,footerActive:!1,hovering:!1,liveType:"video_live",nonStreamingErrorCodeRef:{current:""}}),v=e=>{u.liveType=(0,d.FP)(e)},m=e=>{u.isStalling=e},h=e=>{u.nonStreamingErrorCodeRef.current=e},g=(e,t)=>{const{containerRef:o,playMode:i}=u;if(e===i)return;const n=e,{activePlayer:d}=a.cz;if((0,c.w)()&&!a.cz.playing){const{activePlayer:e}=a.cz;e.status.play()}try{"picture_in_picture"===i?d.pip.exitPIP():"full_screen"===i&&d.fullscreen.exitFullscreen(),"picture_in_picture"===n?d.pip.requestPIP():"full_screen"===n&&d.fullscreen.requestFullscreen(o.current);const a=l.l.getInstance(r.Q),c=a.getActions().setPlayMode(n);a.store.dispatch(c),u.playMode=n,s.U.emit("play_mode_change",{mode:e,type:t})}catch(e){console.error(e)}}},57653:(e,t,o)=>{o.d(t,{X:()=>s});var i=o(34491),n=o(65622),r=o(96046),l=o(28143),a=o(3349);function s(){const e=(0,r.KG)(),t=(0,i.Ph)(a.W,{selector:e=>e.liveRoomUserInfo,dependencies:[]}),{roomInfo:o,isMultiGuestRoom:s,isGuestConnection:d,requestId:c}=(0,i.Ph)(l.Q,{selector:e=>({roomInfo:e.roomInfo,isMultiGuestRoom:e.isMultiGuestRoom,isGuestConnection:e.isGuestConnection,requestId:e.requestId}),dependencies:[]});return(0,n.useMemo)((()=>{var i,n,r,l,a,u,v,m,h,g,p,f,_,y,b,x,w,S,C,I,j,k,R,L,T,A;return{roomId:null!==(i=null==o?void 0:o.id_str)&&void 0!==i?i:null==t?void 0:t.user.roomId,hashTagId:null!==(r=null===(n=null==o?void 0:o.hashtag)||void 0===n?void 0:n.id)&&void 0!==r?r:null===(l=null==t?void 0:t.liveRoom)||void 0===l?void 0:l.hashTagId,anchorId:null!==(u=null===(a=null==o?void 0:o.owner)||void 0===a?void 0:a.id_str)&&void 0!==u?u:null==t?void 0:t.user.id,uniqueId:null!==(h=null!==(m=null===(v=null==o?void 0:o.owner)||void 0===v?void 0:v.display_id)&&void 0!==m?m:null==t?void 0:t.user.uniqueId)&&void 0!==h?h:e,avatarThumb:null!==(_=null!==(f=null===(p=null===(g=null==o?void 0:o.owner)||void 0===g?void 0:g.avatar_thumb)||void 0===p?void 0:p.url_list)&&void 0!==f?f:null==t?void 0:t.user.avatarThumb)&&void 0!==_?_:[],nickname:null!==(b=null===(y=null==o?void 0:o.owner)||void 0===y?void 0:y.nickname)&&void 0!==b?b:null==t?void 0:t.user.nickname,title:null!==(x=null==o?void 0:o.title)&&void 0!==x?x:null===(w=null==t?void 0:t.liveRoom)||void 0===w?void 0:w.title,verified:null!==(C=null===(S=null==o?void 0:o.owner)||void 0===S?void 0:S.verified)&&void 0!==C?C:null===(I=null==t?void 0:t.user)||void 0===I?void 0:I.verified,liveProLabel:(null===(j=null==o?void 0:o.anchor_live_pro_info)||void 0===j?void 0:j.is_live_pro)?null===(k=null==o?void 0:o.anchor_live_pro_info)||void 0===k?void 0:k.label:void 0,followStatus:Number(null===(L=null===(R=null==o?void 0:o.owner)||void 0===R?void 0:R.follow_info)||void 0===L?void 0:L.follow_status)||0,liveRoomMode:null!==(T=null==o?void 0:o.live_room_mode)&&void 0!==T?T:null===(A=null==t?void 0:t.liveRoom)||void 0===A?void 0:A.liveRoomMode,isMultiGuestRoom:s,isGuestConnection:d,requestId:c}}),[o,t,e,s,d,c])}},46655:(e,t,o)=>{o.d(t,{ED:()=>s,RV:()=>a,cu:()=>l});var i,n=o(2032),r=o(26745);!function(e){e[e.Bg=1]="Bg",e[e.Video=2]="Video",e[e.MultiGuest=3]="MultiGuest",e[e.StudioGuest=4]="StudioGuest",e[e.Cohost=5]="Cohost",e[e.Loading=6]="Loading",e[e.Tag=7]="Tag",e[e.AIGCTag=8]="AIGCTag",e[e.GiftTray=9]="GiftTray",e[e.GiftEffect=10]="GiftEffect",e[e.Controls=11]="Controls",e[e.HorizontalStudioGuest=12]="HorizontalStudioGuest",e[e.StallTips=13]="StallTips",e[e.Pause=14]="Pause",e[e.WarningMask=15]="WarningMask",e[e.Prepare=16]="Prepare",e[e.LCC=17]="LCC",e[e.Fatal=18]="Fatal",e[e.End=19]="End",e[e.AvailableInAppOnly=20]="AvailableInAppOnly",e[e.LiveAgeRestricted=21]="LiveAgeRestricted",e[e.SubOnlyLive=22]="SubOnlyLive",e[e.NoStreamMask=23]="NoStreamMask",e[e.KickOutFromRoom=24]="KickOutFromRoom",e[e.SwitchButton=25]="SwitchButton",e[e.DebugPanel=26]="DebugPanel",e[e.Toast=27]="Toast"}(i||(i={}));const l=(0,n.default)("div",{target:"e1wgxyzq0"})({overflow:"hidden",position:"relative",width:"100%",height:"calc(100% - 64px)",backgroundColor:"black",zIndex:1},"label:DivLiveRoomContent;"),a=(0,n.default)("div",{target:"e1wgxyzq1"})({position:"absolute",top:0,left:0,zIndex:2,width:"100%",height:"100%"},"label:DivLiveRoomPlayerWrapper;"),s=(0,n.default)(r.$,{target:"e1wgxyzq2"})((({theme:e})=>[{position:"absolute",bottom:164,width:400,zIndex:30},"ltr"===e.direction?{left:12}:{right:12}]),"label:StyledGiftTray;")},40907:(e,t,o)=>{o.d(t,{BW:()=>d,Em:()=>a,K2:()=>l,Qz:()=>c,YR:()=>v,Y_:()=>s,bQ:()=>u,jR:()=>r});var i=o(65622),n=o(42851);const r=(0,n.BX)({showLiveChat:!1,containerRef:(0,n.KR)((0,i.createRef)()),isGiftHighline:!1,isGiftFlicker:!1,isGiftPanelVisible:!1,openGiftPanelTime:0,openGiftPanelFrom:"",chatRoomContentRef:(0,n.KR)((0,i.createRef)()),chatRoomContainerRef:(0,n.KR)((0,i.createRef)())}),l=e=>{r.isGiftHighline=e},a=e=>{r.isGiftFlicker=e},s=e=>{r.isGiftPanelVisible=e},d=e=>{r.openGiftPanelTime=e},c=e=>{r.openGiftPanelFrom=e},u=e=>{r.kickSource=e},v=e=>{r.hasLeaveRoom=e}},97844:(e,t,o)=>{o.d(t,{Af:()=>h,Ar:()=>I,C$:()=>s,Fj:()=>y,GJ:()=>p,Gg:()=>w,Id:()=>g,KZ:()=>v,Q3:()=>u,QG:()=>C,TK:()=>d,Td:()=>A,Uw:()=>j,V2:()=>f,d5:()=>k,fo:()=>S,ft:()=>D,gB:()=>x,nL:()=>m,ot:()=>b,rv:()=>T,u4:()=>P,yF:()=>_});var i=o(42851),n=o(90433),r=o(63249),l=o(62938);const a={enterRoomState:{getLiveRoomInfo:0,enterRoom:0},enterRoomWithSSR:!1,enterRoomExtra:void 0,enterRoomMessage:void 0,ntpDiff:0,anchorId:"",anchorUniqueId:"",anchorNickname:"",anchorAvatarUri:"",anchorExtra:void 0,secret:void 0,verified:!1,liveProLabel:void 0,liveProType:void 0,scmLabel:void 0,roomId:"",requestId:void 0,hashTagId:void 0,gameTagId:void 0,title:"",programLiveTitle:void 0,background:void 0,isLandscapeRoom:!1,showLiveGate:!1,isSubscriptionRoom:!1,isSubOnlyLiveRoom:!1,isMultiGuestRoom:!1,isGuestConnection:!1,isAnswerRoom:!1,isGateRoom:!1,isAgeGateRoom:!1,isPaidEventRoom:!1,isProgramLiveRoom:!1,isOfficialChannelRoom:!1,liveRoomStatus:0,liveRoomMode:0,playMode:"webpage",reportLinkType:"normal_video_live",isLiveChatEnabled:!0,isLiveChatClosed:!1,liveChatWarningText:void 0,userCount:void 0,likeCount:void 0,totalUserCount:void 0,topGivers:void 0,donationSticker:void 0,subscribeInfo:void 0,anchorFollowStatusMap:{},creatorFollowStatusMap:{},hasSentChatMap:{},streamId:void 0,streamPullData:void 0,needLogin:!1,userRoleType:"audience",isUserMuted:!1,canComment:!0,teaCommonParams:{},isHideBottomGiftContainer:!1},s=(0,i.BX)(a),d=()=>{Object.keys(a).forEach((e=>{s[e]=a[e]}))},c=e=>{e&&e!==s.roomId&&(s.roomId=e)},u=e=>{s.enterRoomWithSSR=e},v=e=>{s.enterRoomState=Object.assign(Object.assign({},s.enterRoomState),e)},m=e=>{var t,o,i,n,r,l,a,d,u,v;const{user:m,stats:h,liveRoom:g}=e||{};c(null!==(t=null==m?void 0:m.roomId)&&void 0!==t?t:""),s.anchorId=null!==(o=null==m?void 0:m.id)&&void 0!==o?o:"",s.anchorUniqueId=null!==(i=null==m?void 0:m.uniqueId)&&void 0!==i?i:"",s.anchorNickname=null!==(n=null==m?void 0:m.nickname)&&void 0!==n?n:"",s.anchorAvatarUri=null!==(a=null!==(l=null!==(r=null==m?void 0:m.avatarThumb)&&void 0!==r?r:null==m?void 0:m.avatarMedium)&&void 0!==l?l:null==m?void 0:m.avatarLarger)&&void 0!==a?a:"",s.anchorExtra={heartCount:null==h?void 0:h.heartCount,followerCount:null==h?void 0:h.followerCount},s.secret=null==m?void 0:m.secret,s.verified=null==m?void 0:m.verified,s.hashTagId=String(null==g?void 0:g.hashTagId),s.gameTagId=String(null==g?void 0:g.gameTagId),s.title=null==g?void 0:g.title,s.liveRoomMode=null==g?void 0:g.liveRoomMode,s.liveRoomStatus=null==g?void 0:g.status,s.programLiveTitle=null===(d=null==g?void 0:g.topFrameSummary)||void 0===d?void 0:d.title,s.isProgramLiveRoom=Boolean(null===(u=null==g?void 0:g.topFrameSummary)||void 0===u?void 0:u.id),s.isPaidEventRoom="1"===String(null===(v=null==g?void 0:g.paidEvent)||void 0===v?void 0:v.paid_type),s.isSubOnlyLiveRoom="1"===String(null==g?void 0:g.liveSubOnly)},h=e=>{var t,o,i,n,r,a,d,u,v,m,h,g,p,f,_,y,b,x,w,S,C,I,j,k,R,L,T,A,P;const{id_str:E,owner:D}=e;var M;c(null!=E?E:""),s.anchorId=null!==(t=null==D?void 0:D.id_str)&&void 0!==t?t:"",s.anchorUniqueId=null!==(o=null==D?void 0:D.display_id)&&void 0!==o?o:"",s.anchorNickname=null!==(i=null==D?void 0:D.nickname)&&void 0!==i?i:"",s.anchorAvatarUri=null!==(a=null===(r=null===(n=null==D?void 0:D.avatar_thumb)||void 0===n?void 0:n.url_list)||void 0===r?void 0:r[0])&&void 0!==a?a:"",s.verified=null==D?void 0:D.verified,s.scmLabel=null==D?void 0:D.scm_label,s.liveProLabel=(null===(d=null==e?void 0:e.anchor_live_pro_info)||void 0===d?void 0:d.is_live_pro)?null===(u=null==e?void 0:e.anchor_live_pro_info)||void 0===u?void 0:u.label:void 0,s.liveProType=(null===(v=null==e?void 0:e.anchor_live_pro_info)||void 0===v?void 0:v.is_live_pro)?null===(m=null==e?void 0:e.anchor_live_pro_info)||void 0===m?void 0:m.live_pro_type:void 0,s.liveRoomMode=null==e?void 0:e.live_room_mode,s.hashTagId=String(null===(h=null==e?void 0:e.hashtag)||void 0===h?void 0:h.id),s.gameTagId=String(null===(p=null===(g=null==e?void 0:e.game_tag)||void 0===g?void 0:g[0])||void 0===p?void 0:p.id),s.title=null==e?void 0:e.title,s.background=null===(_=null===(f=null==e?void 0:e.background)||void 0===f?void 0:f.url_list)||void 0===_?void 0:_[0],s.isAnswerRoom=Boolean(null==e?void 0:e.support_quiz),s.isGateRoom=Boolean(null==e?void 0:e.is_gated_room),s.isLandscapeRoom=1===(null===(y=null==e?void 0:e.room_auth)||void 0===y?void 0:y.Landscape),s.isProgramLiveRoom=Boolean(null===(b=null==e?void 0:e.top_frame_summary)||void 0===b?void 0:b.id),s.programLiveTitle=null===(x=null==e?void 0:e.top_frame_summary)||void 0===x?void 0:x.title,s.isLiveChatEnabled=Boolean(null===(S=null===(w=null==e?void 0:e.room_auth)||void 0===w?void 0:w.Chat)||void 0===S||S),s.likeCount=null!==(C=Number(null==e?void 0:e.like_count))&&void 0!==C?C:0,s.userCount=null!==(I=Number(null==e?void 0:e.user_count))&&void 0!==I?I:0,s.totalUserCount=null!==(k=Number(null===(j=null==e?void 0:e.stats)||void 0===j?void 0:j.total_user))&&void 0!==k?k:0,s.donationSticker=(0,l.V)(null===(R=null==e?void 0:e.deco_list)||void 0===R?void 0:R[0]),s.isOfficialChannelRoom=(0,l.Nc)(e),s.reportLinkType=(0,l.zP)(e),s.subscribeInfo=null==D?void 0:D.subscribe_info,s.isSubscriptionRoom=null===(L=null==D?void 0:D.subscribe_info)||void 0===L?void 0:L.qualification,s.isSubOnlyLiveRoom="1"===String(null==e?void 0:e.live_sub_only),(e=>{const{anchorId:t,followStatus:o=-1}=e;void 0!==t&&(s.anchorFollowStatusMap=Object.assign(Object.assign({},s.anchorFollowStatusMap),{[t]:o}))})({anchorId:null==D?void 0:D.id_str,followStatus:null===(T=null==D?void 0:D.follow_info)||void 0===T?void 0:T.follow_status}),M={hotLevel:null===(P=null===(A=null==e?void 0:e.decisions)||void 0===A?void 0:A.server_features)||void 0===P?void 0:P.hot_level},s.epiDecisions=Object.assign(Object.assign({},s.epiDecisions),M)},g=e=>{s.streamPullData=e},p=e=>{s.streamId=e},f=e=>{s.requestId=e},_=e=>{s.enterRoomExtra=Object.assign({},e)},y=e=>{s.enterRoomMessage=e},b=e=>{s.ntpDiff=null!=e?e:0},x=e=>{s.isSubOnlyLiveRoom=e},w=e=>{s.isPaidEventRoom=e},S=e=>{s.isMultiGuestRoom=e},C=e=>{s.isAgeGateRoom=e},I=e=>{s.liveRoomStatus=e},j=e=>{s.playMode=e},k=e=>{s.showLiveGate=e},R=e=>{s.showTopViewers=e},L=e=>{s.isLiveChatClosed=e},T=e=>{const{roomId:t,hasSentChat:o}=e;void 0!==t&&(s.hasSentChatMap=Object.assign(Object.assign({},s.hasSentChatMap),{[t]:o}))},A=e=>{s.isGuestConnection=e},P=e=>{s.needLogin=e},E=e=>{s.teaCommonParams=Object.assign(Object.assign({},s.teaCommonParams),e)},D=e=>{s.isHideBottomGiftContainer=e};(0,n.u$)(s,"liveRoomMode",(()=>{const e=(0,r.FP)(s.liveRoomMode);E({live_type:e})})),(0,n.u$)(s,"isLiveChatEnabled",(()=>{!1===s.isLiveChatEnabled&&L(!0)})),(0,n.u$)(s,"liveRoomStatus",(()=>{s.liveRoomStatus&&[-7,-5,-10,-4].includes(s.liveRoomStatus)&&L(!0)})),(0,n.u$)(s,"isPaidEventRoom",(()=>{s.isPaidEventRoom&&L(!0)})),(0,n.u$)(s,"isProgramLiveRoom",(()=>{s.isProgramLiveRoom&&R(!1),E({live_lineup_type:s.isProgramLiveRoom?"1":"0"})})),(0,n.u$)(s,"isOfficialChannelRoom",(()=>{s.isOfficialChannelRoom&&(R(!1),s.canComment=false,L(!0))})),(0,n.u$)(s,"enterRoomExtra",(()=>{var e;var t;t=!!(null===(e=s.enterRoomExtra)||void 0===e?void 0:e.is_official_channel),s.isOfficialChannelRoom=t}))},29021:(e,t,o)=>{o.d(t,{Bb:()=>i,Ed:()=>r,Q4:()=>n,XS:()=>l});const i=(0,o(42851).BX)({userCount:0,totalUserCount:0,isFirstCSREnterRoom:!0}),n=e=>{i.userCount=e},r=e=>{i.totalUserCount=e},l=e=>{i.isFirstCSREnterRoom=e}},59582:(e,t,o)=>{o.d(t,{Av:()=>r,BN:()=>i,CK:()=>n,gn:()=>a,xd:()=>l});const i=(0,o(42851).BX)({isCreator:!1,creatorFollowStatusMap:{}}),n=e=>{i.isCreator=e},r=e=>{i.creatorFollowStatusMap=Object.assign(Object.assign({},i.creatorFollowStatusMap),e)},l=e=>{const{uid:t,followStatus:o=-1}=e;void 0!==t&&(i.creatorFollowStatusMap[t]=o)},a=e=>!!e&&Object.keys(i.creatorFollowStatusMap).includes(e)},14760:(e,t,o)=>{o.d(t,{$7:()=>n,T_:()=>r,Uw:()=>l,bA:()=>i});const i=(0,o(42851).BX)({shouldTransparent:!1,shouldDisableToggleTheme:!1}),n=e=>{i.backgroundImage=e},r=e=>{i.shouldTransparent=e},l=e=>{i.shouldDisableToggleTheme=e}},89257:(e,t,o)=>{o.d(t,{K:()=>d});var i=o(65622),n=o(34491),r=o(70091),l=o(96046),a=o(28143),s=o(3349);const d=()=>{var e;const t=(0,l.KG)(),{user:o}=r.t,d=null==o?void 0:o.nickName,c=null==o?void 0:o.uid,{liveRoomUserInfo:u,liveRoomStatus:v}=(0,n.Ph)(s.W,{selector:e=>({liveRoomUserInfo:e.liveRoomUserInfo,liveRoomStatus:e.liveRoomStatus}),dependencies:[]}),{roomInfo:m,isMultiGuestRoom:h,isGuestConnection:g,isAnswerRoom:p,isGateRoom:f,requestId:_,liveType:y,programLiveTopFrameSummary:b,isLandscapeRoom:x,reportLinkType:w}=(0,n.Ph)(a.Q,{selector:e=>({roomInfo:e.roomInfo,isMultiGuestRoom:e.isMultiGuestRoom,isGuestConnection:e.isGuestConnection,isAnswerRoom:e.isAnswerRoom,isGateRoom:e.isGateRoom,requestId:e.requestId,liveType:e.liveType,programLiveTopFrameSummary:e.programLiveTopFrameSummary,isLandscapeRoom:e.isLandscapeRoom,reportLinkType:e.reportLinkType}),dependencies:[]}),S=(0,i.useMemo)((()=>{var e,t,o;return null!==(o=null!==(t=null===(e=null==m?void 0:m.owner)||void 0===e?void 0:e.id_str)&&void 0!==t?t:null==u?void 0:u.user.id)&&void 0!==o?o:""}),[m,u]),C=(0,i.useMemo)((()=>{var e,t,o;return Boolean(null!==(e=null==b?void 0:b.id)&&void 0!==e?e:null===(o=null===(t=null==u?void 0:u.liveRoom)||void 0===t?void 0:t.topFrameSummary)||void 0===o?void 0:o.id)}),[b,null===(e=null==u?void 0:u.liveRoom)||void 0===e?void 0:e.topFrameSummary]),I=(0,i.useMemo)((()=>C&&!f&&[2,3,4].includes(v)),[C,f,v]);return(0,i.useMemo)((()=>{var e,o,i,n,r,l,a,s,v,j,k,R,L,T,A,P,E,D,M,O,F,B,q,G,z,N,U,W,V,$,H,K;return{roomId:null!==(o=null!==(e=null==m?void 0:m.id_str)&&void 0!==e?e:null==u?void 0:u.user.roomId)&&void 0!==o?o:"",anchorId:S,anchorUniqueId:null!==(r=null!==(n=null===(i=null==m?void 0:m.owner)||void 0===i?void 0:i.display_id)&&void 0!==n?n:null==u?void 0:u.user.uniqueId)&&void 0!==r?r:t,anchorNickname:null!==(s=null!==(a=null===(l=null==m?void 0:m.owner)||void 0===l?void 0:l.nickname)&&void 0!==a?a:null==u?void 0:u.user.nickname)&&void 0!==s?s:"",avatarUri:null!==(L=null!==(R=null===(k=null===(j=null===(v=null==m?void 0:m.owner)||void 0===v?void 0:v.avatar_thumb)||void 0===j?void 0:j.url_list)||void 0===k?void 0:k[0])&&void 0!==R?R:null==u?void 0:u.user.avatarThumb)&&void 0!==L?L:"",verified:null!==(A=null===(T=null==m?void 0:m.owner)||void 0===T?void 0:T.verified)&&void 0!==A?A:null===(P=null==u?void 0:u.user)||void 0===P?void 0:P.verified,liveProLabel:(null===(E=null==m?void 0:m.anchor_live_pro_info)||void 0===E?void 0:E.is_live_pro)?null===(D=null==m?void 0:m.anchor_live_pro_info)||void 0===D?void 0:D.label:void 0,liveProType:(null===(M=null==m?void 0:m.anchor_live_pro_info)||void 0===M?void 0:M.is_live_pro)?null===(O=null==m?void 0:m.anchor_live_pro_info)||void 0===O?void 0:O.live_pro_type:void 0,requestId:_,hashtagId:String(null!==(G=null!==(B=null===(F=null==m?void 0:m.hashtag)||void 0===F?void 0:F.id)&&void 0!==B?B:null===(q=null==u?void 0:u.liveRoom)||void 0===q?void 0:q.hashTagId)&&void 0!==G?G:""),liveType:y,isLandscapeRoom:x,title:null!==(z=null==m?void 0:m.title)&&void 0!==z?z:null===(N=null==u?void 0:u.liveRoom)||void 0===N?void 0:N.title,background:null===(W=null===(U=null==m?void 0:m.background)||void 0===U?void 0:U.url_list)||void 0===W?void 0:W[0],isMultiGuestRoom:h,isGuestConnection:g,isAnswerRoom:p,isGateRoom:f,isProgramLive:C,programLiveTitle:null!==(V=null==b?void 0:b.title)&&void 0!==V?V:null===(H=null===($=null==u?void 0:u.liveRoom)||void 0===$?void 0:$.topFrameSummary)||void 0===H?void 0:H.title,showPeopleTotalCount:I,userNickname:d,userId:c,isRoomOwner:c===S,secret:null===(K=null==u?void 0:u.user)||void 0===K?void 0:K.secret,reportLinkType:w}}),[m,u,t,y,h,g,p,f,C,b,I,_,d,c,S,x,w])}},17846:(e,t,o)=>{o.d(t,{W:()=>C});var i=o(34491),n=o(11991),r=o(65622),l=o(48796),a=o(63161),s=o(63249),d=o(65370),c=o(56421),u=o(28143),v=o(37379),m=o(8580),h=o(88251),g=o(227),p=o(50645),f=o(67266),_=o(69775),y=o(12686),b=o(24598),x=o(29021),w=o(97844),S=o(83922);function C(){const e=(0,i.wA)(d.T),{clearInnerRoomList:t}=(0,c.N)((e=>({clearInnerRoomList:e.clearInnerRoomList}))),o=(0,i.wA)(u.Q),{canWatchLive:C}=(0,S.I)(),I=(0,a.W6)(),j=(0,v.nH)(),k=(0,n.Nj)(m.lJ),R=(0,n.Nj)(h.wk),L=(0,i.Ph)(u.Q,{selector:e=>e.roomInfo,dependencies:[]}),{leaderBoardDurationReport:T}=(0,g.V)(),A=(0,b.ZR)(),P=(0,r.useCallback)(((e,t)=>{var o;if(null===(o=e.owner)||void 0===o?void 0:o.display_id){const o=Object.assign(Object.assign(Object.assign({},(0,a.pL)()),{enter_type:"manual"}),t),i=(0,_.B)(e.owner.display_id);I.push(i,o)}}),[I]),E=(0,v.Jd)({defaultVisible:!1,closeable:!0}),D=(0,r.useCallback)(((e,t)=>{s.mx.isSPA=!0;const o=!((null==L?void 0:L.id_str)&&(null==L?void 0:L.id_str)!==(null==e?void 0:e.id_str)&&(0,p.TC)());f.m.cleanEnterRoomDuration(),f.m.enterRoomFromPreview(!0),f.m.setPublicParams({enterMethod:null==t?void 0:t.enter_method,enterFromMerge:null==t?void 0:t.enter_from_merge}),k.setCannotReportForSSR(),k.openCSRReport(o,null==e?void 0:e.id_str),R.setNavigationInfo("spa_router",performance.now()),(0,x.XS)(o)}),[null==L?void 0:L.id_str,k,R]),M=(0,r.useCallback)((t=>{var i,n;if((null==t?void 0:t.id_str)&&(null==L?void 0:L.id_str)!==(null==t?void 0:t.id_str)){o.setRoomInfo(t);const r=(0,y.B)(t);e.updateRoomStream({pullData:null===(i=null==r?void 0:r.live_core_sdk_data)||void 0===i?void 0:i.pull_data,streamId:null==r?void 0:r.id_str}),e.setNeedDestroyPlayer(!1),A&&((0,w.Af)(t),(0,w.GJ)(null==r?void 0:r.id_str),(0,w.Id)(null===(n=null==r?void 0:r.live_core_sdk_data)||void 0===n?void 0:n.pull_data))}}),[e,o,L,A]);return{handlePreloadLiveRoom:(0,l.A)(((e,o,i)=>{var n;C?((null==i?void 0:i.fromPlayerSwitchButton)||t(),D(e,o),M(e),P(e,o)):!j&&(null===(n=e.owner)||void 0===n?void 0:n.display_id)&&E({redirectUrl:`${window.location.origin}${(0,_.B)(e.owner.display_id)}`}),e.id_str!==L&&T()})),handleLiveStreamPreload:M}}},96879:(e,t,o)=>{o.d(t,{_:()=>l});var i=o(65622),n=o(12688),r=o(70091);const l=()=>{var e;const{abTestVersion:t}=r.t,o=null!==(e=(0,n.V7)(t,"live_gift_add_animation"))&&void 0!==e?e:"v0";return(0,i.useMemo)((()=>"v1"===o),[o])}},45379:(e,t,o)=>{o.d(t,{D7:()=>u,Dy:()=>a,He:()=>c,fA:()=>r,kg:()=>s,rO:()=>d,sd:()=>l});var i=o(2032),n=o(53240);const r=(0,i.default)("div",{target:"evtxvlp0"})((({transparent:e,shouldTransparent:t,theme:o})=>[{height:64,background:t?"transparent":e?"linear-gradient(180deg, rgba(0, 0, 0, 0.75) 0%, rgba(0, 0, 0, 0) 100%);":o.colors.BGPrimary,display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:12,paddingBottom:14,position:"relative",width:"100%"},(0,n.mp)({direction:o.direction,paddingStart:"18px",paddingEnd:"16px"})]),"label:DivLiveRoomBanner;"),l=(0,i.default)("div",{target:"evtxvlp1"})((({marginStart:e})=>({display:"flex",marginInlineStart:null!=e?e:8,gap:8})),"label:DivBottomActionContainer;"),a=(0,i.default)("div",{target:"evtxvlp2"})((({marginStart:e})=>({display:"flex",marginInlineStart:null!=e?e:5})),"label:DivRightActionContainer;"),s=(0,i.default)("i",{target:"evtxvlp4"})((({show:e,theme:t})=>[{width:34,height:34,cursor:"pointer",display:e?"flex":"none",justifyContent:"center",alignItems:"center",color:t.colors.TextPrimary},(0,n.jJ)({max:1072,style:{display:"none"}}),(0,n.mp)({direction:t.direction,marginStart:16})]),"label:IChatButton;"),d=(0,i.default)("div",{target:"evtxvlp5"})((({theme:e})=>({display:"flex",justifyContent:"center",alignItems:"center",height:20,minWidth:52,borderRadius:15,cursor:"pointer",padding:"0px 6px",backgroundColor:e.colors.Primary,transition:"all .2s ease-in-out"})),"label:StyledFollowButton;"),c=(0,i.default)("div",{target:"evtxvlp6"})((({theme:e,subscribeTheme:t})=>({display:"flex",justifyContent:"center",alignItems:"center",height:20,minWidth:72,borderRadius:15,cursor:"pointer",padding:"0px 6px",backgroundColor:"primary"===t?e.colors.Primary:e.colors.ConstBGMat})),"label:StyledSubscriptionButton;"),u=(0,i.default)("span",{target:"evtxvlp7"})((({theme:e})=>[(0,n.zy)({theme:e,fontWeight:"medium",color:"ConstTextInverse"}),{wordBreak:"keep-all",whiteSpace:"nowrap",fontSize:11}]),"label:StyledButtonText;")},64139:(e,t,o)=>{o.d(t,{z:()=>Se});var i=o(27334),n=o(65622),r=o(93179),l=o(89257),a=o(11379),s=o(45372),d=o.n(s),c=o(48796),u=o(48792),v=o(52528),m=o(88457),h=o(82477),g=o(26711),p=o(28803),f=o(40907),_=o(59582),y=o(556),b=o(87526),x=o(30363),w=o(2576),S=o(50645),C=o(9772),I=o(62944),j=o(76487),k=o(49283),R=o(23524),L=o(15495);var T,A,P,E=o(36279),D=o(2032),M=o(53240),O=o(82102),F=o(10183);function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)({}).hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},B.apply(null,arguments)}const q=function(e){return n.createElement("svg",B({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 12 12",width:"1em",height:"1em"},e),T||(T=n.createElement("rect",{width:2,height:9,y:3,fill:"white",fillOpacity:.9,rx:.5})),A||(A=n.createElement("rect",{width:2,height:12,x:5,fill:"white",fillOpacity:.9,rx:.5})),P||(P=n.createElement("rect",{width:2,height:8,x:10,y:4,fill:"white",fillOpacity:.9,rx:.5})))},G=(0,D.default)("div",{target:"es1fn270"})((({isFolded:e,maxHeight:t,theme:o})=>[{display:"flex",flexDirection:"column",width:"100%",height:e?200:"auto",maxHeight:`${t}px`,overflowY:"hidden",transition:"height .3s ease",paddingTop:16,position:"relative",borderBottom:"0.5px solid rgba(255, 255, 255, 0.2)"},(0,M.mp)({direction:o.direction,paddingStart:16,paddingEnd:6})]),"label:DivProgramShowListContainer;"),z=(0,D.default)("div",{target:"es1fn271"})((({isFolded:e})=>({display:"flex",flexDirection:"column",flexGrow:1,marginBottom:e?43:41,overflowY:"hidden"})),"label:DivProgramShowInfoWrapper;"),N=(0,D.default)("div",{target:"es1fn272"})((({theme:e})=>[{maxHeight:"64px"},(0,M.mp)({direction:e.direction,paddingEnd:20})]),"label:DivProgramShowTitleWrapper;"),U=(0,D.default)("div",{target:"es1fn273"})((({theme:e})=>[(0,M.zy)({theme:e,typography:"P2",fontWeight:"bold",color:"ConstTextInverse"}),{textShadow:"0px 1px 1px rgba(0, 0, 0, 0.20)",width:"100%",display:"-webkit-box",overflow:"hidden",WebkitLineClamp:"3",WebkitBoxOrient:"vertical",textOverflow:"ellipsis",wordBreak:"break-word"}]),"label:DivProgramShowTitle;"),W=(0,D.default)("div",{target:"es1fn274"})((({theme:e})=>[{maxHeight:"90px",marginBottom:16},(0,M.mp)({direction:e.direction,paddingEnd:20})]),"label:DivProgramShowDescWrapper;"),V=(0,D.default)("div",{target:"es1fn275"})((({theme:e})=>[(0,M.zy)({theme:e,typography:"P3",fontWeight:"normal",color:"ConstTextInverse3"}),{textShadow:"0px 1px 1px rgba(0, 0, 0, 0.20)",lineHeight:"130%",width:"100%",display:"-webkit-box",overflow:"hidden",WebkitLineClamp:"5",WebkitBoxOrient:"vertical",textOverflow:"ellipsis",wordBreak:"break-word"}]),"label:DivProgramShowDesc;"),$=(0,D.default)("div",{target:"es1fn276"})((({isFolded:e,theme:t})=>[{display:"flex",flexDirection:"column",overflowY:e?"hidden":"auto","::-webkit-scrollbar":{width:"3px"},"::-webkit-scrollbar-thumb":{background:"rgba(255, 255, 255, 0.20)"}},(0,M.mp)({direction:t.direction,paddingEnd:10})]),"label:DivProgramShowScheduleWrapper;"),H=(0,D.default)("div",{target:"es1fn277"})((({theme:e})=>[(0,M.zy)({theme:e,typography:"P2",fontWeight:"bold",color:"ConstTextInverse"}),{textShadow:"0px 1px 1px rgba(0, 0, 0, 0.20)"}]),"label:DivProgramShowScheduleTitle;"),K=(0,D.default)("div",{target:"es1fn278"})((({theme:e})=>[(0,M.zy)({theme:e,typography:"P3",fontWeight:"normal",color:"ConstTextInverse3"}),{textShadow:"0px 1px 1px rgba(0, 0, 0, 0.20)"}]),"label:DivProgramShowScheduleTime;"),X=(0,D.default)("div",{target:"es1fn279"})({display:"flex",flexDirection:"column",flex:"1"},"label:DivProgramShowScheduleInfo;"),J=(0,D.default)("div",{target:"es1fn2710"})((({showMask:e})=>Object.assign({pointerEvents:"none",position:"absolute",left:0,bottom:0,zIndex:5,width:"100%",display:"flex",justifyContent:"center",alignItems:"flex-end",height:92,transition:"height .3s ease"},e?{background:"linear-gradient(180deg, rgba(18, 18, 18, 0.00) 0%, rgba(18, 18, 18) 50.54%)"}:{})),"label:DivProgramShowButtonContainer;"),Q=(0,D.default)("div",{target:"es1fn2711"})({display:"flex",justifyContent:"center",alignItems:"center",height:22,marginBottom:22,cursor:"pointer",pointerEvents:"auto"},"label:DivProgramShowButton;"),Z=(0,D.default)("div",{target:"es1fn2712"})((({theme:e})=>[(0,M.zy)({theme:e,typography:"P3",fontWeight:"medium",color:"ConstTextInverse2"}),{display:"flex",alignItems:"center"}]),"label:DivProgramShowButtonText;"),Y=(0,D.default)(O.A,{target:"es1fn2713"})((({theme:e})=>[{width:14,height:14,color:e.colors.ConstTextInverse2},(0,M.mp)({direction:e.direction,marginEnd:6})]),"label:StyledIconChevronDownFill;"),ee=(0,D.default)(F.A,{target:"es1fn2714"})((({theme:e})=>[{width:14,height:14,color:e.colors.ConstTextInverse2},(0,M.mp)({direction:e.direction,marginEnd:6})]),"label:StyledIconChevronUpFill;"),te=(0,D.default)("div",{target:"es1fn2715"})((({theme:e})=>(0,M.mp)({direction:e.direction,marginEnd:5})),"label:StyledIconLivingWrapper;"),oe=(0,D.default)(q,{target:"es1fn2716"})({width:12,height:12},"label:StyledIconLiving;"),ie=(0,D.default)("div",{target:"es1fn2717"})((({isScheduled:e,isFirst:t})=>({display:"flex",flexDirection:"column",paddingTop:e?t?24:0:20})),"label:DivProgramShowItemContainer;"),ne=(0,D.default)("div",{target:"es1fn2718"})({display:"flex",alignItems:"center"},"label:DivProgramShowItemWrapper;"),re=(0,D.default)("div",{target:"es1fn2719"})({display:"flex",flexDirection:"column",transform:"translateY(4px)",height:"100%",alignItems:"center"},"label:DivProgramShowItemLeft;"),le=(0,D.default)("div",{target:"es1fn2720"})((({theme:e,isLast:t})=>[{display:"flex",flexDirection:"column",flex:"1",paddingBottom:t?24:32,overflowX:"hidden"},(0,M.mp)({direction:e.direction,marginStart:16})]),"label:DivProgramShowItemRight;"),ae=(0,D.default)("div",{target:"es1fn2721"})((({isOnStage:e,isNotStarted:t})=>Object.assign({width:6,height:6,background:e?"rgba(246, 246, 246, 1)":"rgba(255, 255, 255, 0.19)",borderRadius:"100%"},t?{background:"transparent",border:"1.5px solid rgba(255, 255, 255, 0.20)"}:{})),"label:DivDot;"),se=(0,D.default)("div",{target:"es1fn2722"})((({theme:e})=>({width:"1.5px",height:"100%",background:e.colors.ConstBGMat})),"label:DivLine;"),de=(0,D.default)("div",{target:"es1fn2723"})((({theme:e})=>({width:1,height:12,background:e.colors.ConstBGMat,margin:"0 8px"})),"label:DivLineSeparator;"),ce=(0,D.default)("div",{target:"es1fn2724"})({display:"flex",alignItems:"center"},"label:DivOnStageTag;"),ue=(0,D.default)("div",{target:"es1fn2725"})((({theme:e,isOnStage:t,isNotStarted:o})=>[(0,M.zy)({theme:e,typography:"P3",fontWeight:"medium",color:t||o?"TextPrimary":"TextQuaternary"}),{display:"flex",alignItems:"center",marginBottom:12}]),"label:DivProgramShowItemTime;"),ve=(0,D.default)("div",{target:"es1fn2726"})((({isScheduled:e})=>({maxHeight:"34px",marginBottom:e?12:20})),"label:DivProgramShowItemDescWrapper;"),me=(0,D.default)("div",{target:"es1fn2727"})((({theme:e})=>[(0,M.zy)({theme:e,typography:"P3",fontWeight:"normal",color:"ConstTextInverse3"}),{fontSize:"13px",width:"100%",display:"-webkit-box",overflow:"hidden",WebkitLineClamp:"2",WebkitBoxOrient:"vertical",textOverflow:"ellipsis",wordBreak:"break-word"}]),"label:DivProgramShowItemDesc;"),he=(0,D.default)("div",{target:"es1fn2728"})((({isScheduled:e})=>({display:"flex",flexDirection:"column",gap:e?12:20,paddingBottom:e?0:24})),"label:DivProgramShowCreatorListWrapper;"),ge=e=>1e3*Number(e.show_start_time)<Date.now()&&1e3*Number(e.show_end_time)>Date.now(),pe=e=>1e3*Number(e.show_start_time)>Date.now();var fe=o(70091);const _e=(0,n.memo)((({showInfo:e,isScheduled:t,roomId:o,isFirst:l,isLast:a,handleFollowClick:s})=>{var d,c;const{language:u="en"}=fe.t,m=(0,v.s)(),{isOnStage:h,isNotStarted:p}=(0,n.useMemo)((()=>t?{isOnStage:ge(e),isNotStarted:pe(e)}:{isOnStage:!1,isNotStarted:!1}),[t,e]),{creatorFollowStatusMap:f}=(0,r.s)(_.BN);return(0,i.jsx)(ie,Object.assign({isFirst:l,isScheduled:t,id:`program_live_show_item_${null==e?void 0:e.show_start_time}`},{children:t?(0,i.jsxs)(ne,{children:[(0,i.jsxs)(re,{children:[(0,i.jsx)(ae,{isOnStage:h,isNotStarted:p},void 0),(0,i.jsx)(se,{},void 0)]},void 0),(0,i.jsxs)(le,Object.assign({isLast:a},{children:[(0,i.jsxs)(ue,Object.assign({isOnStage:h,isNotStarted:p},{children:[(0,g.SV)(Number(e.show_start_time),u,"HH:mm")," -"," ",(0,g.SV)(Number(e.show_end_time),u,"HH:mm"),h&&(0,i.jsxs)(ce,{children:[(0,i.jsx)(de,{},void 0),(0,i.jsx)(te,{children:(0,i.jsx)(oe,{},void 0)},void 0),m("pm_mt_program_onstage_tag")]},void 0)]}),void 0),e.show_introduction&&(0,i.jsx)(ve,Object.assign({isScheduled:!0},{children:(0,i.jsx)(me,{children:e.show_introduction},void 0)}),void 0),(0,i.jsx)(he,Object.assign({isScheduled:!0},{children:null===(d=e.user_detail)||void 0===d?void 0:d.map((e=>{var t,n,r,l,a,d,c,u,v,m,h,g,p;return(0,i.jsx)(E.b,{size:24,avatarUri:null!==(l=null===(r=null===(n=null===(t=null==e?void 0:e.user_info)||void 0===t?void 0:t.avatar_thumb)||void 0===n?void 0:n.url_list)||void 0===r?void 0:r[0])&&void 0!==l?l:"",nickname:null===(a=null==e?void 0:e.user_info)||void 0===a?void 0:a.nickname,uniqueId:null===(d=null==e?void 0:e.user_info)||void 0===d?void 0:d.display_id,userId:null===(c=null==e?void 0:e.user_info)||void 0===c?void 0:c.id_str,currentRoomId:o,followStatus:null!==(m=f[null!==(v=null===(u=null==e?void 0:e.user_info)||void 0===u?void 0:u.id_str)&&void 0!==v?v:""])&&void 0!==m?m:null===(g=null===(h=null==e?void 0:e.user_info)||void 0===h?void 0:h.follow_info)||void 0===g?void 0:g.follow_status,onFollowClick:s},null===(p=null==e?void 0:e.user_info)||void 0===p?void 0:p.id_str)}))}),void 0)]}),void 0)]},void 0):(0,i.jsxs)(i.Fragment,{children:[e.show_introduction&&(0,i.jsx)(ve,Object.assign({isScheduled:!1},{children:(0,i.jsx)(me,{children:e.show_introduction},void 0)}),void 0),(0,i.jsx)(he,Object.assign({isScheduled:!1},{children:null===(c=e.user_detail)||void 0===c?void 0:c.map((e=>{var t,n,r,l,a,d,c,u,v,m,h,g,p;return(0,i.jsx)(E.b,{size:32,avatarUri:null!==(l=null===(r=null===(n=null===(t=null==e?void 0:e.user_info)||void 0===t?void 0:t.avatar_thumb)||void 0===n?void 0:n.url_list)||void 0===r?void 0:r[0])&&void 0!==l?l:"",nickname:null===(a=null==e?void 0:e.user_info)||void 0===a?void 0:a.nickname,uniqueId:null===(d=null==e?void 0:e.user_info)||void 0===d?void 0:d.display_id,userId:null===(c=null==e?void 0:e.user_info)||void 0===c?void 0:c.id_str,currentRoomId:o,followStatus:null!==(m=f[null!==(v=null===(u=null==e?void 0:e.user_info)||void 0===u?void 0:u.id_str)&&void 0!==v?v:""])&&void 0!==m?m:null===(g=null===(h=null==e?void 0:e.user_info)||void 0===h?void 0:h.follow_info)||void 0===g?void 0:g.follow_status,onFollowClick:s},null===(p=null==e?void 0:e.user_info)||void 0===p?void 0:p.id_str)}))}),void 0)]},void 0)}),void 0)})),ye=(0,n.memo)((({roomId:e,onClose:t})=>{var o;const{language:s="en"}=fe.t,{userId:T,isRoomOwner:A}=(0,l.K)(),P=(0,v.s)(),{handleProgramLiveScheduleActionReport:E,handleFollowClickReport:D}=(()=>{const{anchorId:e,roomId:t,userId:o,liveType:i,isGuestConnection:a,reportLinkType:s}=(0,l.K)(),{playMode:d}=(0,r.s)(I.ix),{isDark:u}=(0,y.u)(),v=(0,w.OB)(!0);return{handleProgramLiveScheduleActionReport:(0,n.useCallback)((o=>{const{iconType:i}=o;b.hv.handleProgramLiveScheduleAction(Object.assign(Object.assign({},(0,S.Gc)()),{anchor_id:e,room_id:t,action_type:"click",icon_type:i}))}),[]),handleFollowClickReport:(0,c.A)((n=>{const{initialFollowStatus:r,followStatus:l,fromRole:c,toRole:m,toUserId:h}=n,g=(0,C.g)(r)?0:1,p="anchor"===m||h===e,f="anchor"===c||o===e,_=Object.assign(Object.assign({},(0,S.Gc)()),{play_mode:d,is_guest_connection:a?"1":"0",is_dark_mode:u?"1":"0",is_personalized:v?"1":"0",live_type:i,user_id:o,room_id:t,anchor_id:e,to_user_id:h,follow_status:l,click_user_position:"program_live_list",connection_type:s});1===g?x.SA.handleFollowUser(p,_,f,c,m):x.SA.handleUnFollowUser(p,_,f,c,m)}))}})(),[M,O]=(0,n.useState)(!0),[F,B]=(0,n.useState)({}),[q,te]=(0,n.useState)(),oe=(0,n.useMemo)((()=>{var e,t;return Boolean(null===(t=null===(e=null==F?void 0:F.show_info_list)||void 0===e?void 0:e.filter((e=>e.show_start_time)))||void 0===t?void 0:t.length)}),[F]),ie=(0,c.A)((()=>(0,a.sH)(void 0,void 0,void 0,(function*(){var t,o;if(e){const{data:i,isSuccess:n}=yield(o={roomId:e,userId:T},(0,a.sH)(void 0,void 0,void 0,(function*(){var e;const{roomId:t,userId:i}=o;try{L.qQ.cancelQueries({queryKey:["ProgramShowInfoData",t]});const o=yield L.qQ.fetchQuery({queryKey:["ProgramShowInfoData",t],queryFn:()=>(0,a.sH)(void 0,void 0,void 0,(function*(){return(0,j.k)({room_id:t})})),retry:2,staleTime:0}),{data:n,status_code:r,message:l}=o,s=0===r;return s&&((e,t)=>{var o,i;const n=null!==(i=null===(o=null==e?void 0:e.top_frame)||void 0===o?void 0:o.show_info_list)&&void 0!==i?i:[],r=Boolean(t&&(null==n?void 0:n.some((e=>{var o;return null===(o=null==e?void 0:e.user_detail)||void 0===o?void 0:o.some((e=>{var o;return(null===(o=e.user_info)||void 0===o?void 0:o.id_str)===t}))})))),l=n?null==n?void 0:n.reduce(((e,t)=>{var o;return null===(o=null==t?void 0:t.user_detail)||void 0===o||o.forEach((t=>{var o,i,n;const r=null===(o=t.user_info)||void 0===o?void 0:o.id_str;r&&(e[r]=null===(n=null===(i=t.user_info)||void 0===i?void 0:i.follow_info)||void 0===n?void 0:n.follow_status)})),e}),{}):{};(0,_.CK)(r),(0,_.Av)(l)})(n,i),k.c.handleApiReport({httpPath:j.h,httpCode:200,statusCode:r,errorMsg:null!==(e=null==n?void 0:n.prompts)&&void 0!==e?e:l},s),{isSuccess:s,data:n}}catch(e){const t=(0,R.wm)(e);return k.c.handleApiReport({httpPath:j.h,httpCode:null==e?void 0:e.status,errorType:t?"CancelledError":null==e?void 0:e.name,errorMsg:JSON.stringify(e)},!1),{data:{},isSuccess:!1}}})));B(null!==(t=null==i?void 0:i.top_frame)&&void 0!==t?t:{}),te(n)}})))),ne=(0,n.useRef)(null),re=(0,n.useRef)(null),le=(0,n.useRef)(null),ae=(0,n.useCallback)((()=>{var e;try{null===(e=le.current)||void 0===e||e.scrollTo({top:0,behavior:"smooth"})}catch(e){}}),[le]);(0,n.useEffect)((()=>{ie()}),[e]),(0,u.A)((()=>{!1===q&&(null==t||t())}),[q]),(0,u.A)((()=>{var e,t;if(!M&&oe){const o=String(null===(t=null===(e=F.show_info_list)||void 0===e?void 0:e.find(ge))||void 0===t?void 0:t.show_start_time);o&&(e=>{try{const t=document.querySelector(`#program_live_show_item_${e}`);t&&t.scrollIntoView({block:"center",behavior:"smooth"})}catch(e){console.log("debug program live onStageShowItem error",JSON.stringify(e))}})(o)}}),[oe,M]);const se=(0,n.useCallback)((()=>{M||ae(),O(!M),E({iconType:M?"see_more":"see_less"})}),[M]),[de,ce]=(0,n.useState)(200),{chatRoomContentRef:ue}=f.jR,ve=(0,n.useCallback)((()=>{if(!(null==ue?void 0:ue.current)||!q)return;const{offsetHeight:e}=ue.current;ce(.6*e)}),[ue,q]);(0,n.useEffect)((()=>{q&&!(0,m.fU)()&&ve()}),[ve]),(0,h.w)({element:ue,callback:ve});const{detectComponent:me,isInViewValue:he}=(0,p.O)({onScrollToBottom:d()}),{isCreator:pe}=(0,r.s)(_.BN),ye=(0,n.useCallback)((e=>{D(Object.assign(Object.assign({},e),{fromRole:A?"official":pe?"anchor":"audience",toRole:"anchor"}));const{toUserId:t,followStatus:o,initialFollowStatus:i}=e;void 0!==o&&o!==i&&(0,_.xd)({uid:t,followStatus:o})}),[pe,A]);return q?(0,i.jsxs)(G,Object.assign({isFolded:M,maxHeight:de},{children:[(0,i.jsxs)(z,Object.assign({ref:le},{children:[(0,i.jsx)(N,{children:(0,i.jsx)(U,Object.assign({ref:ne},{children:F.sub_title}),void 0)},void 0),F.describe&&(0,i.jsx)(W,{children:(0,i.jsx)(V,Object.assign({ref:re},{children:F.describe}),void 0)},void 0),(0,i.jsxs)($,Object.assign({isFolded:M},{children:[(0,i.jsx)(H,{children:P("ttlive_programmedLiveWeb_liveScreen_scheduleSection_title")},void 0),(0,i.jsxs)(K,{children:[(0,g.SV)(Number(F.start_time),s,"ll"),", ",(0,g.SV)(Number(F.start_time),s,"hh:mm a")," -",(0,g.SV)(Number(F.end_time),s,"hh:mm a")]},void 0),(0,i.jsx)(X,{children:null===(o=F.show_info_list)||void 0===o?void 0:o.map(((t,o)=>{var n;return(0,i.jsx)(_e,{showInfo:t,roomId:e,isScheduled:oe,isFirst:0===o,isLast:o===Number(null===(n=null==F?void 0:F.show_info_list)||void 0===n?void 0:n.length)-1,handleFollowClick:ye},t.show_start_time)}))},void 0),me]}),void 0)]}),void 0),(0,i.jsx)(J,Object.assign({showMask:!1===he},{children:(0,i.jsxs)(Q,Object.assign({onClick:se,isFolded:M},{children:[M?(0,i.jsx)(Y,{},void 0):(0,i.jsx)(ee,{},void 0),(0,i.jsx)(Z,{children:P(M?"ttlive_programmedLiveWeb_liveScreen_scheduleSection_seeMoreBtn":"ttlive_programmedLiveWeb_liveScreen_scheduleSection_seeLessBtn")},void 0)]}),void 0)}),void 0)]}),void 0):null}));var be=o(42851);const xe=(0,be.BX)({currentCard:void 0}),we=(0,D.default)("div",{target:"ekz68bn0"})({display:"flex",flexDirection:"column",height:"auto",position:"relative"},"label:DivChatTopContainer;"),Se=()=>{const{hasProgramShowList:e,roomId:t}=(()=>{const{roomId:e,isProgramLive:t=!1}=(0,l.K)();return{roomId:e,hasProgramShowList:Boolean(t)}})(),{currentCard:o}=(0,r.s)(xe);(0,n.useEffect)((()=>{e?(e=>{var t,o;const{currentCard:i}=xe;(null===(t=null==i?void 0:i.params)||void 0===t?void 0:t.roomId)===(null===(o=null==e?void 0:e.params)||void 0===o?void 0:o.roomId)&&Number(null==i?void 0:i.priority)>=(null==e?void 0:e.priority)||(xe.currentCard=e)})({type:"programShowList",priority:1,params:{roomId:t}}):xe.currentCard=void 0}),[e,t]);const a=(0,n.useCallback)((()=>{(({roomId:e})=>{var t;const{currentCard:o}=xe;e===(null===(t=null==o?void 0:o.params)||void 0===t?void 0:t.roomId)&&(xe.currentCard=void 0)})({roomId:t})}),[]);return{hasChatTopCard:(0,n.useMemo)((()=>Boolean(o)),[o]),chatTopCard:(0,n.useMemo)((()=>{var e,t;return(0,i.jsx)(we,{children:"programShowList"===(null==o?void 0:o.type)&&(null===(e=null==o?void 0:o.params)||void 0===e?void 0:e.roomId)&&(0,i.jsx)(ye,{roomId:null===(t=null==o?void 0:o.params)||void 0===t?void 0:t.roomId,onClose:a},void 0)},void 0)}),[o,t])}}},91989:(e,t,o)=>{o.d(t,{Gr:()=>d,Y9:()=>m,jP:()=>c});var i=o(2032),n=o(5530),r=o(53240),l=o(31864),a=o(16184),s=o(24142);const d=(0,i.default)("div",{target:"e205vgw0"})({display:"flex",flexDirection:"column",position:"relative",width:"100%",height:`calc(100% - ${l.Dx}px)`},"label:DivChatRoomContent;"),c=(0,i.default)("div",{target:"e205vgw1"})({position:"absolute",zIndex:5,width:"100%",top:"50px"},"label:DivChatRoomModeratorTipsContainer;"),u=(0,n.i7)({from:{opacity:0,transform:"translateX(100px)"},to:{opacity:1,transform:"translateX(0)"}}),v=(0,n.i7)({from:{opacity:1,transform:"translateX(0)"},to:{opacity:0,transform:"translateX(100px)",display:"none"}}),m=(0,i.default)("div",{target:"e205vgw2"})((({visible:e,theater:t,theme:o})=>{const i="rtl"===o.direction;return[{borderLeft:e&&!i?`1px solid ${o.colors.LineSecondary}`:"none",borderRight:e&&i?`1px solid ${o.colors.LineSecondary}`:"none",minHeight:520,height:t?"100vh":`calc(100vh - ${(0,s.$)()}px)`,display:"flex",flexDirection:"column",position:"relative",width:e?a.Z5:0,overflow:e?"initial":"hidden",zIndex:1,animation:e?`${u} cubic-bezier(0.33, 0.86, 0.2, 1) 200ms`:`${v} cubic-bezier(0.33, 0.86, 0.2, 1) 200ms`,animationFillMode:"forwards"},(0,r.jJ)({max:1072,style:{display:"none"}})]}),"label:DivChatRoomAnimationContainer;")},42916:(e,t,o)=>{o.d(t,{R:()=>n});var i=o(46381);const n=e=>(0,i.h)("/webcast/room/check_alive/",{query:e,baseUrlType:4})},17072:(e,t,o)=>{o.d(t,{_:()=>h,q:()=>m});var i=o(11379),n=o(65622),r=o(99338),l=o(7603),a=o(8580),s=o(11991),d=o(15495),c=o(36505);const u=["DrawerTabListData",d.W_],v=e=>(0,r.p)({scene:e}),m=e=>(0,i.sH)(void 0,void 0,void 0,(function*(){yield d.qQ.ensureQueryData({queryKey:[...u,e],queryFn:()=>v(e)})})),h=e=>{const{data:t,isSuccess:o,isError:i,error:r}=(0,l.I)({queryKey:[...u,e],queryFn:()=>v(e),staleTime:c.Sd}),d=(0,s.Nj)(a.lJ);return(0,n.useEffect)((()=>{o&&d.handleLiveFeedTabSuccess(),i&&d.handleLiveFeedTabFail(r)}),[o,i]),{data:null==t?void 0:t.data,isSuccess:o}}},48372:(e,t,o)=>{o.d(t,{$:()=>u});var i=o(53193),n=o(58801),r=o(68298),l=o(84770),a=o(29820),s=o(17072);const d=e=>{var t,o,i;const n=(null===(t=null==e?void 0:e.find((e=>"gaming"===e.tab_type)))||void 0===t?void 0:t.sub_tabs)||[],s=(null===(i=null===(o=null==e?void 0:e.find((e=>"lifestyle"===e.tab_type)))||void 0===o?void 0:o.sub_tabs)||void 0===i?void 0:i.filter((e=>"lifestyle"===e.tab_type)))||[],d=n.map((e=>((e,t,o=!1)=>({key:`${t||e}`,key2:`${e}`,path:`${l.vI.liveGaming}/${(0,a.I)(e)}`,isSingleGameCategory:!0,relatedLiveTag:e,channelId:1111006,reqFrom:"pc_web_game_sub_feed_refresh",reqFromMore:"pc_web_game_sub_feed_loadmore",feedType:`gameInFeed_${e}`,isInitTab:o,teaParams:{switchMode:`category_game_${e}`,enterFromMerge:`category_game_${e}`,enterMethod:"live_cover",switchType:"enter_url",is_tab_icon:r.qw.common,is_top_tab:r.qw.common}}))(e.tab_type||"",e.tab_name)));return[...s.map((e=>{return t=e.tab_type||"",{key:`${e.tab_name}`,key2:`${t}`,path:`${l.vI.liveLifestyle}`,isSingleGameCategory:!0,relatedLiveTag:t,channelId:1222001,reqFrom:"webapp_taxonomy_drawer_enter_feed",reqFromMore:"webapp_taxonomy_drawer_feed_loadmore",feedType:"lifestyleInFeed",isInitTab:!1,teaParams:{switchMode:"lifestyle",enterFromMerge:"live_lifestyle",enterMethod:"live_cover",switchType:"enter_url",is_tab_icon:r.qw.common,is_top_tab:r.qw.common}};var t})),...d]},c=e=>(null==e?void 0:e.filter((e=>!e.is_not_show_tab)).map((e=>((e,t)=>{let o=l.vI.liveCategoryGaming;return"lifestyle"===e&&(o=l.vI.liveCategoryLifestyle),{key:`${t}`,key2:`${e}`,path:o,isSingleGameCategory:!0,relatedLiveTag:e,channelId:1222001,reqFrom:"webapp_taxonomy_drawer_enter_feed",reqFromMore:"webapp_taxonomy_drawer_feed_loadmore",feedType:"lifestyleInFeed",isInitTab:!1,teaParams:{switchMode:"lifestyle",enterFromMerge:"live_lifestyle",enterMethod:"live_cover",switchType:"enter_url",is_tab_icon:r.qw.common,is_top_tab:r.qw.common}}})(e.tab_type,e.tab_name))))||[];function u(e){const t=(0,i.A)((()=>"liveFeed"===e?0:2),[e]),{data:o,isSuccess:r}=(0,s._)(t),l=(0,i.A)((()=>n.p.filter((e=>"eventInFeed"!==e.feedType))),[n.p]);return{tabsConfig:(0,i.A)((()=>"liveCategory"===e?r?[...n.b,...c(o)]:n.b:r?[...l,...d(o)]:l),[o,r,e,n.b]),isSuccess:r}}},36279:(e,t,o)=>{o.d(t,{b:()=>C});var i=o(11379),n=o(27334),r=o(65622),l=o(15474),a=o(52528),s=o(37379),d=o(9772),c=o(17012),u=o(49283),v=o(1365),m=o(54086),h=o(2032),g=o(63161),p=o(53240),f=o(8171);const _=(0,h.default)(g.N_,{target:"emfouts0"})({display:"flex",alignItems:"center",maxWidth:"100%",textDecoration:"none","&:hover":{textDecoration:"none"}},"label:StyledProfileLink;"),y=(0,h.default)("div",{target:"emfouts1"})((({size:e})=>({width:"100%",height:e,display:"flex",justifyContent:"space-between",alignItems:"center"})),"label:DivAnchorFollowWrapper;"),b=(0,h.default)("div",{target:"emfouts2"})((({size:e,theme:t})=>[{height:e,display:"flex",alignItems:"center",flexGrow:"1",overflow:"hidden"},(0,p.mp)({direction:t.direction,marginEnd:4})]),"label:DivAnchorInfo;"),x=(0,h.default)("div",{target:"emfouts3"})((({size:e,isLiving:t=!1,theme:o})=>[(0,p.mp)({direction:o.direction,marginEnd:8}),{height:e,width:e,flexShrink:0,display:"flex",justifyContent:"center",alignItems:"center",background:o.colors.BGPrimary,borderRadius:"50%",border:t?`1px solid ${o.colors.Primary}`:0}]),"label:StyledAvatarWrapper;"),w=(0,h.default)(f.I,{target:"emfouts4"})((({size:e,isLiving:t})=>({width:t?e-4:e,height:t?e-4:e,borderRadius:"100%"})),"label:StyledAvatar;"),S=(0,h.default)("div",{target:"emfouts5"})((({size:e})=>({height:e,display:"flex",alignItems:"center",justifyContent:"center"})),"label:DivFollowContainer;"),C=e=>{const{loading:t,size:o,avatarUri:h,nickname:g,uniqueId:p,currentRoomId:f,userId:C,isLiving:I,followStatus:j,disableUnFollow:k,onAvatarClick:R,onFollowClick:L}=e,T=(0,a.s)(),A=(0,r.useMemo)((()=>I?`/@${p}/live`:`/@${p}`),[I,p]),{textSize:P,buttonSize:E}=(0,r.useMemo)((()=>{switch(o){case 24:default:return{textSize:"P4-Medium",buttonSize:"tiny"};case 32:return{textSize:"P3-Medium",buttonSize:"small"}}}),[o]),D=(0,r.useCallback)((e=>{e.stopPropagation(),null==R||R()}),[]),M=(0,r.useMemo)((()=>(0,d.g)(j)),[j]),{handleUpdateRelation:O,isLoading:F}=(()=>{const{mutateAsync:e,isLoading:t}=(0,v.n)({mutationFn:e=>(0,c.F)({current_room_id:e.currentRoomId,follow_type:e.isFollowing?0:1,to_user_id:e.toUserId}),onSuccess:(e,t)=>{var o,i,n;const{status_code:r,data:l}=e,a=0===r;u.c.handleApiReport({httpPath:c.i,httpCode:200,statusCode:r,errorMsg:null==l?void 0:l.prompts},a,"live_sdk_api_follow_user"),0===r?null===(o=t.handleFollowStatus)||void 0===o||o.call(t,null==l?void 0:l.follow_status):(m.F.open({content:null!==(i=null==l?void 0:l.prompts)&&void 0!==i?i:"",duration:3}),null===(n=t.handleFollowStatus)||void 0===n||n.call(t))},onError:e=>{u.c.handleApiReport({httpPath:c.i,httpCode:null==e?void 0:e.status,errorType:null==e?void 0:e.name,errorMsg:null==e?void 0:e.message},!1,"live_sdk_api_follow_user")}});return{handleUpdateRelation:e,isLoading:t}})(),B=(0,s.nH)(),q=(0,s.Jd)({defaultVisible:!1,closeable:!0}),G=(0,r.useCallback)((()=>(0,i.sH)(void 0,void 0,void 0,(function*(){F||(B?yield O({currentRoomId:f,toUserId:C,isFollowing:M,handleFollowStatus:e=>{null==L||L({initialFollowStatus:j,followStatus:e,toUserId:C})}}):q({enterMethod:"click_follow"}))}))),[F,M]);return t?(0,n.jsxs)(b,Object.assign({size:o},{children:[(0,n.jsx)(w,{src:h,size:o,skeleton:"avatar"},void 0),(0,n.jsx)(l.sO,{height:o,width:120,marginInlineStart:8},void 0)]}),void 0):(0,n.jsxs)(y,Object.assign({size:o},{children:[(0,n.jsx)(b,Object.assign({size:o},{children:(0,n.jsxs)(_,Object.assign({to:A,target:I?"_self":"_blank",rel:"noreferrer noopener",onClick:D},{children:[(0,n.jsx)(x,Object.assign({size:o,isLiving:I},{children:(0,n.jsx)(l.pf,{size:o,src:h},void 0)}),void 0),(0,n.jsx)(l.Fm,Object.assign({inline:!0,truncate:!0,nowrap:!0,type:P,color:"TextPrimary"},{children:g}),void 0)]}),void 0)}),void 0),(0,n.jsx)(S,Object.assign({size:o},{children:(0,n.jsx)(l.I0,{size:E,style:{borderRadius:"5px"},loading:F,variant:M?"secondary":"primary",disabled:M&&k,label:T(M?"ttlive_programmedLiveWeb_liveScreen_multiCreatorRecomModal_followingBtn":"ttlive_programmedLiveWeb_liveScreen_multiCreatorRecomModal_followBtn"),onClick:G},void 0)}),void 0)]}),void 0)}},63323:(e,t,o)=>{o.d(t,{AI:()=>n,NO:()=>r,Y2:()=>s,ae:()=>a,vr:()=>i,zU:()=>l});const i=(0,o(42851).BX)({permanent:!1,p0:!0,p1:!1,_p2:!1,get p2(){return this.p1&&this._p2}});function n(){i.p1||(i.p1=!0)}function r(){i._p2||(i.permanent=!0,i._p2=!0)}function l(){i.permanent||(i.permanent=!0)}function a(){setTimeout((()=>{n()}),3500),setTimeout((()=>{r()}),5500)}function s(){setTimeout((()=>{i.permanent=!0}),5500)}},48776:(e,t,o)=>{o.d(t,{L:()=>k});var i=o(27334),n=o(65622),r=o(87700),l=o(57063),a=o(52528),s=o(5651),d=o(5186),c=o(12686),u=o(43018),v=o(82103),m=o(42851),h=o(33919),g=o(54764),p=o(89966),f=o(75637),_=o(76053),y=o(74404),b=o(35076);var x=o(93854);const w=(0,o(2032).default)("div",{target:"edtc51j0"})((({showPlayer:e})=>({width:"100%",height:"100%",position:"absolute",left:0,top:0,opacity:e?1:0})),"label:DivPlayerWrapper;");var S=o(83420);const C=(0,n.memo)((function(e){const{streamUrl:t,showPlayer:o,handlePreviewPlayFail:r,handlePreviewPlayStart:l,handlePreviewPlayEnd:a}=e,s=(0,n.useRef)(null),{url:d,secretKey:c}=(0,n.useMemo)((()=>function(e){if(!e)return{url:""};const{streamItems:t,secretKey:o}=(e=>{var t,o;const i=null===(t=null==e?void 0:e.live_core_sdk_data)||void 0===t?void 0:t.pull_data;if(i){const{streamData:e}=b.XA(i);if(e.data){const t=b.RX(e);return{streamItems:b.Ay(b.e8(e,t)),secretKey:null===(o=e.common)||void 0===o?void 0:o.drm_secret_key}}}return{streamItems:[]}})(e);return{url:t[t.length-1].url.mainFLV||t[t.length-1].url.backupFLV||"",secretKey:o}}(t)),[t]);return(0,_.A)((()=>{s.current&&(0,x.J)({player:void 0,config:{url:(0,S.sv)(d),volume:0,playerContainer:s.current,autoplay:!0,mute:!0,autoplayMuted:!0,landscapeScale:!0,flvlive:c?void 0:{keyStr:c}},onPlaying:l,onPause:a,onError:r,onCreateError:r})})),(0,y.A)((()=>{null==a||a(),(0,x.w)()})),(0,i.jsx)(w,{ref:s,showPlayer:o},void 0)}));var I=o(9386),j=o(23298);const k=(0,n.memo)((function(e){var t,o,_,y,b,x,w,S,k;const{liveData:R,roomUrl:L,hoverAnimation:T,titleLine:A,handleCardExposure:P,handleCardClick:E,handlePreviewPlayFail:D,handleCardHover:M,handlePreviewPlayStart:O,handlePreviewPlayEnd:F}=e,B=(0,a.s)(),q=(0,s.Eo)(),{viewerCount:G,avatarImgUrl:z,coverUrl:N,displayId:U}=function(e){var t,o,i,r,l;const a=(0,n.useMemo)((()=>{var t;const o=Number(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.user_count)||0;return o<1e4?(0,g.Z)(o):(0,g.s)(o)}),[null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.user_count]),s=(0,n.useMemo)((()=>{var t,o,i;return(0,p.Q)(null===(i=null===(o=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.owner)||void 0===o?void 0:o.avatar_thumb)||void 0===i?void 0:i.url_list)}),[null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.owner]),d=(0,n.useMemo)((()=>{var t,o;return(0,p.Q)(null===(o=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.blurred_cover)||void 0===o?void 0:o.url_list)}),[null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.blurred_cover]),c=(0,n.useMemo)((()=>{var t,o,i;return(0,p.Q)(null===(i=null===(o=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.owner)||void 0===o?void 0:o.avatar_medium)||void 0===i?void 0:i.url_list)}),[null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.owner]),u=(0,n.useMemo)((()=>{var t,o;return null===(o=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.owner)||void 0===o?void 0:o.display_id}),[null===(l=null==e?void 0:e.data)||void 0===l?void 0:l.owner]),v=(0,n.useMemo)((()=>(0,f.j)(null==e?void 0:e.data)),[null==e?void 0:e.data]),m=(0,n.useMemo)((()=>(null==v?void 0:v[0])===c),[v,c]);return{viewerCount:a,avatarImgUrl:s,mediumAvatarImgUrl:c,displayId:u,coverUrl:v,isAvatarImgUrl:m,blurredAvatarImgUrl:d}}(R),{isHover:W,showPlayer:V,handleHover:$}=function(){const[e,t]=(0,n.useState)(!1),[o,i]=(0,n.useState)(!1),{run:r}=(0,v.A)((e=>{t(e)}),{wait:200});return(0,n.useEffect)((()=>{const t=(0,m.B1)(h.$,(()=>{i(e&&h.$.playing&&!h.$.error)}));return e||(i(!1),t()),()=>{i(!1),t()}}),[e]),{isHover:e,showPlayer:o,handleHover:r}}(),H=(0,c.B)(null==R?void 0:R.data),K=(0,n.useRef)(null),X=(0,n.useRef)(!1),J=(0,n.useCallback)((e=>{e[0].intersectionRatio<=0||X.current||(P(),X.current=!0)}),[P]);(0,d.BL)({callback:J,element:K});const Q=(0,n.useRef)(!1);(0,n.useEffect)((()=>{W&&!Q.current&&(M(),Q.current=!0)}),[W,M]);const Z=(0,n.useCallback)((e=>{e.preventDefault(),E()}),[E]),Y=(0,n.useCallback)((()=>{U&&window.open(j.$T.user({uniqueId:U}))}),[U]),[ee,{setTrue:te}]=(0,l.A)(!1),oe=(0,n.useCallback)((()=>{te()}),[te]);return R&&L?(0,i.jsxs)(r.JI,Object.assign({onMouseEnter:()=>$(!0),onMouseLeave:()=>$(!1),ref:K,animationEnabled:T},{children:[(0,i.jsxs)(r.Cn,{children:[V&&(0,i.jsx)(u.N,{imgUrl:null!==(t=null==N?void 0:N[0])&&void 0!==t?t:null==N?void 0:N[1],needBlur:!0},void 0),(0,i.jsx)(r.Cb,{needViewer:!q,viewerCount:G},void 0),(0,i.jsx)(r.ap,Object.assign({showPlayer:V},{children:ee||!(null==N?void 0:N[0])&&!(null==N?void 0:N[1])?(0,i.jsx)(r.Ft,{children:(0,i.jsx)(r.bT,{},void 0)},void 0):(0,i.jsx)(r.Dy,{src:null!==(o=N[0])&&void 0!==o?o:N[1],onError:oe,showSkeleton:!0},void 0)}),void 0),W&&(0,i.jsx)(C,{showPlayer:V,streamUrl:H,handlePreviewPlayFail:D,handlePreviewPlayStart:O,handlePreviewPlayEnd:F},void 0),(0,i.jsx)(r.sX,{prefetch:"render",to:L,onClick:Z},void 0)]},void 0),(0,i.jsxs)(r.gG,{children:[(0,i.jsx)(r._5,{src:z,onClick:Y},void 0),(0,i.jsxs)(r.Oh,Object.assign({to:L,onClick:Z,title:null===(_=R.data)||void 0===_?void 0:_.title},{children:[(0,i.jsx)(r.YB,Object.assign({textLine:A},{children:(null===(y=R.data)||void 0===y?void 0:y.title)||B("ttlive_webPC_untitledLIVEDefaultTitle_title")}),void 0),(0,i.jsx)(r.Gq,{children:null!==(w=null===(x=null===(b=R.data)||void 0===b?void 0:b.owner)||void 0===x?void 0:x.nickname)&&void 0!==w?w:null===(k=null===(S=R.data)||void 0===S?void 0:S.owner)||void 0===k?void 0:k.display_id},void 0)]}),void 0)]},void 0)]}),void 0):(0,i.jsx)(I.O,{},void 0)}))},9386:(e,t,o)=>{o.d(t,{O:()=>a});var i=o(27334),n=o(65622),r=o(87700),l=o(15474);const a=(0,n.memo)((function(){return(0,i.jsxs)(r.JI,{children:[(0,i.jsx)(r.Cn,{children:(0,i.jsx)(r.ap,Object.assign({showPlayer:!1},{children:(0,i.jsx)(l.sO,{width:"100%",height:"100%"},void 0)}),void 0)},void 0),(0,i.jsxs)(r.gG,{children:[(0,i.jsx)(l.bl,{size:32},void 0),(0,i.jsx)(r.wt,{children:(0,i.jsx)(l.sO,{width:200,height:32},void 0)},void 0)]},void 0)]},void 0)}))},87700:(e,t,o)=>{o.d(t,{Cb:()=>v,Cn:()=>c,Dy:()=>m,Ft:()=>g,Gq:()=>w,JI:()=>d,Oh:()=>_,YB:()=>x,_5:()=>f,ap:()=>h,bT:()=>p,gG:()=>u,sX:()=>y,wt:()=>b});var i=o(2032),n=o(53240),r=o(65988),l=o(15436),a=o(79385),s=o(63161);const d=(0,i.default)("div",{target:"e1gme4pn0"})((({animationEnabled:e=!0})=>[e?{transition:"color, background-color, transform .2s ease-out","&:hover":{transform:"translateZ(0) scale(1.01, 1.01)"}}:{},{overflow:"hidden",transform:"translateZ(0)"}]),"label:DivCardContainer;"),c=(0,i.default)("div",{target:"e1gme4pn1"})({position:"relative",height:"0",width:"100%",paddingBottom:"56.25%",borderRadius:"8px",overflow:"hidden",cursor:"pointer"},"label:DivLiveContentArea;"),u=(0,i.default)("div",{target:"e1gme4pn2"})({display:"flex",flexWrap:"nowrap",marginTop:"16px",width:"100%"},"label:DivLiveInfo;"),v=(0,i.default)(r.j,{target:"e1gme4pn3"})((({theme:e})=>Object.assign({position:"absolute",top:"12px",zIndex:1},(0,n.mp)({direction:e.direction,start:"12px"}))),"label:SectionLiveTag;"),m=(0,i.default)(l.I,{target:"e1gme4pn4"})({position:"absolute",top:"50%",left:"50%",width:"100%",height:"auto",transform:"translate(-50%, -50%)"},"label:StyledLiveCover;"),h=(0,i.default)("div",{target:"e1gme4pn5"})((({showPlayer:e})=>({position:"absolute",opacity:e?0:1,left:0,top:0,height:"100%",width:"100%",background:"transparent"})),"label:DivImgWrapper;"),g=(0,i.default)("div",{target:"e1gme4pn6"})((({theme:e})=>({position:"absolute",left:0,top:0,display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",background:e.colors.ConstBGInverse1})),"label:DivFullbackLiveCover;"),p=(0,i.default)("div",{target:"e1gme4pn7"})({width:72,height:72,backgroundImage:`url(${a})`,backgroundSize:"100% 100%",backgroundRepeat:"no-repeat"},"label:DivTikTokLogo;"),f=(0,i.default)("img",{target:"e1gme4pn8"})({width:"32px",height:"32px",borderRadius:"100%",cursor:"pointer"},"label:ImgUserAvatar;"),_=(0,i.default)(s.N_,{target:"e1gme4pn9"})((({theme:e})=>Object.assign(Object.assign({display:"block",width:"calc(100% - 32px)",cursor:"pointer",textDecoration:"none",transaction:""},(0,n.mp)({direction:e.direction,marginStart:"12px"})),{"&:hover":{textDecoration:"none"}})),"label:StyledLinkLiveTextArea;"),y=(0,i.default)(s.N_,{target:"e1gme4pn10"})({position:"absolute",left:0,top:0,height:"100%",width:"100%",cursor:"pointer",zIndex:5,textDecoration:"none",transaction:"",background:"transparent","&:hover":{textDecoration:"none"}},"label:StyledHoverLink;"),b=(0,i.default)("div",{target:"e1gme4pn11"})((({theme:e})=>Object.assign({cursor:"pointer"},(0,n.mp)({direction:e.direction,marginStart:"12px"}))),"label:DivLiveTextArea;"),x=(0,i.default)("div",{target:"e1gme4pn12"})((({theme:e,textLine:t=2})=>[{width:"100%",display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:t,WebkitBoxOrient:"vertical",maxHeight:"36px"},(0,n.zy)({theme:e,typography:"H6",color:"TextPrimary",fontWeight:"medium"})]),"label:DivLiveTitle;"),w=(0,i.default)("div",{target:"e1gme4pn13"})((({theme:e})=>[{width:"100%",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},(0,n.zy)({theme:e,typography:"P4",color:"TextTertiaryAlt",fontWeight:"medium"})]),"label:DivUserName;")},7439:(e,t,o)=>{o.d(t,{t:()=>l});var i=o(63161),n=o(84770),r=o(65622);function l(){const{pathname:e}=(0,i.zy)();return(0,r.useMemo)((()=>{const t=[n.vI.liveDiscover,n.vI.liveFollowing,n.vI.liveGaming,n.vI.liveLifestyle,n.vI.liveSingleGaming],o=[n.vI.liveCategory,n.vI.liveCategoryGaming,n.vI.liveCategoryLifestyle];return(0,i.B6)(e,{path:t,exact:!0})?"liveFeed":(0,i.B6)(e,{path:o,exact:!0})?"liveCategory":void 0}),[e])}},40123:(e,t,o)=>{o.d(t,{v:()=>d});var i=o(65622),n=o(84770),r=o(29820),l=o(63161),a=o(48372),s=o(7439);const d=()=>{const{pathname:e}=(0,l.zy)(),t=(0,s.t)(),{tabsConfig:o}=(0,a.$)(t||"liveFeed");return(0,i.useMemo)((()=>{if((0,l.B6)(e,{path:n.vI.liveSingleGaming,exact:!0})){const t=e.replace(`${n.vI.liveGaming}/`,""),i=(0,r.E)(t||"");return o.find((e=>e.key2===i))}if((0,l.B6)(e,{path:n.vI.liveCategorySingleGaming,exact:!0})){const t=e.replace(`${n.vI.liveCategoryGaming}/`,""),i=(0,r.E)(t||"");return o.find((e=>e.key2===i))}if((0,l.B6)(e,{path:n.vI.liveCategorySingleLifeStyle,exact:!0})){const t=e.replace(`${n.vI.liveCategoryLifestyle}/`,"");return o.find((e=>e.key2===t))}return o.find((t=>(0,l.B6)(e,{path:t.path,exact:!0})))}),[e,o])}},10223:(e,t,o)=>{o.d(t,{cw:()=>m,so:()=>h});var i=o(11379),n=o(69872),r=o(42251),l=o.n(r),a=o(50374),s=o(84770),d=o(52189);const c="live-studio-app://",u=["chrome","firefox","edge","safari"];function v(){var e;const t=null===(e=a.f.getInstance().getConfig())||void 0===e?void 0:e.header.browser;return u.find((e=>l()(t).includes(e)))||t}function m(){return n.stringifyUrl({url:s.O.studioDownload(),query:{enter_from:"go_live",download_source:"web_link",open_ls:"1"}})}function h(e){var t,o,r;return(0,i.sH)(this,void 0,void 0,(function*(){if(Boolean("1"===n.parse(location.search).open_ls)){const l=n.parseUrl(location.href),a=l.query;delete a.open_ls,history.replaceState(null,"",n.stringifyUrl({url:l.url,query:a}));const s=yield function(e,t){return(0,i.sH)(this,void 0,void 0,(function*(){try{const o=function(e,t){return n.stringifyUrl({url:`${c}${e}`,query:t})}(e,t),r=yield function(e){return(0,i.sH)(this,void 0,void 0,(function*(){return new Promise((t=>{if(e.startsWith("https")||e.startsWith("http"))return t(!1);const o=document.createElement("input");let i=0,r=!1;o.style.opacity="0",o.style.position="fixed",o.style.width="0",o.style.height="0",document.body.appendChild(o);const l=()=>{r=!0,clearTimeout(i),o.remove(),t(!0)};o.addEventListener("blur",l);const a=n.stringifyUrl({url:e,query:{browser:v()}});setTimeout((()=>{o.focus(),setTimeout((()=>{location.href=a,i=window.setTimeout((()=>{o.removeEventListener("blur",l),o.remove(),t(r)}),1e3)}),2e3)}))}))}))}(o);return r}catch(e){return console.error(e),!1}}))}("login/prepare",{unique_id:null!==(t=null==e?void 0:e.uniqueId)&&void 0!==t?t:"",sec_uid:null!==(o=null==e?void 0:e.secUid)&&void 0!==o?o:"",enter_from:"webapp_golive"});console.log("open ls popup: ",s),s&&d.hi.handleStudioGoLivePopupShow({anchor_id:null!==(r=null==e?void 0:e.uid)&&void 0!==r?r:""})}}))}},98214:(e,t,o)=>{o.d(t,{Dz:()=>g,IE:()=>d,RA:()=>h,Yq:()=>a,bQ:()=>m,cz:()=>c,gP:()=>v,wO:()=>u});var i,n=o(42851),r=o(23559),l=o(88457);!function(e){e[e.top=1]="top",e[e.middle=2]="middle",e[e.bottom=3]="bottom"}(i||(i={}));const a={1:new r.BasicLivePlayer,2:new r.BasicLivePlayer,3:new r.BasicLivePlayer},s=()=>(0,l.fU)()?void 0:document.createElement("div"),d={1:s(),2:s(),3:s()},c=(0,n.BX)({seamlessEnterRoom:!1,seamlessEnterAnimationEnd:!0,videoX:0,videoY:0,videoWidth:"100%",videoHeight:484,muted:!1,volume:0,playing:!0,covering:!1,activePlayerId:2,get activePlayer(){return a[this.activePlayerId]},get activePlayerDom(){return d[this.activePlayerId]},listening:!1}),u=e=>{c.activePlayerId=e},v=()=>a[c.activePlayerId],m=()=>{const e=c.activePlayerDom;if(!e)return;const t=e.getBoundingClientRect();c.videoWidth=t.width,c.videoHeight=t.height,c.videoX=t.x,c.videoY=t.y},h=e=>{c.seamlessEnterRoom=e,e&&(c.seamlessEnterAnimationEnd=!1)},g=()=>{c.seamlessEnterAnimationEnd=!0}},54631:(e,t,o)=>{o.d(t,{KQ:()=>y,eA:()=>x,XA:()=>_});var i=o(47160),n=o(35076),r=o(4251),l=o(14218),a=o(23559),s=o(98214),d=o(50374),c=o(63249),u=o(18649),v=o(54469),m=o(15907),h=o(83420),g=o(19796);let p=!1;const f=()=>{const e=i.J.getVolume();return new Promise((t=>{p?t():a.BasicLivePlayer.checkSupportAutoplay().then((o=>{(0,r.T4)(o),s.cz.muted=!o||i.J.getMuted(),s.cz.volume=e,p=!0,t()})).catch((()=>{s.cz.muted=!0,s.cz.volume=e,p=!1,t()}))}))};f().catch((()=>{}));const _=e=>{var t;const o=e,{streamData:i}=n.XA(o);if(i.data){const e=n.RX(i);return{streamItems:n.Ay(n.e8(i,e)),secretKey:null===(t=i.common)||void 0===t?void 0:t.drm_secret_key}}return{streamItems:[]}},y=({streamItems:e,defaultStream:t})=>{const o=i.J.getDefinitionSelectKey(),r=(0,h.NO)(),l={low:r.isExpGroup?r.abr.low:1.5,high:r.isExpGroup?r.abr.high:6.5};return{open:!o||"auto"===o,bitrate:t.bitrate,start_limit:4e3,urls:n.WZ(e),buffer_level_threshold:l}},b=({bitrate:e,loggerRoomInfo:t,secretKey:o})=>{var i,n;const{isPreview:r=!0,playMode:a,roomId:s,anchorId:h,liveRoomMode:g,hashTagId:p}=t,{user:f,wid:_}=null!==(i=u.l.getInstance(v.L).state.appContext)&&void 0!==i?i:{},{openH265:y,hevcSupport:b}=(0,m.x)();return{log:!0,aid:l.xE,project_key:"01da40f448edb427",app_name:"tiktok_web",channel:"va",user_id:null!==(n=null==f?void 0:f.uid)&&void 0!==n?n:"",device_id:null!=_?_:"",tea:d.f.event.bind(d.f),teaParams:{is_preview:r?1:0,pull_stream_bitrate:e,isSupportedH265:b?"1":"0",is_h265_open:y?"1":"0",play_mode:a,room_id:s,anchor_id:h,user_is_login:(null==f?void 0:f.uid)?"1":"0",action_type:"click",event_page:r?"preview_page":"live_room",live_type:(0,c.FP)(g),is_encryption:o?1:0,hashtag_id:p}}},x=({playerId:e,streamPullData:t,loggerRoomInfo:o})=>{if(!e)return;const r=s.IE[e];return r?f().then((()=>(({dom:e,streamPullData:t,loggerRoomInfo:o})=>{var r,l,a,d;const{streamItems:c,secretKey:u}=_(t),v=(({streamPullData:e,streamItems:t})=>{var o,r,l;let a=null===(r=null===(o=e.options)||void 0===o?void 0:o.default_quality)||void 0===r?void 0:r.sdk_key;const s=i.J.getDefinitionSelectKey();(0,g.lV)()&&"auto"===s&&(a=i.J.getAutoDefinitionSelectKey()||a),a="origin"===a?"uhd_60":a;const d=("auto"===s?a:s)||a;return null!==(l=n.aZ(t,d,!0))&&void 0!==l?l:t[0]})({streamPullData:t,streamItems:c}),p=y({defaultStream:v,streamItems:c}),{openWebcodecs:f}=(0,m.x)(),{workletJSUrl:x,workerJSUrl:w}=(()=>{const e="assets/audio_worklet/worklet-BhJa71M3.js",t=Boolean(""),o=(Boolean("sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static"),"veworker-CFT8A2_0.js"),i=o?`/live/static/player-worker/${o}`:void 0;return t?{workletJSUrl:`https:///tiktok/webapp/main/${e}`,workerJSUrl:i}:{workletJSUrl:`https://sf16-website-login.neutral.ttwstatic.com/obj/tiktok_web_login_static/tiktok/webapp/main/${e}`,workerJSUrl:i}})(),S=(0,h.Ii)(),C=(0,h.NO)(),I=S.isExpGroup?{targetLufs:S.targetLufs,scope:S.scope}:void 0;return{playerContainer:e,url:(0,h.sv)(null!==(d=null!==(l=null===(r=null==v?void 0:v.url)||void 0===r?void 0:r.mainFLV)&&void 0!==l?l:null===(a=null==v?void 0:v.url)||void 0===a?void 0:a.backupFLV)&&void 0!==d?d:""),abrConfig:p,volume:s.cz.volume/100,autoplay:s.cz.playing,mute:s.cz.playing&&s.cz.muted,retryDelay:1e3,retryCount:3,flvlive:{loadTimeout:1e4,seiOnDemand:!0,preloadTime:4,seamlesslyReload:!0,keyStr:u,openWebcodecs:f&&!u,workletUrl:x,workerUrl:w,loudnessBalance:I},adaptiveConfig:{open:!!(null==C?void 0:C.isExpGroup)&&!f,lowLatencyThreshold:C.adaptive.low,highLatencyThreshold:C.adaptive.high,windowsSize:10,slowSpeed:.95,catchupSpeed:1.05,checkInterval:4},landscapeScale:!0,debug:location.search.includes("player-debug")?1:0,loggerConfig:b({bitrate:v.bitrate,loggerRoomInfo:o,secretKey:u})}})({dom:r,streamPullData:t,loggerRoomInfo:o}))):void 0}},21084:(e,t,o)=>{o.d(t,{Vl:()=>c,dq:()=>d});var i=o(24769),n=o(10593),r=o(98214);let l;const a=(()=>{let e;return()=>e||(e=new i.w({decodeImgUrl:(0,n.rO)()}),e)})(),s=(()=>{let e;return()=>{if(e)return e;try{e=a().scoreSync()}catch(e){console.log("[sync score error]",e)}return e}})(),d=(()=>{let e,t;return(o=!1)=>{if(e)return e;try{o&&!t&&(t=!0,a().scoreAsync().then((t=>{var o;e=t,l&&(null===(o=l.logger)||void 0===o||o.setMarkScore(t),l=void 0)})))}catch(e){console.log("[async score error]",e)}return e}})(),c=(e=!1)=>{var t;const o=s(),i=d(e),n=r.cz.activePlayer;n!==l&&(n.logger.setMarkScore(o),i?null===(t=n.logger)||void 0===t||t.setMarkScore(i):l=n)}},66401:(e,t,o)=>{o.d(t,{J:()=>c});var i=o(11379),n=o(65622),r=o(48796),l=o(90433),a=o(98214),s=o(47160),d=o(21084);function c(e,t){const{activePlayer:o}=a.cz,i=(0,r.A)(t);(0,n.useEffect)((()=>(o.events.on(e,i),()=>{o.events.off(e,i)})),[o,e,i])}(()=>{const e=()=>{a.cz.playing=!1},t=()=>{a.cz.playing=!0},o=e=>{a.cz.muted=e,s.J.setMuted(e?1:0)},n=e=>{a.cz.volume=100*e,s.J.setVolume(100*e)},r=()=>(0,i.sH)(void 0,void 0,void 0,(function*(){(0,d.Vl)(!0)})),c=()=>{const{activePlayerId:i,activePlayer:l}=a.cz;(0,d.Vl)();for(const[l,s]of Object.entries(a.Yq))s.events.off("canplay",r),s.events.off("loaded_data",r),s.events.off("play",t),s.events.off("pause",e),s.events.off("mute_change",o),s.events.off("volume_change",n),String(i)!==l&&s.status.pause();l.events.on("canplay",r),l.events.on("loaded_data",r),l.events.on("play",t),l.events.on("pause",e),l.events.on("mute_change",o),l.events.on("volume_change",n)};c(),(0,l.u$)(a.cz,"activePlayerId",c)})()},85484:(e,t,o)=>{o.d(t,{Bi:()=>d,Db:()=>u,IP:()=>a,Ps:()=>c,j6:()=>s});var i=o(98214),n=o(2809),r=o.n(n),l=o(35076);const a=(e,t)=>{const o=i.Yq[e];o&&t&&!o.created&&t.then((e=>{o.create(e)})).catch((e=>{console.log("create player error",e)}))},s=(e,t)=>{i.Yq[e].created?((e=>{const t=i.Yq[e];t&&(t.status.setMute(i.cz.muted),t.status.setVolume(i.cz.volume/100))})(e),i.cz.playing&&(e=>{i.Yq[e].status.play()})(e)):a(e,t)},d=(e,t,o=!0)=>{const n=i.Yq[e];n&&t&&n.created&&t.then((e=>{n.updateConfig(e,o)})).catch((e=>{console.log("create player error",e)}))},c=e=>{var t,o;if(!(null==e?void 0:e.created)||!(null===(o=null===(t=null==e?void 0:e.flv)||void 0===t?void 0:t.flvConfig)||void 0===o?void 0:o.openWebcodecs))return;const i=r()(e.config);i&&i.flvlive&&(i.flvlive.openWebcodecs=!1,e.destroy(),e.create(i))},u=e=>{var t;if(!(null==e?void 0:e.created)||!e.config)return;const o=r()(e.config),i=`${Date.now()}`;if(o.url=(0,l.Sh)(o.url,i),(null===(t=o.abrConfig)||void 0===t?void 0:t.open)&&o.abrConfig.urls){for(let[e,t]of Object.entries(o.abrConfig.urls))o.abrConfig.urls[e]=(0,l.Sh)(t,i);e.abr.updateConfig(o.abrConfig)}e.status.changeUrl(o.url,{filterSameStreamId:!1})}},15907:(e,t,o)=>{o.d(t,{G:()=>a,x:()=>l});var i=o(88457),n=o(26593),r=o(23559);const l=(()=>{const e=(0,n.qO)(n.VA.middle),t=(0,n.qO)(n.VA.middlePlus)&&(0,n.UI)()&&(0,n.Z9)();return()=>{const o=r.BasicLivePlayer.checkSupportHevc(),n=r.BasicLivePlayer.checkSupportWecodecs(),l={streamDeviceType:"web_h264",openWebcodecs:!1},a=(null==n?void 0:n.isSupportH264)||(null==n?void 0:n.isSupportH265);return(0,i.fU)()?l.openWebcodecs=t&&!!a:(null==n?void 0:n.isSupportH265)&&t||e&&o?(l.streamDeviceType="web_h265",l.openWebcodecs=!!(null==n?void 0:n.isSupportH265)&&t):l.openWebcodecs=!!(null==n?void 0:n.isSupportH264)&&t,Object.assign({openH265:"web_h265"===l.streamDeviceType,hevcSupport:!!(null==n?void 0:n.isSupportH265)||o},l)}})();function a(){return l()}},79151:(e,t,o)=>{o.d(t,{h:()=>l});var i=o(48796),n=o(98214),r=o(65622);const l=()=>{const e=(0,r.useRef)(!1);return{handleCoverShow:(0,i.A)((()=>{const t=n.cz.activePlayer;t.status.playing&&t.created&&(t.destroy(),e.current=!0),n.cz.covering=!0})),handleCoverHide:(0,i.A)((()=>{n.cz.covering=!1}))}}},39360:(e,t,o)=>{o.d(t,{i:()=>l});var i=o(65622),n=o(98214),r=o(90701);const l=()=>{const e=(0,i.useCallback)((e=>{const{activePlayer:t}=n.cz;n.cz.muted!==e&&(t.status.setMute(e),(0,r.w)()&&!n.cz.playing&&t.status.play(),e||0!==n.cz.volume||t.status.setVolume(.6))}),[]);return{onVolumeChange:(0,i.useCallback)((e=>{const{activePlayer:t}=n.cz;if(n.cz.volume!==e){const o=0===e;t.status.setVolume(e/100),o?t.status.setMute(!0):t.status.mute&&t.status.setMute(!1)}}),[]),onMutedStatusChange:e}}},93854:(e,t,o)=>{o.d(t,{J:()=>l,w:()=>a});var i=o(33919);const n=e=>{const t=i.$.player;((e,t)=>{e.events.on("playing",(()=>{(0,i.e)({playing:!0,error:!1}),null==t||t()}))})(t,e.onPlaying),((e,t)=>{e.events.on("pause",(()=>{(0,i.e)({playing:!1}),null==t||t()}))})(t,e.onPause),((e,t)=>{e.events.on("create_error",(e=>{(0,i.e)({error:!0}),null==t||t(e)}))})(t,e.onCreateError),((e,t)=>{e.events.on("error",(e=>{(0,i.e)({error:!0}),null==t||t(e)}))})(t,e.onError)},r=()=>{const e=i.$.player;(e=>{e.events.off("playing")})(e),(e=>{e.events.off("pause")})(e),(e=>{e.events.off("create_error")})(e),(e=>{e.events.off("error")})(e)};function l(e){const{config:t,onPlaying:o,onPause:r,onCreateError:l,onError:a}=e,s=i.$.player;n({onPlaying:o,onPause:r,onCreateError:l,onError:a}),s.create(t)}function a(){const e=i.$.player;(0,i.e)({playing:!1,error:!1}),r(),e.destroy()}},33919:(e,t,o)=>{o.d(t,{$:()=>r,e:()=>l});var i=o(42851),n=o(23559);const r=(0,i.BX)({player:(0,i.KR)(new n.BasicLivePlayer),playing:!1,error:!1}),l=e=>{void 0!==e.playing&&(r.playing=e.playing),void 0!==e.error&&(r.error=e.error)}},33424:(e,t,o)=>{o.d(t,{Q:()=>a,W:()=>l});var i=o(26075),n=o(43425),r=o(70091);function l(){const{liveSuggestConfig:e}=n.f,{botType:t}=r.t,o=Boolean(null==e?void 0:e.isRiskArea);return"others"===t&&o}function a(){const e=l(),t=(0,i.nH)();return e&&!t}},83922:(e,t,o)=>{o.d(t,{I:()=>a});var i=o(35780),n=o(21393),r=o(93179),l=o(66048);function a(){const e=(0,i.W)(),{canWatchLive:t,shouldLoginPrompt:o,shouldAgeApprove:a,nonLoggedInUser:s}=(0,n.R)(),{watchStatus:d}=(0,r.s)(l._E);return e&&s&&"2"!==d?{canWatchLive:!0,shouldLoginPrompt:!1,shouldAgeApprove:!1,nonLoggedInUser:s}:{canWatchLive:t,shouldLoginPrompt:o,shouldAgeApprove:a,nonLoggedInUser:s}}},76149:(e,t,o)=>{o.d(t,{Oh:()=>p});var i=o(27334),n=o(52528),r=o(65622),l=o(26075),a=o(48796),s=o(32582),d=o(50645),c=o(37379),u=o(74404),v=o(66048),m=o(93179),h=o(33424),g=o(40517);const p=function(){const e=(0,n.s)(),{watchStatus:t}=(0,m.s)(v._E),{loginTipsVisible:o,handleTimeout:p,handleToLogin:f,handleCancelLogin:_}=function(){const[e,t]=(0,r.useState)(!1),o=(0,l.nH)(),i=(0,a.A)((()=>{s.q.handleLoginPromptingClick(Object.assign({click_icon:"cancel"},(0,d.Gc)())),t(!1)})),n=(0,c.Jd)({defaultVisible:!1,closeable:!0});return{loginTipsVisible:e,handleCancelLogin:i,handleToLogin:(0,a.A)((()=>{t(!1),n(),s.q.handleLoginPromptingClick(Object.assign({click_icon:"login"},(0,d.Gc)()))})),handleTimeout:(0,a.A)((e=>{"2"===e&&!o&&(t(!0),s.q.handleLoginPromptingShow(Object.assign({},(0,d.Gc)())))}))}}();return function(){const e=(0,l.nH)(),t=(0,h.W)(),o=(0,r.useRef)(0),{watchStatus:i,startWatchLiveTimeStamp:n}=(0,m.s)(v._E),s=(0,a.A)((()=>{!t||e||"2"===i||(clearTimeout(o.current),o.current=window.setTimeout((()=>{const e=Math.floor(Date.now()-Number(n));Math.abs(e)>v.Xy?(v._E.watchStatus="2",(0,v.Gi)("2")):s()}),1e3))})),d=(0,a.A)((()=>{v._E.watchStatus="1",(0,v.Gi)("1"),(0,v.dt)()}));(0,u.A)((()=>{clearTimeout(o.current)})),(0,r.useEffect)((()=>{t&&!e&&"0"===(0,v.iK)()&&d()}),[t,e]),(0,r.useEffect)((()=>{"1"===i&&s()}),[i,s])}(),(0,r.useEffect)((()=>{p(t)}),[p,t]),(0,i.jsx)(g.m,{visible:o,title:e("webLIVE_nonLoggedViewer_loginModal_title",{},"Log in for the full LIVE experience"),content:e("webLIVE_nonLoggedViewer_loginModal_desc",{},"Log in to interact with the creator and other viewers."),cancelBtnText:e("webLIVE_nonLoggedViewer_birthdayModal_notNowBtn",{},"Not Now"),confirmBtnText:e("webLIVE_nonLoggedViewer_loginModal_loginBtn",{},"Log in"),onCancel:_,onConfirm:f},void 0)}},66048:(e,t,o)=>{o.d(t,{Gi:()=>v,Xy:()=>d,_E:()=>c,dt:()=>m,iK:()=>u});var i=o(52602),n=o(42851);const r="STORAGE_RISK_AREA_DETECT_STATUS_KEY",l="STORAGE_RISK_AREA_DETECT_TIME_KEY";var a;!function(e){e.None="0",e.Start="1",e.Timeout="2"}(a||(a={}));const s=864e5,d=9e5,c=(0,n.BX)({isRiskArea:!1,watchStatus:"0",startWatchLiveTimeStamp:0});function u(){const e=(0,i._S)(r,String("0")),t=(0,i._S)(l,"0"),o=Number(t)>0?t:Date.now();if(c.watchStatus=e,c.startWatchLiveTimeStamp=Number(o),"2"===e){const e=Number(o);Date.now()-e>s&&(c.startWatchLiveTimeStamp=Date.now(),c.watchStatus="0")}return e}function v(e){(0,i.AP)(r,String(e))}function m(){(0,i.AP)(l,String(Date.now()))}},95090:(e,t,o)=>{o.d(t,{_:()=>l,h:()=>a});var i=o(66839),n=o(29756),r=o(42851);const l=(0,n.i)(i.b,((e,t)=>({setSeoMetaState(e){t(i.b,Object.assign(Object.assign({},i.b),e))}}))),a=(0,r.BX)({liveCategorySingleGamingParams:void 0,liveCategorySingleLifestyleParams:void 0,liveEventParams:void 0,liveRoomParams:void 0,liveSingleGamingParams:void 0,liveSingleActionParams:void 0,liveExploreParams:void 0})},92733:(e,t,o)=>{o.d(t,{g:()=>n});var i=o(27334);const n=({content:e,className:t})=>(0,i.jsx)("span",Object.assign({style:{backgroundColor:"#fff",color:"#323442",lineHeight:"20px"},className:`inline-block ms-6 w-20 h-20 rounded text-16 text-center font-black ${t}`},{children:e}),void 0)},13363:(e,t,o)=>{o.d(t,{j:()=>n,l:()=>i});const i=()=>{var e;return document.activeElement!==document.body&&"plaintext-only"===(null===(e=document.activeElement)||void 0===e?void 0:e.contentEditable)},n=()=>{var e;return"INPUT"===(null===(e=document.activeElement)||void 0===e?void 0:e.tagName)}},59184:(e,t,o)=>{o.d(t,{g:()=>T});var i=o(27334),n=o(34491),r=o(65622),l=o(36149),a=o(54469),s=o(75572),d=o(21812),c=o(62188),u=o(84770),v=o(15474),m=o(23810),h=o(52528),g=o(54386),p=o(48733),f=o(9170),_=o(18734),y=o(601),b=o(52189),x=o(48796),w=o(70091),S=o(43425);const C="me-8 text-ConstTextInverse-dark text-14 font-500 no-underline tracking-[0.0067em] leading-[18.2px] hover:text-ConstTextInverse-dark hover:underline visited:text-ConstTextInverse-dark active:text-ConstTextInverse-dark focus:text-ConstTextInverse-dark",I=function({loadingDownloadInfo:e,packageName:t,downloadUrl:o,onDownloadClick:l,onLoginClick:a}){const s=(0,h.s)(),{user:d}=w.t,{deviceLimitRegisterExpired:c,config:u}=S.f,{signUpOpen:I=!0}=u,j=(0,n.wA)(g.k),k=(0,r.useCallback)(((e=!1)=>()=>{null==a||a(),j.openModal({closeable:!0,isSignup:e,query:{enter_method:"click_top_bar"}})}),[j]),R=(0,x.A)((()=>{null==l||l()})),L=(0,r.useCallback)((()=>{b.hi.handleHelpCenterEntranceClick()}),[]),{active:T,handleMouseEnter:A,handleMouseLeave:P}=(0,p.K)(500),E=o&&t&&!e&&(0,i.jsx)("a",Object.assign({href:o,download:t,className:"P2-Bold ltr:ml-16 rtl:mr-16",onClick:R},{children:(0,i.jsx)(v.I0,{size:"medium",variant:"primary",label:s("Download")},void 0)}),void 0);return d?(0,i.jsxs)("div",Object.assign({className:"relative flex flex-row items-center text-TextPrimary-dark"},{children:[(0,i.jsx)("a",Object.assign({href:"https://livecenter.tiktok.com/help_center?enter_from=livestudio_download",target:"_blank",onClick:L,rel:"noreferrer",className:C},{children:s("Help Center")}),void 0),E,(0,i.jsx)(_.W,Object.assign({onMouseEnter:A,onMouseLeave:P},{children:(0,i.jsx)(f.t,{margin:-11,active:T,e2eTag:"profile-popup"},void 0)}),void 0)]}),void 0):(0,i.jsxs)("div",Object.assign({className:"relative flex flex-row items-center text-TextPrimary-dark"},{children:[(0,i.jsx)("a",Object.assign({href:"https://livecenter.tiktok.com/help_center?enter_from=livestudio_download",target:"_blank",onClick:L,rel:"noreferrer",className:C},{children:s("Help Center")}),void 0),!c&&I&&(0,i.jsx)("button",Object.assign({className:"P2-Medium font-tiktok-display text-Primary-dark ltr:ml-6 rtl:mr-6 ltr:-mr-24 rtl:-ml-24 min-w-[88px] px-8 py-6 select-none",type:"button",onClick:k(!0)},{children:s("common_notification_unlogged_button")}),void 0),E,(0,i.jsx)(m.y,Object.assign({className:"P2-Bold ltr:ml-16 rtl:mr-16",style:{minWidth:100},size:"medium",buttonTheme:"line",onClick:k(!1)},{children:s("Log In")}),void 0),(0,i.jsxs)("i",Object.assign({className:"ltr:ml-16 rtl:mr-16 text-TextPrimary-dark relative cursor-pointer px-4 py-0 not-italic",onMouseEnter:A,onMouseLeave:P},{children:[(0,i.jsx)(y.A,{className:"w-20 h-20"},void 0),(0,i.jsx)(f.t,{active:T,e2eTag:"see-more-popup",margin:-13},void 0)]}),void 0)]}),void 0)};var j,k;function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)({}).hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},R.apply(null,arguments)}const L=function(e){return r.createElement("svg",R({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 208 31",width:"1em",height:"1em"},e),j||(j=r.createElement("g",{clipPath:"url(#studio-logo-dark_svg__clip0_64_3399)"},r.createElement("path",{fill:"white",d:"M20.68 5.692a6.76 6.76 0 01-1.908-1.923A6.894 6.894 0 0117.645 0h-4.792v19.564a4.14 4.14 0 01-1.23 2.8 3.992 3.992 0 01-2.793 1.148 3.982 3.982 0 01-1.869-.468 4.066 4.066 0 01-1.577-1.51 4.148 4.148 0 01.598-5.024 3.997 3.997 0 012.848-1.203c.404 0 .805.065 1.19.19v-4.965a8.728 8.728 0 00-1.19-.088 8.753 8.753 0 00-6.235 2.636 9.082 9.082 0 00-2.587 6.35c0 1.445.343 2.868 1 4.15a8.926 8.926 0 002.768 3.207 8.657 8.657 0 005.054 1.63 8.753 8.753 0 006.235-2.636 9.082 9.082 0 002.588-6.35V9.508a11.262 11.262 0 006.669 2.185V6.812a6.564 6.564 0 01-3.641-1.12zM28.89 6.816h15.114l-1.387 4.405h-3.921v16.286H33.81V11.22h-4.916l-.004-4.405zM68.77 6.816h15.466L82.85 11.22h-4.265v16.286H73.69V11.22h-4.915l-.004-4.405zM45.051 13.395h4.845L49.892 27.5h-4.811l-.03-14.104zM52.4 6.759h4.838v9.633l4.796-4.794h5.78l-6.068 5.997 6.797 9.9h-5.335l-4.535-6.873-1.435 1.42v5.453H52.4V6.76zM100.449 6.759h4.86v9.633l4.797-4.794h5.768l-6.068 5.997 6.793 9.9h-5.331l-4.534-6.873-1.436 1.42v5.453h-4.86l.011-20.736zM47.473 11.781c1.347 0 2.438-1.112 2.438-2.483 0-1.37-1.091-2.482-2.438-2.482-1.346 0-2.437 1.111-2.437 2.482 0 1.371 1.091 2.483 2.437 2.483zM90.255 10.612c-2.2 0-4.308.89-5.863 2.474a8.526 8.526 0 00-2.429 5.972c0 2.24.874 4.388 2.429 5.971a8.216 8.216 0 005.863 2.474 8.157 8.157 0 003.172-.643 8.28 8.28 0 002.69-1.83 8.454 8.454 0 001.796-2.74 8.577 8.577 0 00.63-3.232 8.577 8.577 0 00-.63-3.232 8.453 8.453 0 00-1.796-2.74 8.28 8.28 0 00-2.69-1.831 8.158 8.158 0 00-3.172-.643zm0 12.565c-.53 0-1.053-.106-1.542-.312a4.027 4.027 0 01-1.308-.89 4.11 4.11 0 01-.873-1.331 4.17 4.17 0 01.873-4.474 4.026 4.026 0 011.308-.89 3.967 3.967 0 011.542-.312c1.069 0 2.094.432 2.85 1.202a4.143 4.143 0 01-.006 5.795 3.993 3.993 0 01-2.844 1.197v.015z"}),r.createElement("path",{fill:"#FE2C55",d:"M205.574 6.759h-81.283c-1.249 0-2.262 1.031-2.262 2.303V25.22c0 1.272 1.013 2.303 2.262 2.303h81.283c1.249 0 2.261-1.031 2.261-2.303V9.061c0-1.272-1.012-2.303-2.261-2.303z"}),r.createElement("path",{fill:"white",d:"M127.159 22.633V11.971h2.243v8.663h3.918v1.995l-6.161.004zM163.634 19.537c.045.716.598 1.265 1.54 1.265.942 0 1.495-.442 1.495-1.112 0-.537-.269-.903-1.244-1.192l-1.242-.35c-1.783-.564-2.665-1.573-2.665-3.02-.011-.43.075-.858.251-1.25.176-.39.438-.736.766-1.008a3.695 3.695 0 012.531-.883c.911-.04 1.803.27 2.501.868.328.29.587.652.759 1.06.171.406.25.847.231 1.29h-2.187c0-.717-.478-1.189-1.334-1.189-.778 0-1.331.442-1.331 1.051 0 .503.374.853 1.121 1.066l1.23.381c1.929.567 2.875 1.634 2.83 3.176a2.852 2.852 0 01-.568 1.72c-.748.964-1.869 1.36-3.148 1.36a3.989 3.989 0 01-2.71-.902 2.959 2.959 0 01-.779-1.053 3.005 3.005 0 01-.253-1.293l2.206.015zM180.33 15.509h2.019v7.124h-2.019v-.979a2.155 2.155 0 01-.756.82c-.318.2-.683.312-1.057.323-1.63 0-2.77-1.07-2.77-3.02V15.52h2.018v3.808c0 1.024.662 1.42 1.275 1.42.718 0 1.29-.457 1.29-1.45v-3.79zM194.253 14.342c.19-.185.299-.44.305-.707a1.006 1.006 0 00-.63-.912.97.97 0 00-.379-.066.981.981 0 00-.716.27c-.096.092-.173.2-.227.322a1.008 1.008 0 00-.089.386 1.037 1.037 0 00.314.713 1.005 1.005 0 00.718.277.983.983 0 00.704-.283zM137.155 11.975h-2.216v10.662h2.216V11.975zM138.281 11.975h2.494l2.691 7.753 2.673-7.753h2.512l-3.959 10.662h-2.452l-3.959-10.662zM149.686 11.971v10.662l7.193-.004v-1.995h-4.976v-2.54h4.744v-1.873h-4.744v-2.254h4.976V11.97h-7.193z"}),r.createElement("path",{fill:"white",fillRule:"evenodd",d:"M189.145 16.293a2.844 2.844 0 00-.995-.713 2.795 2.795 0 00-1.196-.224c-1.955 0-3.428 1.592-3.428 3.705 0 2.114 1.473 3.705 3.428 3.705.409.008.816-.072 1.193-.234.378-.162.717-.402.998-.706v.807h2.011V11.971h-2.011v4.322zm-1.821 4.57a1.743 1.743 0 01-1.241-.526 1.812 1.812 0 01-.004-2.528 1.705 1.705 0 011.245-.51c.464-.003.911.183 1.241.516a1.803 1.803 0 01.387 1.945 1.773 1.773 0 01-.384.58 1.737 1.737 0 01-1.251.511l.007.011z",clipRule:"evenodd"}),r.createElement("path",{fill:"white",d:"M171.032 12.923h2.015v2.586h1.473v1.603h-1.473v5.521h-2.015v-5.521h-1.263v-1.603h1.263v-2.586z"}),r.createElement("path",{fill:"white",fillRule:"evenodd",d:"M199.29 15.357a3.564 3.564 0 00-1.429.248 3.61 3.61 0 00-1.218.8 3.689 3.689 0 00-.813 1.222c-.188.46-.282.952-.278 1.45a3.676 3.676 0 00.281 1.468c.193.465.479.883.84 1.227a3.824 3.824 0 002.617 1.013c.966.007 1.9-.354 2.617-1.012.361-.345.648-.763.841-1.228.193-.464.288-.964.281-1.468.004-.498-.09-.99-.278-1.45a3.689 3.689 0 00-.813-1.222 3.615 3.615 0 00-1.219-.8 3.564 3.564 0 00-1.429-.248zm0 5.513a1.673 1.673 0 01-1.234-.523 1.76 1.76 0 01-.482-1.27 1.747 1.747 0 01.474-1.282 1.686 1.686 0 011.242-.523 1.658 1.658 0 011.241.524 1.727 1.727 0 01.471 1.281 1.746 1.746 0 01-.479 1.27 1.697 1.697 0 01-1.233.523z",clipRule:"evenodd"}),r.createElement("path",{fill:"white",d:"M192.412 15.509h2.015v7.124h-2.015v-7.124z"}))),k||(k=r.createElement("defs",null,r.createElement("clipPath",{id:"studio-logo-dark_svg__clip0_64_3399"},r.createElement("path",{fill:"white",d:"M0 0h207.837v30.07H0z"})))))},T=(0,r.memo)((function({loadingDownloadInfo:e=!1,packageName:t,downloadUrl:o,onDownloadClick:v,onLoginClick:m}){const h=(0,n.Ph)(a.L,{selector:e=>e.initialized,dependencies:[]}),[g,p]=(0,r.useState)(0),{subscribeModalChange:f}=(0,s.g)(),_=(0,r.useCallback)((({hasModal:e,scrollWidth:t})=>{p(e?t:0)}),[]);return(0,r.useEffect)((()=>{const e=f(_);return()=>{e()}}),[_,f]),(0,i.jsx)(d.ie,Object.assign({style:{right:g/2+"px"}},{children:(0,i.jsxs)(d.PB,{children:[(0,i.jsxs)("div",Object.assign({className:"flex flex-row items-center"},{children:[(0,i.jsx)(c.R,{},void 0),(0,i.jsx)(l.N_,Object.assign({className:"flex justify-center items-center cursor-pointer no-underline hover:no-underline active:no-underline",to:u.vI.studioDownload},{children:(0,i.jsx)(L,{className:"w-[208px] h-full"},void 0)}),void 0)]}),void 0),h&&(0,i.jsx)(I,{loadingDownloadInfo:e,packageName:t,downloadUrl:o,onLoginClick:m,onDownloadClick:v},void 0)]},void 0)}),void 0)}))},78676:(e,t,o)=>{o.d(t,{c:()=>d,w:()=>s});var i=o(65622),n=o(63161),r=o(84770),l=o(38527);const a={euTaxForm:"delay_start_until_manually_called",w9TaxSelect:"delay_start_until_manually_called",w9TaxInputIndividual:"delay_start_until_manually_called",w9TaxInputEntity:"delay_start_until_manually_called",taxPaperlessConsent:"delay_start_until_manually_called",taxComplete:"delay_start_until_manually_called",taxInfoUs:"delay_start_until_manually_called",w8TaxInput:"delay_start_until_manually_called",taxInfoW8:"delay_start_until_manually_called",taxOverview:"delay_start_until_manually_called",kyc:"kyc",kycLoading:"kyc_loading",kycPoa:"kyc_poa",kycSubmission:"kyc_detail",liveDiscover:["live_discover","live_detail"],liveGoLive:"delay_start_until_manually_called",liveRoom:["live_discover","live_detail"],liveEvent:"live_event",liveRoomEmbed:"delay_start_until_manually_called",rechargeBindInfo:"delay_start_until_manually_called",studioLogin:"studio_download",studioDownload:"studio_download",studioFaq:"delay_start_until_manually_called",liveReferralHost:"delay_start_until_manually_called",liveReferralHostFaq:"delay_start_until_manually_called",liveSubscription:"delay_start_until_manually_called",liveSubscriptionGuide:"delay_start_until_manually_called",liveSubscriptionBadgeSetting:"delay_start_until_manually_called",liveSubscriptionEmoteSetting:"delay_start_until_manually_called",liveSubscriptionComplete:"delay_start_until_manually_called",liveSubscriptionSetting:"delay_start_until_manually_called",liveSubscriptionMysubsription:"delay_start_until_manually_called",giftCpcFaq:"live_gift_cpc_faq",liveFollowing:["live_discover","live_detail"],liveGaming:["live_discover","live_detail"],liveSingleGaming:["live_discover","live_detail"],liveLifestyle:"live_discover",liveCategory:"live_catalog",liveCategoryGaming:"live_catalog",liveCategoryLifestyle:"live_catalog",liveCategorySingleGaming:"each_game_catalog",liveCategorySingleLifeStyle:"each_lifestyle_catalog",liveCategorySingleAction:"each_action_catalog",liveEventAggregation:"live_event_aggregation",liveExplore:"seo_catalog"},s=e=>{const t=(0,r.Zx)(e);if(t){const o=a[t.name];return Array.isArray(o)?(0,l.U0)(e)?"live_discover":"live_detail":o}return"unknown"},d=()=>{const{pathname:e}=(0,n.zy)(),t=(0,i.useRef)(null);if(!t.current){const o=(0,r.Zx)(e);if(o){const i=a[o.name];if(Array.isArray(i)){const o=(0,l.U0)(e);t.current=o?"live_discover":"live_detail"}else t.current=i}else t.current="unknown"}return t.current}},74099:(e,t,o)=>{o.d(t,{U:()=>Dd});var i=o(27334),n=o(6019),r=o(11906),l=o(84770),a=o(22715),s=o(87490);const d=(0,a.Ay)({resolved:{},chunkName:()=>"page",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!o.m[t]},importAsync:()=>Promise.all([o.e(98239),o.e(32530)]).then(o.bind(o,48646)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve:()=>48646},s.B),c=(0,a.Ay)({resolved:{},chunkName:()=>"page",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!o.m[t]},importAsync:()=>Promise.all([o.e(98239),o.e(32530)]).then(o.bind(o,84550)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve:()=>84550},s.B),u=(0,a.Ay)({resolved:{},chunkName:()=>"pages",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!o.m[t]},importAsync:()=>Promise.all([o.e(41387),o.e(81429),o.e(22939),o.e(93278),o.e(29168),o.e(68105),o.e(32228),o.e(98239),o.e(77586),o.e(29017),o.e(95546),o.e(76423),o.e(11432),o.e(57239),o.e(8124),o.e(26871),o.e(95579),o.e(6647),o.e(19724),o.e(81805),o.e(41695),o.e(5754),o.e(19995),o.e(30237)]).then(o.bind(o,3844)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve:()=>3844},Object.assign(Object.assign({},s.B),{resolveComponent:e=>e.Kyc})),v=(0,a.Ay)({resolved:{},chunkName:()=>"pages",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!o.m[t]},importAsync:()=>Promise.all([o.e(41387),o.e(81429),o.e(22939),o.e(93278),o.e(29168),o.e(68105),o.e(32228),o.e(98239),o.e(77586),o.e(29017),o.e(95546),o.e(76423),o.e(11432),o.e(57239),o.e(8124),o.e(26871),o.e(95579),o.e(6647),o.e(19724),o.e(81805),o.e(41695),o.e(5754),o.e(19995),o.e(30237)]).then(o.bind(o,3844)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve:()=>3844},Object.assign(Object.assign({},s.B),{resolveComponent:e=>e.KycSubmission})),m=(0,a.Ay)({resolved:{},chunkName:()=>"page",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!o.m[t]},importAsync:()=>Promise.all([o.e(98239),o.e(32530)]).then(o.bind(o,89803)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve:()=>89803},Object.assign(Object.assign({},s.B),{resolveComponent:e=>e.LiveEvent}));var h=o(65622),g=o(57290),p=o(37379),f=o(26711),_=o(13452),y=o(68359),b=o(76053),x=o(74404),w=o(69872),S=o(11379),C=o(15474),I=o(52528),j=o(1387),k=o(70731),R=o(97603),L=o(2032),T=o(53240),A=o(63161);const P=(0,L.default)("div",{target:"e1wmm4yw1"})({width:"100%",height:82,display:"flex",flexDirection:"column"},"label:DivEventItem;"),E=(0,L.default)("div",{target:"e1wmm4yw2"})((({theme:e})=>[(0,T.zy)({theme:e,fontFamily:"TikTokFont",typography:"P2",fontWeight:"bold"}),{color:e.colors.Primary}]),"label:StyledLiveNowTag;"),D=(0,L.default)("div",{target:"e1wmm4yw3"})({height:30,width:"100%",marginTop:6},"label:DivEventTitleWrapper;"),M=(0,L.default)("div",{target:"e1wmm4yw4"})({marginTop:6},"label:DivEventHostWrapper;"),O=(0,L.default)(A.N_,{target:"e1wmm4yw5"})({display:"block",textDecoration:"none","&:hover":{textDecoration:"none"}},"label:StyledLink;"),F=e=>{var t,o;const{eventId:n,title:r,status:l,startTime:a,host:s,lang:d,onCardHover:c,onCardClick:u}=e,v=(0,I.s)(),m=(0,h.useMemo)((()=>{var e;return null!==(e=null==s?void 0:s.avatar_medium.url_list)&&void 0!==e?e:[]}),[s]),g=5===l;return(0,i.jsx)(O,Object.assign({to:`/live/event/${n}`},{children:(0,i.jsxs)(P,Object.assign({onMouseEnter:c,onClick:u},{children:[g?(0,i.jsx)(E,{children:v("webappLiveEvent_calendar_ongoingEvent")},void 0):(0,i.jsx)(k.D,{type:"calendar",loading:!1,startTime:a,lang:d},void 0),(0,i.jsx)(D,{children:(0,i.jsx)(C.QP,Object.assign({nowrap:!0,truncate:!0,block:!0,type:"H7",color:"TextPrimary",marginBlockStart:0,marginBlockEnd:0},{children:r}),void 0)},void 0),(0,i.jsx)(M,{children:(0,i.jsx)(R.i,{size:24,loading:!1,avatarUri:m,nickname:null!==(t=null==s?void 0:s.nickname)&&void 0!==t?t:"",uniqueId:null!==(o=null==s?void 0:s.unique_id)&&void 0!==o?o:"",verified:Boolean((null==s?void 0:s.custom_verify)||(null==s?void 0:s.enterprise_verify_reason)),isLiving:g},void 0)},void 0)]}),void 0)}),void 0)};var B=o(28037),q=o(57599),G=o(31323);const z={transform:"scaleX(-1)"},N=(0,L.default)(B.A,{target:"e1bpd4d80"})((({theme:e})=>[(0,T.mp)({direction:e.direction,marginStart:16}),{width:32,height:32,color:e.colors.TextSecondary}]),"label:StyledIconXMark;"),U=(0,L.default)(q.A,{target:"e1bpd4d81"})((({theme:e})=>[{width:32,height:32,color:e.colors.TextSecondary},"rtl"===e.direction?z:null]),"label:StyledIconWatchHistory;"),W=(0,L.default)(G.A,{target:"e1bpd4d82"})((({theme:e})=>[{width:24,height:24,color:e.colors.TextSecondary},"rtl"===e.direction?z:null]),"label:StyledIconChevronLeftOffset;"),V=(0,L.default)("div",{target:"e1bpd4d83"})((({theme:e})=>({background:e.colors.BGTertiary,width:"100%",height:640,display:"flex",flexDirection:"column"})),"label:DivModalWrapper;"),$=(0,L.default)("div",{target:"e1bpd4d84"})((({theme:e})=>({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",height:84,padding:24,borderBottom:`0.5px solid ${e.colors.LinePrimary2}`})),"label:DivModalHeaderWrapper;"),H=(0,L.default)("div",{target:"e1bpd4d85"})({display:"flex",flexDirection:"row",justifyContent:"flex-start"},"label:DivHeaderLeftWrapper;"),K=(0,L.default)("div",{target:"e1bpd4d86"})({display:"flex",flexDirection:"row",flex:1,justifyContent:"flex-end"},"label:DivHeaderRightWrapper;"),X=(0,L.default)("div",{target:"e1bpd4d87"})({flexGrow:0,flexShrink:0,display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},"label:DivIconWrapper;"),J=(0,L.default)("div",{target:"e1bpd4d88"})({display:"flex",justifyContent:"center",alignItems:"center",flex:1,width:"100%",height:"100%",overflow:"auto"},"label:DivModalContentWrapper;");var Q=o(46381),Z=o(51787);const Y=e=>(0,S.sH)(void 0,void 0,void 0,(function*(){var t;let o=!1;const i=yield(0,Q.h)("/tiktok/event/purchase_list/v1",{method:"post",query:e,baseUrlType:4});let n=Number(e.offset);return 0===i.status_code&&(n+=Number(null==e?void 0:e.count),o=null!==(t=null==i?void 0:i.has_more)&&void 0!==t&&t),{list:i.events||[],offset:n,hasMore:o}}));var ee=o(25715);const te={transform:"scaleX(-1)"},oe=(0,L.default)("div",{target:"eplkgsd0"})({width:"100%",height:"100%",flex:"1",overflowY:"auto"},"label:DivListContainer;"),ie=(0,L.default)("div",{target:"eplkgsd1"})((({isEmpty:e})=>({display:"flex",flexDirection:"column",padding:e?0:"12px 0"})),"label:DivEventList;"),ne=(0,L.default)("div",{target:"eplkgsd2"})({padding:"14px 24px"},"label:DivEventItemWrapper;"),re=(0,L.default)("div",{target:"eplkgsd3"})({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},"label:DivEmptyContentWrapper;"),le=(0,L.default)("div",{target:"eplkgsd4"})({flexGrow:0,flexShrink:0,display:"flex",justifyContent:"center",alignItems:"center",marginBottom:24},"label:DivEmptyIconWrapper;"),ae=(0,L.default)(ee.A,{target:"eplkgsd5"})((({theme:e})=>[{width:72,height:72,fill:e.colors.TextTertiaryAlt},"rtl"===e.direction?te:null]),"label:StyledIconLargeEvent;"),se=(0,L.default)("div",{target:"eplkgsd6"})((({theme:e})=>[(0,T.zy)({theme:e,fontFamily:"TikTokDisplayFont",typography:"P3"}),{color:e.colors.TextTertiaryAlt}]),"label:DivEmptyContent;");var de,ce=o(70091);!function(e){e[e.available=0]="available",e[e.history=1]="history"}(de||(de={}));const ue=(0,h.memo)((({userId:e,type:t})=>{const o=(0,I.s)(),{language:n="en"}=ce.t,r=(0,h.useRef)(null),l=(0,h.useRef)(t),a=t===de.history,s=t===de.available,{list:d,loading:c,noMore:u,cancel:v,reload:m,mutate:g}=((e,t,o,i)=>{const{data:n,loading:r,loadingMore:l,noMore:a,cancel:s,reload:d,mutate:c}=(0,Z.A)((i=>(0,S.sH)(void 0,void 0,void 0,(function*(){const{list:n,hasMore:r,offset:l}=yield Y({offset:(null==i?void 0:i.offset)||0,count:10,user_id:e,only_history:t,only_upcoming:o,only_registered:!0});return{list:(null==i?void 0:i.list)?null==n?void 0:n.filter((e=>{var t;return-1===(null===(t=null==i?void 0:i.list)||void 0===t?void 0:t.findIndex((t=>(null==t?void 0:t.id)===(null==e?void 0:e.id))))})):n,hasMore:r,offset:l}}))),{target:i,isNoMore:e=>!e||!(null==e?void 0:e.hasMore)});return{list:(null==n?void 0:n.list)||[],loading:r,loadingMore:l,noMore:a,cancel:s,reload:d,mutate:c}})(e,a,s,r);return(0,h.useEffect)((()=>{l.current!==t&&(v(),g((e=>e?Object.assign(Object.assign({},e),{list:[],offset:0,hasMore:!1}):e)),m(),l.current=t)}),[t,l,g,m,v]),(0,h.useEffect)((()=>{(0,f.$G)(n)}),[n]),(0,i.jsxs)(oe,Object.assign({ref:r},{children:[(0,i.jsx)(ie,Object.assign({isEmpty:0===d.length},{children:d.map((e=>(0,i.jsx)(ne,{children:(0,i.jsx)(F,{eventId:null==e?void 0:e.id,title:null==e?void 0:e.title,status:null==e?void 0:e.status,startTime:null==e?void 0:e.start_time,duration:null==e?void 0:e.duration,host:null==e?void 0:e.host,lang:n},void 0)},null==e?void 0:e.id)))}),void 0),!c&&u&&0===d.length&&(0,i.jsxs)(re,{children:[(0,i.jsx)(le,{children:(0,i.jsx)(ae,{},void 0)},void 0),(0,i.jsx)(se,{children:t===de.history?o("webappLiveEvent_calendar_pastEventEmptyState_desc"):o("webappLiveEvent_calendar_emptyState_desc")},void 0)]},void 0)]}),void 0)})),ve=(0,h.memo)((({visible:e,onClose:t})=>{const o=(0,I.s)(),{user:n}=ce.t,r=null==n?void 0:n.uid,[l,a]=(0,h.useState)(!1),s=(0,h.useCallback)((()=>{a(!0),j.P.handleLiveEventCalendarClick({click_for:"past_event"})}),[]),d=(0,h.useCallback)((()=>{a(!1)}),[]),c=(0,h.useCallback)((()=>{null==t||t()}),[t]),u=(0,C.eb)({closeOnBackdropClick:!1});return(0,h.useEffect)((()=>{e?(j.P.handleLiveEventCalendarEnter(),u.open()):u.close()}),[e]),(0,i.jsx)(C.nO,Object.assign({},u,{width:"Medium",height:"Compact",hasCloseButton:!1},{children:(0,i.jsxs)(V,{children:[(0,i.jsxs)($,{children:[(0,i.jsxs)(H,{children:[l&&(0,i.jsx)(X,Object.assign({onClick:d},{children:(0,i.jsx)(W,{},void 0)}),void 0),(0,i.jsx)(C.QP,Object.assign({type:"H6",color:"TextPrimary",inline:!0},{children:o(l?"webappLiveEvent_calendar_pastEvent":"webappLiveEvent_calendar_header")}),void 0)]},void 0),(0,i.jsxs)(K,{children:[!l&&(0,i.jsx)(X,Object.assign({onClick:s},{children:(0,i.jsx)(U,{},void 0)}),void 0),(0,i.jsx)(X,Object.assign({onClick:c},{children:(0,i.jsx)(N,{},void 0)}),void 0)]},void 0)]},void 0),(0,i.jsx)(J,{children:(0,i.jsx)(ue,{userId:r,type:l?de.history:de.available},void 0)},void 0)]},void 0)}),void 0)})),me=(0,L.default)("div",{target:"e1lli13i0"})((({theme:e})=>({width:"100%",background:e.colors.BGPrimary,display:"flex",flexDirection:"column",padding:24,borderRadius:8,boxShadow:"0px 4px 12px 0px rgba(0, 0, 0, 0.05)",marginBottom:16})),"label:DivEventCalendarOverview;"),he=(0,L.default)("div",{target:"e1lli13i1"})({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},"label:DivOverviewHeaderWrapper;"),ge=(0,L.default)("div",{target:"e1lli13i2"})({display:"flex",flexDirection:"row",alignItems:"center"},"label:DivOverviewContentWrapper;"),pe=(0,L.default)("div",{target:"e1lli13i3"})((({theme:e})=>[(0,T.zy)({theme:e,fontFamily:"TikTokDisplayFont"}),{fontSize:"16px",color:e.colors.TextPrimary}]),"label:DivOverviewEmptyContent;"),fe=(0,L.default)("div",{target:"e1lli13i4"})([{width:"100%",display:"grid",gridColumnGap:16,gridRowGap:8,gridTemplateColumns:"repeat(2, minmax(468px, 1fr))"},(0,T.jJ)({max:1080,style:{gridTemplateColumns:"repeat(1, 1fr)"}})],"label:DivOverviewEventGrid;"),_e=(0,L.default)("div",{target:"e1lli13i5"})((({theme:e})=>({height:114,minWidth:468,padding:"16px 21px",borderRadius:8,border:`1px solid ${e.colors.LineSecondary}`})),"label:DivOverviewEventItemWrapper;");var ye=o(58653);const be=()=>{const[e,t]=(0,h.useState)([]),[o,n]=(0,h.useState)(!1),[r,l]=(0,h.useState)(!1),a=(0,I.s)(),{user:s,language:d}=ce.t,c=(0,h.useCallback)((()=>{l(!0),j.P.handleLiveEventCalendarSeeMoreClick()}),[]),u=(0,h.useCallback)((()=>{l(!1)}),[]),v=(0,h.useCallback)((e=>(0,S.sH)(void 0,void 0,void 0,(function*(){var o;const i=yield Y({user_id:e,count:10,only_registered:!0}),r=null==i?void 0:i.list,l=null===(o=null==r?void 0:r.filter((e=>(0,ye.y)(e))))||void 0===o?void 0:o.slice(0,2);n((null==r?void 0:r.length)>0),t(l)}))),[]);return(0,h.useEffect)((()=>{(null==s?void 0:s.uid)?v(s.uid).then((()=>{})).catch((()=>{})):n(!1)}),[null==s?void 0:s.uid,v]),o?(0,i.jsxs)(me,{children:[(0,i.jsxs)(he,{children:[(0,i.jsx)(C.QP,Object.assign({block:!0,type:"H6",color:"TextPrimary"},{children:a("webappLiveEvent_calendar_header")}),void 0),(0,i.jsx)(C.L5,{variant:"primary",size:"P3",label:a("webappLiveEvent_calendar_seeMore"),onClick:c},void 0)]},void 0),(null==e?void 0:e.length)>0?(0,i.jsx)(fe,{children:e.map((e=>(0,i.jsx)(_e,{children:(0,i.jsx)(F,{eventId:null==e?void 0:e.id,title:null==e?void 0:e.title,status:null==e?void 0:e.status,startTime:null==e?void 0:e.start_time,duration:null==e?void 0:e.duration,host:null==e?void 0:e.host,lang:d},void 0)},null==e?void 0:e.id)))},void 0):(0,i.jsx)(ge,{children:(0,i.jsx)(pe,{children:a("webappLiveEvent_calendar_emptyState_desc")},void 0)},void 0),r&&(0,i.jsx)(ve,{visible:!0,onClose:u},void 0)]},void 0):(0,i.jsx)(i.Fragment,{},void 0)};var xe=o(14572);const we=(0,L.default)("div",{target:"eae1hs60"})((({headerHeight:e})=>({display:"flex",flexDirection:"column",padding:"24px 48px",width:"100%",height:`calc(100vh - ${e}px)`,overflowY:"auto"})),"label:PageContainer;");var Se=o(24142);const Ce=e=>{var t;const{enterFrom:o,onEventListEmpty:n,className:r}=e,{language:l="en"}=ce.t;(0,_.x)("live_event_aggregation"),(0,g.E)(),(0,h.useEffect)((()=>{(0,f.$G)(l)}),[l]);const a=(0,A.W6)(),s=o||(0,w.parse)(location.search).enter_from||(null===(t=a.location.state)||void 0===t?void 0:t.enter_from),d=(0,p.nH)(),c=(0,h.useRef)(0);(0,b.A)((()=>{c.current=Date.now(),y.Zz.handleLiveEventAggregationAction(y.hz.PageEnter,{enter_from:s})})),(0,x.A)((()=>{const e=Math.floor((Date.now()-c.current)/1e3);y.Zz.handleLiveEventAggregationAction(y.hz.PageLeave,{enter_from:s,stay_time:e})}));const u=(0,h.useCallback)((()=>{y.Zz.handleLiveEventAggregationAction(y.hz.EmptyList,{user_is_login:d?1:0}),null==n||n()}),[]),v=(0,h.useRef)(null),m=(0,Se.$)();return(0,i.jsxs)(we,Object.assign({ref:v,className:r,headerHeight:m},{children:[(0,i.jsx)(be,{},void 0),(0,i.jsx)(xe.d,{showBackToTop:!0,onEventListEmpty:u,scrollRef:v},void 0)]}),void 0)};var Ie=o(54764),je=o(15436);const ke=L.default.div`
  display: inline-block;
  padding: 2px 6px;
  border-radius: 4px;
  background-color: ${({theme:e})=>e.colors.UIShapeNeutral4};
  ${({theme:e})=>(0,T.zy)({theme:e,color:"UIText1",fontWeight:"medium"})}
  font-size: 15px;
`,Re=e=>{const{content:t,className:o}=e;return(0,i.jsx)(ke,Object.assign({className:o},{children:t}),void 0)},Le=L.default.div`
  margin-top: 36px;
  display: flex;
`,Te=L.default.div`
  height: 216px;
  width: 160px;
  border-radius: 8px;
  overflow: hidden;
  flex-shrink: 0;
  margin-inline-end: 32px;
`,Ae=(0,L.default)(je.I)`
  height: 100%;
  width: 100%;
  object-fit: cover;
`,Pe=L.default.div`
  display: flex;
  flex-direction: column;
  flex-grow: 1;
`,Ee=L.default.div`
  margin-top: 8px;
  ${({theme:e})=>(0,T.zy)({theme:e,color:"TextTertiaryAlt",fontWeight:"medium"})}
  font-size: 17px;
`,De=L.default.div`
  display: flex;
  flex-wrap: wrap;
  row-gap: 8px;
  margin-top: 16px;
`,Me=L.default.h1`
  ${({theme:e})=>(0,T.zy)({theme:e,color:"TextPrimary",typography:"H3",fontWeight:"bold"})}
`,Oe=(0,L.default)(Re)`
  margin-inline-end: 8px;
`,Fe=L.default.div`
  max-width: 528px;
  margin-top: 16px;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
  ${({theme:e})=>(0,T.zy)({theme:e,color:"TextPrimary",typography:"P2",fontWeight:"normal"})}
`,Be=L.default.a`
  ${({theme:e})=>(0,T.zy)({theme:e,fontWeight:"normal"})}
  color: ${({theme:e,href:t})=>t?e.colors.ConstSecondary2:e.colors.TextTertiaryAlt} !important;
  cursor: ${({href:e})=>e?"pointer":"not-allowed"};
`,qe=L.default.div`
  ${({theme:e})=>(0,T.zy)({theme:e,color:"TextPrimary",typography:"P2",fontWeight:"normal"})}
  margin-top: 2px;
`,Ge=()=>(0,i.jsxs)(Le,{children:[(0,i.jsx)(Te,{children:(0,i.jsx)(C.sO,{height:216,width:160},void 0)},void 0),(0,i.jsxs)(Pe,{children:[(0,i.jsx)(C.sO,{height:38,width:528},void 0),(0,i.jsx)(C.sO,{height:22,width:108,marginBlockStart:8},void 0),(0,i.jsx)(C.sO,{height:26,width:325,marginBlockStart:16},void 0),(0,i.jsx)(C.sO,{height:20,width:528,marginBlockStart:16},void 0),(0,i.jsx)(C.sO,{height:20,width:528,marginBlockStart:2},void 0),(0,i.jsx)(C.sO,{height:20,width:528,marginBlockStart:2},void 0),(0,i.jsx)(C.sO,{height:20,width:528,marginBlockStart:2},void 0)]},void 0)]},void 0);var ze=o(5651),Ne=o(15136),Ue=o(53193),We=o(48796),Ve=o(22542),$e=o(29820);const He={mix_talent:"talent_catalog",fashion:"fashion_catalog",outdoor:"outdoors_catalog",chatting:"chatting_catalog"};function Ke(e){if((0,A.B6)(e,{path:l.vI.liveCategory,exact:!0}))return"all_categories";if((0,A.B6)(e,{path:l.vI.liveCategoryGaming,exact:!0}))return"games_catalog";if((0,A.B6)(e,{path:l.vI.liveCategoryLifestyle,exact:!0}))return"lifestyle_catalog";if((0,A.B6)(e,{path:l.vI.liveCategorySingleGaming,exact:!0})){const t=e.replace(`${l.vI.liveCategoryGaming}/`,"");return`${(0,$e.E)(t)}_game_catalog`}if((0,A.B6)(e,{path:l.vI.liveCategorySingleLifeStyle,exact:!0})){const t=e.replace(`${l.vI.liveCategoryLifestyle}/`,"");return He[t]||`${t}_catalog`}if((0,A.B6)(e,{path:l.vI.liveCategorySingleAction,exact:!0})){const t=e.split("/"),o=t[t.length-1];return`${(0,$e.E)(o)}_catalog`}}const Xe=e=>{const t=(0,I.s)(),{gameEntity:o}=e,{handleWikipediaClick:n,handleLicenseClick:r}=(e=>{const t=(0,A.W6)(),{pathname:o}=t.location;return(0,h.useEffect)((()=>{var t,i;e&&Ve.h.handleTextLinkShow({enter_from_merge:Ke(o),is_license:(null===(t=e.game_source)||void 0===t?void 0:t.licenses_url)?1:0,is_wikipedia:(null===(i=e.game_source)||void 0===i?void 0:i.source_url)?1:0})}),[e]),{handleLicenseClick:(0,We.A)((()=>{Ve.h.handleTextLinkClick({is_license:1,is_wikipedia:0,enter_from_merge:Ke(o)})})),handleWikipediaClick:(0,We.A)((()=>{Ve.h.handleTextLinkClick({is_wikipedia:1,is_license:0,enter_from_merge:Ke(o)})}))}})(o),{viewer_count:l,cover_url:a,summary:s,game_genres:d,game_source:c}=o||{},u=(0,h.useMemo)((()=>{const e=Number(l||0);return e<1e4?(0,Ie.Z)(e):(0,Ie.s)(e)}),[l]),v=(0,Ue.A)((()=>({text:e})=>(0,i.jsx)(Be,Object.assign({href:null==c?void 0:c.source_url,target:"_blank",rel:"noopener noreferrer",onClick:n},{children:e}),"source")),[c]),m=(0,Ue.A)((()=>({text:e})=>(0,i.jsx)(Be,Object.assign({href:null==c?void 0:c.licenses_url,target:"_blank",rel:"noopener noreferrer",onClick:r},{children:e}),"licenses")),[c]),g=(0,ze.Eo)();return o?(0,i.jsxs)(Le,{children:[(0,i.jsx)(Te,{children:(0,i.jsx)(Ae,{src:a},void 0)},void 0),(0,i.jsxs)(Pe,{children:[(0,i.jsx)(Me,{children:o.game_name},void 0),!g&&(0,i.jsx)(Ee,{children:t("ttlive_webPC_LIVEviewercount_desc",{num:u})},void 0),(null==d?void 0:d.length)?(0,i.jsx)(De,{children:d.map((e=>(0,i.jsx)(Oe,{content:e},e)))},void 0):null,s&&(0,i.jsx)(Fe,{children:s},void 0),(null==c?void 0:c.licenses_url)&&(null==c?void 0:c.source_url)&&(0,i.jsx)(qe,{children:(0,i.jsx)(Ne.U,{text:t("ttlive_webPC_wikiLicenseLink_desc"),matchArr:"[]",replaceComponents:[v,m]},void 0)},void 0)]},void 0)]},void 0):(0,i.jsx)(Ge,{},void 0)};var Je=o(7603),Qe=o(41872),Ze=o(11991),Ye=o(1880),et=o(95090);var tt=o(60573),ot=o(15124),it=o(28803),nt=o(45372),rt=o.n(nt);const lt=function(e){const{className:t,childrenList:o,type:n,isLoading:r,onScrollToBottom:l=rt(),initialPlaceholderCount:a=0,placeholderComponent:s,enableHideIncompleteRow:d=!1}=e,{colCount:c}=(0,ot.J)(n),u=(0,We.A)((()=>{r||l()})),{detectComponent:v,isInViewRef:m}=(0,it.O)({onScrollToBottom:u});(0,h.useEffect)((()=>{!r&&m.current&&l()}),[r,l,m]);const g=o.length<c||!d?o.length:o.length-o.length%c,p=a<c||!d?a:a-a%c;let f=null;!o.length&&a&&s&&(f=new Array(p).fill(1).map(((e,t)=>(0,i.jsx)(s,{index:t},`initial-${t}`))));let _=null;return r&&o.length&&s&&(_=new Array(d?c:2*c-g%c).fill(1).map(((e,t)=>(0,i.jsx)(s,{index:t},`loading-${t}`)))),(0,i.jsxs)(tt.d,Object.assign({className:t,type:n},{children:[o.slice(0,g),f,_,v]}),void 0)};var at=o(23810);const st=(0,L.default)(lt,{target:"e1i4bkzs0"})({gap:"36px 24px",marginTop:"24px"},"label:StyledSectionWrapper;"),dt=L.default.div`
  width: 100%;
  margin-top: 170px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
`,ct=L.default.div`
  ${({theme:e})=>(0,T.zy)({theme:e,color:"TextPrimary",fontWeight:"bold"})};
  font-size: 24px;
  text-align: center;
  max-width: 480px;
`,ut=L.default.div`
  ${({theme:e})=>(0,T.zy)({theme:e,color:"TextSecondary"})};
  font-size: 16px;
  text-align: center;
  max-width: 480px;
  margin-top: 8px;
`,vt=(0,L.default)(at.y)`
  margin-top: 24px;
  width: auto;
  padding-left: 32px;
  padding-right: 32px;
`;var mt=o(48776),ht=o(56421),gt=o(2809),pt=o.n(gt),ft=o(80482),_t=o(2576),yt=o(69775),bt=o(17846);const xt=e=>{const{liveData:t,categoryInfo:o,cardIndex:n,getFeedData:r}=e,{enterRoomUrl:l,goLiveRoom:a,handleCardExposure:s,handleCardHover:d,handleError:c,goUserProfile:u,handlePreviewPlayEnd:v,handlePreviewPlayStart:m}=(({liveData:e,categoryInfo:t,cardIndex:o,getFeedData:i})=>{var n,r;const{handlePreloadLiveRoom:l}=(0,bt.W)(),a=(0,A.W6)(),{pathname:s}=a.location,d=(0,Ue.A)((()=>{var t,o;return(null===(o=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.owner)||void 0===o?void 0:o.display_id)?(0,yt.B)(e.data.owner.display_id):""}),[e]),c=(0,_t.OB)(!0),u=(0,h.useMemo)((()=>{var t,o,i,n;return null===(n=null===(i=null===(o=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.owner)||void 0===o?void 0:o.own_room)||void 0===i?void 0:i.room_ids_str)||void 0===n?void 0:n[0]}),[null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.owner]),v=(0,h.useMemo)((()=>{var t,o;return null===(o=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.owner)||void 0===o?void 0:o.id_str}),[null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.owner]),m=(0,Ue.A)((()=>{var i;return t?{impr_position:String(o+1),enter_from_merge:Ke(s),enter_method:"live_cover",anchor_id:v,room_id:u,is_non_personalized:c?"0":"1",is_multi_stream_room:(null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.multi_stream_url)?"1":"0"}:null}),[t,e,c,u,v]),{setFeedEnterScene:g,setOuterUnseenFeedList:p}=(0,ht.N)((e=>({setFeedEnterScene:e.setFeedEnterScene,setOuterUnseenFeedList:e.setOuterUnseenFeedList}))),f=(0,We.A)((()=>{if(!e||!t)return;if(ft.F.handleClick(Object.assign({},m)),(null==e?void 0:e.data)&&l(e.data,{enter_from_merge:Ke(s),enter_method:"live_cover",from_live_feed:!0,enter_type:"manual",is_auto_play:"off",auto_play_type:"enter_room",request_id:e.rid,manual_play_type:"click_btn",impr_position:String(o+1)}),!i||!t.channelId)return;const{feedData:n,hasMore:r,maxTime:a}=i(),d=n.findIndex((t=>{var o,i;return(null===(o=t.data)||void 0===o?void 0:o.id_str)===(null===(i=e.data)||void 0===i?void 0:i.id_str)})),c=-1===d?[]:n.reduce(((e,t,o)=>(o>=d&&e.push(pt()(t)),e)),[]);p({maxTime:a,hasMore:r,leftFeedList:c}),g({relatedLiveTag:t.relatedLiveTag,channelId:t.channelId,reqFrom:t.reqFrom,reqFromMore:t.reqFromMore})})),_=(0,h.useCallback)((()=>{m&&ft.F.handleLiveShow(Object.assign({},m))}),[m]),y=(0,h.useCallback)((()=>{m&&ft.F.handleCardHover(Object.assign({},m))}),[m]),b=(0,h.useCallback)((()=>{m&&ft.F.handlePreviewPlayFail(Object.assign({},m))}),[m]),x=(0,h.useRef)(0),w=(0,h.useCallback)((()=>{x.current=Date.now()}),[]),S=(0,h.useCallback)((()=>{if(x.current&&m){const e=Date.now()-x.current;ft.F.handlePreviewDurationV2(Object.assign(Object.assign({},m),{duration:e})),x.current=0}}),[m]);return{goLiveRoom:f,enterRoomUrl:d,handleCardExposure:_,handleCardHover:y,goUserProfile:(0,We.A)(rt()),handleError:b,handlePreviewPlayStart:w,handlePreviewPlayEnd:S}})({liveData:t,categoryInfo:o,cardIndex:n,getFeedData:r});return(0,i.jsx)(mt.L,{liveData:t,roomUrl:l,handleCardClick:a,handleCardExposure:s,handleCardHover:d,handlePreviewPlayFail:c,handleUserProfileClick:u,handlePreviewPlayStart:m,handlePreviewPlayEnd:v},void 0)},wt=({index:e})=>(0,i.jsx)(xt,{cardIndex:e},void 0),St=({onGoBack:e})=>{const t=(0,I.s)();return(0,i.jsxs)(dt,{children:[(0,i.jsx)(ct,{children:t("ttlive_webPC_emptyState_title")},void 0),(0,i.jsx)(ut,{children:t("ttlive_webPC_emptyState_desc")},void 0),(0,i.jsx)(vt,Object.assign({onClick:e},{children:t("ttlive_webPC_emptyState_btn")}),void 0)]},void 0)};var Ct=o(5927),It=o(93686),jt=o(8580),kt=o(15907);const Rt=e=>{const{className:t,title:o,categoryInfo:n,onGoBack:r=rt()}=e,{feedData:l,isLoading:a,loadMore:s,isFetching:d,hasMore:c,maxTime:u}=function(e){const{streamDeviceType:t}=(0,kt.G)(),o=(0,_t.OB)(!0),i=(0,Ze.Nj)(jt.lJ),{data:n,isLoading:r,isFetching:l,isError:a,fetchNextPage:s,hasNextPage:d,error:c}=(0,Ct.q)({queryKey:["category-recommend",e.channelId,e.relatedLiveTag],queryFn:({pageParam:i})=>{const n={channel_id:e.channelId,req_from:(null==i?void 0:i.hasMore)?e.reqFromMore:e.reqFrom,related_live_tag:e.relatedLiveTag,is_non_personalized:o?0:1,device_type:t};return(0,It.x)(n)},retry:2,retryDelay:2e3,cacheTime:0,getNextPageParam:e=>{var t;if(null===(t=null==e?void 0:e.extra)||void 0===t?void 0:t.has_more)return{hasMore:!0}}}),u=null==n?void 0:n.pages[0],v=(0,h.useMemo)((()=>u&&0!==u.status_code||a),[u,a]),m=(0,h.useMemo)((()=>v&&!a?null==u?void 0:u.data:c),[null==u?void 0:u.data,v,c,a]);if((0,h.useEffect)((()=>{var e,t;if(l)return;const o=null===(e=null==n?void 0:n.pages)||void 0===e?void 0:e.slice(-1).pop();0!==(null==o?void 0:o.status_code)?i.handleLiveFeedFail(null!==(t=null==o?void 0:o.data)&&void 0!==t?t:c):i.handleLiveFeedSuccess()}),[l,v,i,m,n]),m&&!(null==n?void 0:n.pages.length))throw console.error(m),m;const g=(0,h.useMemo)((()=>!v&&n?n.pages.filter((e=>{var t;return null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.length})).map((e=>e.data)).flat():[]),[n,v]),p=(0,h.useMemo)((()=>{var e,t,o;if(!v&&n){const i=null!==(o=null===(t=null===(e=n.pages.filter((e=>{var t;return null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.length})).slice(-1).pop())||void 0===e?void 0:e.extra)||void 0===t?void 0:t.max_time)&&void 0!==o?o:0;return Number(i)}return 0}),[n,v]);return{feedData:g,isError:v,isFetching:l,hasMore:Boolean(d),loadMore:s,isLoading:r,maxTime:p}}(n),v=(0,We.A)((()=>({feedData:l,maxTime:u,hasMore:c}))),m=!a&&0===(null==l?void 0:l.length);return(0,i.jsxs)(i.Fragment,{children:[o,m?(0,i.jsx)(St,{onGoBack:r},void 0):(0,i.jsx)(st,{className:t,type:"medium",initialPlaceholderCount:12,placeholderComponent:wt,isLoading:d,onScrollToBottom:s,enableHideIncompleteRow:c||a,childrenList:l.map(((e,t)=>(0,i.jsx)(xt,{cardIndex:t,liveData:e,categoryInfo:n,getFeedData:v},`section-card-${t}`)))},void 0)]},void 0)},Lt=(0,L.default)(Rt)`
  margin-top: 36px;
`,Tt=()=>{const{gameTag:e=""}=(0,r.g)(),{gameEntity:t,categoryInfo:o,handleGoBackClick:n}=(({rawGameTag:e})=>{const t=(0,Ze.Nj)(Ye.o),o=(0,$e.E)(e),i=(0,Ue.A)((()=>({channelId:1111009,reqFrom:"pc_web_game_category_feed_refresh",reqFromMore:"pc_web_game_category_feed_loadmore",relatedLiveTag:o})),[o]),{isLoading:n,error:r,isError:a,gameEntity:s,statusCode:d}=function(e){const{data:t,isLoading:o,isError:i,error:n}=(0,Je.I)({queryKey:["getGameEntity",e],queryFn:()=>(0,Qe.e)({game_tag:e}),enabled:Boolean(e),retryDelay:2e3,retry:2}),r=!o&&(i||0!==(null==t?void 0:t.status_code)),l=r?n||new Error(`Error fetching game entity, status code: ${null==t?void 0:t.status_code}`):null;return{statusCode:null==t?void 0:t.status_code,gameEntity:null==t?void 0:t.data,isLoading:o,isError:r,error:l}}(o),c=(0,A.W6)(),{pathname:u}=c.location,v=(0,Ue.A)((()=>Ke(u)),[]);(0,h.useEffect)((()=>{n||(a?t.handleGameEntityFetchFail(r,v):t.handleGameEntityFetchSuccess(v))}),[n,r,a,v,t]);const m=(0,We.A)((()=>{c.push(l.O.liveGaming())}));(0,h.useEffect)((()=>{n||(null==s?void 0:s.entity)||10011!==d||(t.handleEmptyCategoryJump(v,"game_entity_not_exist"),m())}),[n,s,m,v,t]);const g=(0,We.A)((()=>{t.handleEmptyCategoryJump(v,"feed_empty"),m()}));return(0,h.useEffect)((()=>{var e,t,o;n&&(et.h.liveCategorySingleGamingParams=void 0),!n&&(null==s?void 0:s.entity)&&(et.h.liveCategorySingleGamingParams={gameName:null!==(e=s.entity.game_name)&&void 0!==e?e:"",viewerCount:null!==(t=Number(s.entity.viewer_count))&&void 0!==t?t:0,gameIntroduction:null!==(o=s.entity.summary)&&void 0!==o?o:""})}),[n,s]),{gameEntity:null==s?void 0:s.entity,categoryInfo:i,handleGoBackClick:g}})({rawGameTag:e});return(0,i.jsxs)("div",{children:[(0,i.jsx)(Xe,{gameEntity:t},void 0),(0,i.jsx)(Lt,{categoryInfo:o,onGoBack:n},void 0)]},void 0)},At=(0,L.default)("div",{target:"ez1at4o0"})((({headerHeight:e})=>({height:`calc(100vh - ${e}px)`,width:"100%",minWidth:470,overflowX:"hidden",overflowY:"auto",padding:"0 48px 104px 48px","::-webkit-scrollbar":{width:0}})),"label:DivScrollWrapper;"),Pt=(0,L.default)("button",{target:"ez1at4o1"})((({theme:e,needShowIntoView:t})=>[{position:"fixed",bottom:-32,zIndex:10,border:"none",outline:"none",padding:0,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:32,background:e.colors.Primary,boxShadow:"rgba(0, 0, 0, 0.6) 0px 2px 8px",transition:"transform 0.4s cubic-bezier(.2,.54,.55,1.54)",transform:"translate3d(0, 0, 0)"},(0,T.mp)({direction:e.direction,end:24}),t?{transform:"translate3d(0, -40px, 0)"}:void 0]),"label:ButtonIconContainer;");var Et=o(21574),Dt=o(57063),Mt=o(82103),Ot=o(42851);const Ft=(0,Ot.BX)({positionRecord:{live_discover:{x:0,y:0},live_catalog:{x:0,y:0},each_game_catalog:{x:0,y:0},each_lifestyle_catalog:{x:0,y:0},each_action_catalog:{x:0,y:0}}}),Bt=(0,h.memo)((function(e){const{pageName:t,children:o,needShowToTop:n=!0,needRecordPosition:r}=e,l=(0,h.useRef)(null),[a,{setTrue:s,setFalse:d}]=(0,Dt.A)(!1),c=(0,A.W6)();(0,h.useEffect)((()=>{var e;if(!r)return;"POP"===c.action&&(null===(e=Ft.positionRecord[t])||void 0===e?void 0:e.y)&&setTimeout((()=>{var e;null===(e=l.current)||void 0===e||e.scrollTo({left:0,top:Ft.positionRecord[t].y})}),0);const o=c.listen((()=>{var e,o;((null===(e=l.current)||void 0===e?void 0:e.scrollTop)||0===(null===(o=l.current)||void 0===o?void 0:o.scrollTop))&&(Ft.positionRecord[t].y=l.current.scrollTop)}));return()=>{o()}}),[]);const{run:u}=(0,Mt.A)((()=>{if(l.current){const e=l.current.scrollTop;e>500&&!a?s():e<=500&&a&&d()}}),{wait:300}),v=(0,h.useCallback)((()=>{var e;null===(e=l.current)||void 0===e||e.scrollTo({top:0,behavior:"smooth"})}),[]),m=(0,Se.$)();return(0,i.jsxs)(At,Object.assign({ref:l,onScroll:n?u:void 0,headerHeight:m},{children:[o,n&&(0,i.jsx)(Pt,Object.assign({onClick:v,needShowIntoView:a},{children:(0,i.jsx)(C.Ft,{icon:Et.A,size:16,color:"ConstTextInverse"},void 0)}),void 0)]}),void 0)})),qt=()=>((0,_.x)("each_game_catalog",{clientVersionName:"live_v3"}),(0,g.E)(),(0,i.jsx)(Bt,Object.assign({pageName:"each_game_catalog"},{children:(0,i.jsx)(Tt,{},void 0)}),void 0)),Gt=L.default.h1`
  margin-top: 32px;
  ${({theme:e})=>(0,T.zy)({theme:e,color:"TextPrimary",typography:"H3",fontWeight:"bold"})}
`,zt=(0,L.default)(Rt)`
  margin-top: 32px;
`;var Nt=o(31520);const Ut=()=>{const{category:e=Nt.Ir.Chatting}=(0,r.g)(),{categoryInfo:t,title:o,handleGoBackClick:n}=(({category:e})=>{const t=(0,Ze.Nj)(Ye.o),o=(0,A.W6)(),{pathname:i}=o.location,n=(0,Ue.A)((()=>Ke(i)),[]),r=(e=>{const t=(0,I.s)();return(0,Ue.A)((()=>({[Nt.Ir.Chatting]:t("ttlive_webPC_categoryNameChat_title"),[Nt.Ir.Outdoor]:t("ttlive_webPC_categoryNameOutdoors_title"),[Nt.Ir.Fashion]:t("ttlive_webPC_categoryNameFashion_title"),[Nt.Ir.Talent]:t("ttlive_webPC_categoryNameTalents_title")})),[t])[e||""]})(e)||"",a=(0,Ue.A)((()=>({channelId:1222001,reqFrom:"webapp_taxonomy_drawer_enter_feed",reqFromMore:"webapp_taxonomy_drawer_feed_loadmore",relatedLiveTag:e})),[e]),s=(0,We.A)((()=>{o.push(l.O.liveLifestyle())}));(0,h.useEffect)((()=>{Nt.Ac.has(e)||(t.handleEmptyCategoryJump(n,"category_not_exist"),s())}),[s,e,t]);const d=(0,We.A)((()=>{t.handleEmptyCategoryJump(n,"feed_empty"),s()}));return(0,h.useEffect)((()=>{et.h.liveCategorySingleLifestyleParams={categoryName:r,category:e}}),[r,e]),{categoryInfo:a,title:r,handleGoBackClick:d}})({category:e});return(0,i.jsx)("div",{children:(0,i.jsx)(zt,{title:(0,i.jsx)(Gt,{children:o},void 0),categoryInfo:t,onGoBack:n},void 0)},void 0)},Wt=()=>((0,_.x)("each_lifestyle_catalog",{clientVersionName:"live_v3"}),(0,g.E)(),(0,i.jsx)(Bt,Object.assign({pageName:"each_lifestyle_catalog"},{children:(0,i.jsx)(Ut,{},void 0)}),void 0));var Vt=o(20737),$t=o(94686),Ht=o(42612);const Kt=(0,L.default)("div",{target:"ervsv120"})((({oldSideWidth:e,isNewSideNav:t})=>Object.assign(Object.assign({width:`calc(100vw - 96px - ${t?Ht.pJ:`${e}px`})`},t&&{[`@media (max-width: ${C.f5.Medium}px)`]:{width:`calc(100vw - 96px - ${Ht.dK})`}}),!t&&{"@media (max-width: 1071px)":{width:"calc(100vw - 96px - 72px)"}})),"label:DivFeedTabContainer;"),Xt=(0,L.default)("div",{target:"ervsv121"})((({theme:e,rightIcon:t,ltr:o,visible:i})=>({display:"flex",justifyContent:t&&o||!t&&!o?"flex-end":"flex-start",position:"absolute",top:0,right:t?"0px":void 0,left:t?void 0:"0px",zIndex:i?1:-1,transition:"opacity .2s ease-out",opacity:i?1:0,width:"60px",height:"100%",background:t?`linear-gradient(270.11deg, ${e.colors.BGPrimary} 0.09%, rgba(255, 255, 255, 0) 100.83%)`:`linear-gradient(270.11deg, rgba(255, 255, 255, 0) 0.09%, ${e.colors.BGPrimary} 100.83%)`})),"label:DivDirectionButtonContainer;"),Jt=(0,L.default)("div",{target:"ervsv122"})((({theme:e,rightIcon:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",marginTop:"2px",borderRadius:"50%",padding:"0 11px 0 5px",width:"32px",height:"32px",backgroundColor:e.colors.BGQuinary,boxShadow:"0px 2px 12px 0px #0000001F",cursor:"pointer",transform:t?"translateZ(0)":"translateZ(0) rotate(180deg)",transition:"transform .2s ease-out","&:hover":{transform:t?"translateZ(0) scale(1.08, 1.08)":"translateZ(0) scale(1.08, 1.08) rotate(180deg)"}})),"label:DivChevronIconContainer;"),Qt=(0,L.default)(Vt.A,{target:"ervsv123"})({display:"flex",alignItems:"center",whiteSpace:"nowrap"},"label:StyledIconChevronRightOffsetFillLTR;"),Zt=(0,L.default)("div",{target:"ervsv124"})({display:"flex",alignItems:"center",overflowX:"auto",width:"100%",height:"100%",gap:"12px",whiteSpace:"nowrap",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},"label:DivFeedTabItemListWrapper;"),Yt=(0,L.default)(A.k2,{target:"ervsv125"})((({theme:e})=>Object.assign(Object.assign({display:"inline-flex",height:"100%",padding:"9px 12px",borderRadius:"8px",justifyContent:"center",alignItems:"center",backgroundColor:e.colors.BGInput,color:e.colors.TextPrimary,cursor:"pointer",fontWeight:500,fontSize:"14px",userSelect:"none",textDecoration:"none",transaction:"",path:{fill:e.colors.TextPrimary},transition:"color, background-color, transform .2s ease-out",transform:"translateZ(0)"},(0,T.zy)({theme:e,typography:"P2",fontFamily:"TikTokFont"})),{"&:hover":{textDecoration:"none",backgroundColor:"rgba(22, 24, 35, 0.1)",color:e.colors.TextPrimary,path:{fill:e.colors.TextPrimary},transform:"translateZ(0) scale(1.02, 1.02)"},"&.tab-active":{backgroundColor:e.colors.TextPrimary,color:e.isDark?e.colors.ConstTextPrimary:e.colors.ConstTextInverse,path:{fill:e.isDark?e.colors.ConstTextPrimary:e.colors.ConstTextInverse},"&:hover":{textDecoration:"none",backgroundColor:e.colors.TextPrimary,color:e.isDark?e.colors.ConstTextPrimary:e.colors.ConstTextInverse,path:{fill:e.isDark?e.colors.ConstTextPrimary:e.colors.ConstTextInverse}}}})),"label:StyledFeedTabItem;"),eo=(0,L.default)($t.A,{target:"ervsv126"})({width:"auto"},"label:StyledLolTabSvg;");var to=o(18121),oo=o(556),io=o(23791),no=o.n(io),ro=o(48372),lo=o(5186),ao=o(68298);function so(e){const t=document.querySelector(`#${e}`);t&&t.scrollIntoView({block:"nearest",inline:"center"})}var co=o(40123),uo=o(7439);const vo=(0,Ot.BX)({feedTab:{activeTabId:null},categoryTab:{activeTabId:null}});function mo(){const e=(0,uo.t)();return{getActiveTabId:(0,h.useCallback)((()=>"liveCategory"===e?vo.categoryTab.activeTabId:vo.feedTab.activeTabId),[e]),setActiveTabId:(0,h.useCallback)((t=>{"liveCategory"!==e?vo.feedTab.activeTabId=t:vo.categoryTab.activeTabId=t}),[e])}}const ho=(0,h.memo)((function(e){const{tab:t,index:o,scrollerRef:n}=e,l=(0,_t.OB)(!0),a=(0,I.s)(),s=(0,h.useRef)(null),{pathname:d}=(0,r.zy)(),{setActiveTabId:c}=mo();(0,h.useEffect)((()=>{d===t.path&&s.current&&n.current&&(c(s.current.id),function(e,t){const o=e.getBoundingClientRect(),i=t.getBoundingClientRect();return o.left>=i.left&&o.right<=(window.innerWidth||document.documentElement.clientWidth)}(s.current,n.current)||so(s.current.id))}),[d]);const u=(0,h.useRef)(!1),v=(0,h.useCallback)((e=>{e[0].intersectionRatio<=0||u.current||(ao.fF.handleFeedTabShow({tab_order:o+1,tab_name:t.teaParams.switchMode,is_top_tab:t.teaParams.is_top_tab,is_tab_icon:t.teaParams.is_tab_icon}),u.current=!0)}),[o,t.teaParams]);(0,lo.BL)({callback:v,element:s});const m=(0,co.v)(),g=(0,h.useCallback)((()=>{ao.fF.handlePreviewPageSwitch({tab_order:o+1,switch_type:"click_tab",switch_mode:t.teaParams.switchMode,switch_from:null==m?void 0:m.teaParams.switchMode,is_top_tab:t.teaParams.is_top_tab,is_tab_icon:t.teaParams.is_tab_icon})}),[null==m?void 0:m.teaParams.switchMode,o,t.teaParams]);return(0,i.jsxs)(Yt,Object.assign({id:`tab_${t.channelId}_${o}`,to:t.path,activeClassName:"tab-active",ref:s,onClick:g,exact:!0},{children:[t.isSingleGameCategory&&!t.isPinStatus?t.key:void 0,!t.isSingleGameCategory&&!t.isPinStatus&&a(l?t.key:t.key2),t.isPinStatus&&(0,i.jsx)(eo,{width:"100%",height:16},void 0)]}),`${t.channelId}_${o}`)}));var go=o(88149),po=o(15224),fo=o.n(po);const _o=(0,h.memo)((function(){var e;const t=(0,uo.t)(),{tabsConfig:o,isSuccess:n}=(0,ro.$)(t||"liveFeed"),{direction:r}=(0,oo.u)(),l="ltr"===r,a=(0,to.r)((e=>e.scrollDomRef)),{leftBtnVisible:s,rightBtnVisible:d,handleScroll:c,ScrollToNext:u,scrollerRef:v}=function(e){const t=(0,h.useRef)(null),{direction:o}=(0,oo.u)(),i="ltr"===o,[n,r]=(0,h.useState)(!1),[l,a]=(0,h.useState)(!1);(0,h.useEffect)((()=>{i?a(e):r(e)}),[e]);const s=no()((0,h.useCallback)((e=>{const t=e.target,{scrollLeft:o,scrollWidth:s,clientWidth:d}=t,c=Math.abs(o)>5,u=Math.abs(o)+d<s-5;if(i)return c!==n&&r(c),void(u!==l&&a(u));c!==l&&a(c),u!==n&&r(u)}),[n,l]),100,{leading:!0,trailing:!0}),d=(0,h.useCallback)((e=>{const o=t.current;if(o){const t=o.clientWidth-80;o.scrollTo({left:e?o.scrollLeft+t:o.scrollLeft-t,behavior:"smooth"})}}),[t]);return{scrollerRef:t,leftBtnVisible:n,rightBtnVisible:l,handleScroll:s,ScrollToNext:d}}(n&&o.length>=6),{getActiveTabId:m}=mo();(0,h.useEffect)((()=>{n&&so(m())}),[n]);const{vid:g}=(0,go.vY)(),p="v0"!==g;return(0,i.jsxs)(Kt,Object.assign({className:fo()("relative h-36 mt-24 mb-16 min-w-[470px]"),oldSideWidth:(null===(e=a.current)||void 0===e?void 0:e.offsetWidth)||"72px",isNewSideNav:p},{children:[(0,i.jsx)(Xt,Object.assign({rightIcon:!1,ltr:l,visible:s},{children:(0,i.jsx)(Jt,Object.assign({onClick:()=>u(!1),rightIcon:!1},{children:(0,i.jsx)(Qt,{},void 0)}),void 0)}),void 0),(0,i.jsx)(Zt,Object.assign({onScroll:c,ref:v},{children:o.map(((e,t)=>(0,i.jsx)(ho,{tab:e,index:t,isSuccess:n,scrollerRef:v},`${e.channelId}_${t}`)))}),void 0),(0,i.jsx)(Xt,Object.assign({rightIcon:!0,ltr:l,visible:d},{children:(0,i.jsx)(Jt,Object.assign({onClick:()=>u(!0),rightIcon:!0},{children:(0,i.jsx)(Qt,{},void 0)}),void 0)}),void 0)]}),void 0)}));function yo(){return(0,_.x)("live_catalog",{clientVersionName:"live_v3"}),(0,g.E)(),(0,i.jsxs)(Bt,Object.assign({pageName:"live_catalog"},{children:[(0,i.jsx)(_o,{},void 0),(0,i.jsx)(r.sv,{},void 0)]}),void 0)}var bo=o(58801),xo=o(17072);function wo(){const{data:e,isSuccess:t}=(0,xo._)(2),o=(0,Ue.A)((()=>{if(t){const{gameConf:t,lifestyleConf:l}={gameConf:(null===(i=null==(o=e)?void 0:o.find((e=>"gaming"===e.tab_type)))||void 0===i?void 0:i.sub_tabs)||[],lifestyleConf:(null===(r=null===(n=null==o?void 0:o.find((e=>"lifestyle"===e.tab_type)))||void 0===n?void 0:n.sub_tabs)||void 0===r?void 0:r.filter((e=>"lifestyle"!==e.tab_type)))||[]},a=[],s=pt()(t),d=pt()(l),c=s.length+d.length,u=0===d.length,v=0===s.length;for(let e=0;e<c;e++)Nt.sg.has(e)&&!u?a.push(Object.assign({},d.shift())):v?u||a.push(Object.assign({},d.shift())):a.push(Object.assign({},s.shift()));return{allCategoryList:a,gamingCategoryList:t,lifestyleCategoryList:l}}var o,i,n,r;return{allCategoryList:[],gamingCategoryList:[],lifestyleCategoryList:[]}}),[e,t,bo.b]);return{allCategoryList:o.allCategoryList,gamingCategoryList:o.gamingCategoryList,lifestyleCategoryList:o.lifestyleCategoryList,isSuccess:t}}const So=(0,L.default)(lt,{target:"ej8k0bm0"})({gap:"16px 26px",marginTop:"32px"},"label:StyledCategoryScrollWrapper;");var Co=o(33988),Io=o(86921);const jo=(0,h.memo)((function(){const{allCategoryList:e,isSuccess:t}=wo(),[o,n]=(0,h.useState)(!1),[r,l]=(0,h.useState)(20),a=(0,h.useMemo)((()=>e.slice(0,r)),[e,r]),s=(0,h.useCallback)((()=>{n(!0),l((t=>t>=e.length?t:t+10))}),[e.length]);return(0,h.useEffect)((()=>{n(!1)}),[r]),(0,i.jsx)(So,{type:"small",isLoading:!t||o,onScrollToBottom:s,childrenList:a.map(((e,t)=>(0,i.jsx)(Io.M,{categorySubType:(0,Co.O)(e.tab_type||""),cardData:e,cardIndex:t},e.tab_name)))},void 0)}));function ko(){return(0,i.jsx)(jo,{},void 0)}var Ro=o(82102);const Lo=L.default.div`
  width: 100%;
  display: flex;
  justify-content: center;
  margin-top: 36px;
`,To=L.default.div`
  display: flex;
  align-items: center;
  cursor: pointer;

  font-size: 16px;
  ${({theme:e})=>(0,T.zy)({theme:e,color:"TextTertiaryAlt",fontWeight:"medium"})}
`,Ao=(0,L.default)(Ro.A)`
  font-size: 16px;
  margin-inline-start: 4px;
`,Po=({onClick:e})=>{const t=(0,I.s)(),{handleViewMoreClick:o}=(()=>{const e=(0,A.W6)(),{pathname:t}=e.location;return(0,b.A)((()=>{ft.F.handleViewMoreShow({enter_from_merge:Ke(t)})})),{handleViewMoreClick:(0,We.A)((()=>{ft.F.handleViewMoreClick({enter_from_merge:Ke(t)})}))}})(),n=(0,We.A)((()=>{o(),e()}));return(0,i.jsx)(Lo,{children:(0,i.jsxs)(To,Object.assign({onClick:n},{children:[t("ttlive_webPC_sectionShowMore_btn"),(0,i.jsx)(Ao,{},void 0)]}),void 0)},void 0)},Eo=(0,h.memo)((function(e){const{className:t,childrenList:o,type:n,viewMoreComponent:r,defaultRows:l=1}=e,{colCount:a}=(0,ot.J)(n),[s,d]=(0,h.useState)(l),c=s*a>=o.length,u=(0,We.A)((()=>{c||d((e=>e+1))}));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tt.d,Object.assign({className:t,type:n},{children:o.slice(0,a*s)}),void 0),!c&&r&&(0,i.jsx)(r,{onClick:u},void 0)]},void 0)})),Do=L.default.div`
  ${({theme:e})=>(0,T.zy)({theme:e,color:"TextPrimary",fontWeight:"bold"})}
  font-size: 20px;
  margin-top: 40px;
  margin-bottom: 21px;
`,Mo=(0,L.default)(Eo,{target:"eukm4wz0"})({gap:"26px",marginTop:"32px"},"label:StyledSubCategoryCardSection;"),Oo=({subType:e})=>{const t=(0,I.s)(),{categoryInfo:o,categoryList:n}=(e=>{const t=(e=>(0,Ue.A)((()=>({[Nt.Pd.Game]:{channelId:89,reqFrom:"pc_web_game_feed_refresh",reqFromMore:"pc_web_game_feed_loadmore"},[Nt.Pd.LifeStyle]:{channelId:1222001,reqFrom:"webapp_taxonomy_drawer_enter_feed",reqFromMore:"webapp_taxonomy_drawer_feed_loadmore",relatedLiveTag:"lifestyle"}})),[])[e])(e),{gamingCategoryList:o,lifestyleCategoryList:i}=wo();return{categoryInfo:t,categoryList:{[Nt.Pd.Game]:o,[Nt.Pd.LifeStyle]:i}[e]}})(e);return(0,i.jsxs)("div",{children:[(0,i.jsx)(Mo,{childrenList:n.map(((t,n)=>(0,i.jsx)(Io.M,{categoryInfo:o,categorySubType:e,cardData:t,cardIndex:n},t.tab_name))),type:"small",defaultRows:2,viewMoreComponent:Po},void 0),(0,i.jsx)(Rt,{categoryInfo:o,title:(0,i.jsx)(Do,{children:t("ttlive_webPC_allCategoryPageLIVEvideosSection_title")},void 0)},void 0)]},void 0)};function Fo(){return(0,i.jsx)(Oo,{subType:Nt.Pd.Game},void 0)}function Bo(){return(0,i.jsx)(Oo,{subType:Nt.Pd.LifeStyle},void 0)}const qo=L.default.h1`
  margin-top: 32px;
  ${({theme:e})=>(0,T.zy)({theme:e,color:"TextPrimary",typography:"H3",fontWeight:"bold"})}
`,Go=(0,L.default)(Rt)`
  margin-top: 32px;
`;var zo=o(35e3);const No=()=>{const{action:e=""}=(0,r.g)(),{categoryInfo:t,title:o,handleGoBackClick:n}=(({action:e})=>{const t=(0,Ze.Nj)(Ye.o),{data:o,isSuccess:i}=(0,xo._)(0),n=(0,$e.E)(e),r=(0,A.W6)(),{pathname:a}=r.location,s=(0,We.A)((()=>{r.push(l.O.liveDiscover())}));(0,h.useEffect)((()=>{var e;i&&(((null===(e=null==o?void 0:o.find((e=>e.tab_type===zo.P0.action)))||void 0===e?void 0:e.sub_tabs)||[]).some((e=>e.tab_type===n))||s())}),[i,s]);const d=(0,Ue.A)((()=>({channelId:1111012,reqFrom:"pc_web_setting_section_sub_feed_refresh",reqFromMore:"pc_web_setting_section_sub_feed_loadmore",relatedLiveTag:n})),[n]),c=(0,Ue.A)((()=>Ke(a)),[]),u=(0,We.A)((()=>{t.handleEmptyCategoryJump(c,"feed_empty"),s()}));return(0,h.useEffect)((()=>{et.h.liveSingleActionParams={actionName:n,action:e}}),[n,e]),{categoryInfo:d,title:n,handleGoBackClick:u}})({action:e});return(0,i.jsx)("div",{children:(0,i.jsx)(Go,{title:(0,i.jsx)(qo,{children:o},void 0),categoryInfo:t,onGoBack:n},void 0)},void 0)},Uo=()=>((0,_.x)("each_action_catalog",{clientVersionName:"live_v3"}),(0,g.E)(),(0,i.jsx)(Bt,Object.assign({pageName:"each_action_catalog"},{children:(0,i.jsx)(No,{},void 0)}),void 0));var Wo=o(59292);const Vo=({index:e})=>(0,i.jsx)(xt,{cardIndex:e},void 0),$o=({onGoBack:e})=>{const t=(0,I.s)();return(0,i.jsxs)(dt,{children:[(0,i.jsx)(ct,{children:t("ttlive_webPC_emptyState_title")},void 0),(0,i.jsx)(ut,{children:t("ttlive_webPC_emptyState_desc")},void 0),(0,i.jsx)(vt,Object.assign({onClick:e},{children:t("ttlive_webPC_emptyState_btn")}),void 0)]},void 0)},Ho={mix_talent:"talent_catalog",fashion:"fashion_catalog",outdoor:"outdoors_catalog",chatting:"chatting_catalog"};function Ko(e){if((0,A.B6)(e,{path:l.vI.liveCategory,exact:!0}))return"all_categories";if((0,A.B6)(e,{path:l.vI.liveCategoryGaming,exact:!0}))return"games_catalog";if((0,A.B6)(e,{path:l.vI.liveCategoryLifestyle,exact:!0}))return"lifestyle_catalog";if((0,A.B6)(e,{path:l.vI.liveCategorySingleGaming,exact:!0})){const t=e.replace(`${l.vI.liveCategoryGaming}/`,"");return`${(0,$e.E)(t)}_game_catalog`}if((0,A.B6)(e,{path:l.vI.liveCategorySingleLifeStyle,exact:!0})){const t=e.replace(`${l.vI.liveCategoryLifestyle}/`,"");return Ho[t]||`${t}_catalog`}if((0,A.B6)(e,{path:l.vI.liveCategorySingleAction,exact:!0})){const t=e.split("/"),o=t[t.length-1];return`${(0,$e.E)(o)}_catalog`}if((0,A.B6)(e,{path:l.vI.liveExplore,exact:!0})){const t=e.split("/"),o=t[t.length-1];return`${(0,$e.E)(o)}_catalog`}}var Xo=o(87700),Jo=o(12686),Qo=o(43018),Zo=o(33919),Yo=o(89966),ei=o(75637),ti=o(9386),oi=o(23298),ii=o(35076);var ni=o(93854),ri=o(83420);const li=(0,h.memo)((function(e){const{streamUrl:t,showPlayer:o,handlePreviewPlayFail:n,handlePreviewPlayStart:r,handlePreviewPlayEnd:l}=e,a=(0,h.useRef)(null),{url:s,secretKey:d}=(0,h.useMemo)((()=>function(e){if(!e)return{url:""};const{streamItems:t,secretKey:o}=(e=>{var t,o;const i=null===(t=null==e?void 0:e.live_core_sdk_data)||void 0===t?void 0:t.pull_data;if(i){const{streamData:e}=ii.XA(i);if(e.data){const t=ii.RX(e);return{streamItems:ii.Ay(ii.e8(e,t)),secretKey:null===(o=e.common)||void 0===o?void 0:o.drm_secret_key}}}return{streamItems:[]}})(e);return{url:t[t.length-1].url.mainFLV||t[t.length-1].url.backupFLV||"",secretKey:o}}(t)),[t]);return(0,b.A)((()=>{a.current&&(0,ni.J)({player:void 0,config:{url:(0,ri.sv)(s),volume:0,playerContainer:a.current,autoplay:!0,mute:!0,autoplayMuted:!0,landscapeScale:!0,flvlive:d?void 0:{keyStr:d}},onPlaying:r,onPause:l,onError:n,onCreateError:n})})),(0,x.A)((()=>{null==l||l(),(0,ni.w)()})),(0,i.jsx)("div",{className:"w-full h-full absolute left-0 top-0",style:{opacity:o?1:0},ref:a},void 0)})),ai=(0,h.memo)((function(e){var t,o,n,r,l;const{liveData:a,roomUrl:s,hoverAnimation:d,titleLine:c,hideEngagementCount:u,handleCardExposure:v,handleCardClick:m,handlePreviewPlayFail:g,handleCardHover:p,handlePreviewPlayStart:f,handlePreviewPlayEnd:_}=e,y=(0,I.s)(),{viewerCount:b,avatarImgUrl:x,coverUrl:w,displayId:S}=function(e){const t=(0,h.useMemo)((()=>{const t=Number(null==e?void 0:e.user_count)||0;return t<1e4?(0,Ie.Z)(t):(0,Ie.s)(t)}),[null==e?void 0:e.user_count]),o=(0,h.useMemo)((()=>{var t,o;return(0,Yo.Q)(null===(o=null===(t=null==e?void 0:e.owner)||void 0===t?void 0:t.avatar_thumb)||void 0===o?void 0:o.url_list)}),[null==e?void 0:e.owner]),i=(0,h.useMemo)((()=>{var t;return(0,Yo.Q)(null===(t=null==e?void 0:e.blurred_cover)||void 0===t?void 0:t.url_list)}),[null==e?void 0:e.blurred_cover]),n=(0,h.useMemo)((()=>{var t,o;return(0,Yo.Q)(null===(o=null===(t=null==e?void 0:e.owner)||void 0===t?void 0:t.avatar_medium)||void 0===o?void 0:o.url_list)}),[null==e?void 0:e.owner]),r=(0,h.useMemo)((()=>{var t;return null===(t=null==e?void 0:e.owner)||void 0===t?void 0:t.display_id}),[null==e?void 0:e.owner]),l=(0,h.useMemo)((()=>(0,ei.j)(e)),[e]),a=(0,h.useMemo)((()=>(null==l?void 0:l[0])===n),[l,n]);return{viewerCount:t,avatarImgUrl:o,mediumAvatarImgUrl:n,displayId:r,coverUrl:l,isAvatarImgUrl:a,blurredAvatarImgUrl:i}}(a),{isHover:C,showPlayer:j,handleHover:k}=function(){const[e,t]=(0,h.useState)(!1),[o,i]=(0,h.useState)(!1),{run:n}=(0,Mt.A)((e=>{t(e)}),{wait:200});return(0,h.useEffect)((()=>{const t=(0,Ot.B1)(Zo.$,(()=>{i(e&&Zo.$.playing&&!Zo.$.error)}));return e||(i(!1),t()),()=>{i(!1),t()}}),[e]),{isHover:e,showPlayer:o,handleHover:n}}(),R=(0,Jo.B)(a),L=(0,h.useRef)(null),T=(0,h.useRef)(!1),A=(0,h.useCallback)((e=>{e[0].intersectionRatio<=0||T.current||(v(),T.current=!0)}),[v]);(0,lo.BL)({callback:A,element:L});const P=(0,h.useRef)(!1);(0,h.useEffect)((()=>{C&&!P.current&&(p(),P.current=!0)}),[C,p]);const E=(0,h.useCallback)((e=>{e.preventDefault(),m()}),[m]),D=(0,h.useCallback)((()=>{S&&window.open(oi.$T.user({uniqueId:S}))}),[S]),[M,{setTrue:O}]=(0,Dt.A)(!1),F=(0,h.useCallback)((()=>{O()}),[O]);return a&&s?(0,i.jsxs)(Xo.JI,Object.assign({onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),ref:L,animationEnabled:d},{children:[(0,i.jsxs)(Xo.Cn,{children:[j&&(0,i.jsx)(Qo.N,{imgUrl:null!==(t=null==w?void 0:w[0])&&void 0!==t?t:null==w?void 0:w[1],needBlur:!0},void 0),(0,i.jsx)(Xo.Cb,{needViewer:!u,viewerCount:b},void 0),(0,i.jsx)(Xo.ap,Object.assign({showPlayer:j},{children:M||!(null==w?void 0:w[0])&&!(null==w?void 0:w[1])?(0,i.jsx)(Xo.Ft,{children:(0,i.jsx)(Xo.bT,{},void 0)},void 0):(0,i.jsx)(Xo.Dy,{src:null!==(o=w[0])&&void 0!==o?o:w[1],onError:F,showSkeleton:!0},void 0)}),void 0),C&&(0,i.jsx)(li,{showPlayer:j,streamUrl:R,handlePreviewPlayFail:g,handlePreviewPlayStart:f,handlePreviewPlayEnd:_},void 0),(0,i.jsx)(Xo.sX,{prefetch:"render",to:s,onClick:E},void 0)]},void 0),(0,i.jsxs)(Xo.gG,{children:[(0,i.jsx)(Xo._5,{src:x,onClick:D},void 0),(0,i.jsxs)(Xo.Oh,Object.assign({to:s,onClick:E,title:a.title},{children:[(0,i.jsx)(Xo.YB,Object.assign({textLine:c},{children:a.title||y("ttlive_webPC_untitledLIVEDefaultTitle_title")}),void 0),(0,i.jsx)(Xo.Gq,{children:null!==(r=null===(n=a.owner)||void 0===n?void 0:n.nickname)&&void 0!==r?r:null===(l=a.owner)||void 0===l?void 0:l.display_id},void 0)]}),void 0)]},void 0)]}),void 0):(0,i.jsx)(ti.O,{},void 0)})),si=e=>{const{liveData:t,categoryInfo:o,cardIndex:n,getFeedData:r,hideEngagementCount:l}=e,{enterRoomUrl:a,goLiveRoom:s,handleCardExposure:d,handleCardHover:c,handleError:u,goUserProfile:v,handlePreviewPlayEnd:m,handlePreviewPlayStart:g}=(({liveData:e,categoryInfo:t,cardIndex:o,getFeedData:i})=>{const{handlePreloadLiveRoom:n}=(0,bt.W)(),r=(0,A.W6)(),{pathname:l}=r.location,a=(0,Ue.A)((()=>{var t;return(null===(t=null==e?void 0:e.owner)||void 0===t?void 0:t.display_id)?(0,yt.B)(e.owner.display_id):""}),[e]),s=(0,_t.OB)(!0),d=(0,h.useMemo)((()=>{var t,o,i;return null===(i=null===(o=null===(t=null==e?void 0:e.owner)||void 0===t?void 0:t.own_room)||void 0===o?void 0:o.room_ids_str)||void 0===i?void 0:i[0]}),[null==e?void 0:e.owner]),c=(0,h.useMemo)((()=>{var t;return null===(t=null==e?void 0:e.owner)||void 0===t?void 0:t.id_str}),[null==e?void 0:e.owner]),u=(0,Ue.A)((()=>t?{impr_position:String(o+1),enter_from_merge:Ko(l),enter_method:"live_cover",anchor_id:c,room_id:d,is_non_personalized:s?"0":"1",is_multi_stream_room:(null==e?void 0:e.multi_stream_url)?"1":"0",landing_page_type:"seo_catalog",landing_page_title:document.title,referer_url:document.referrer}:null),[t,e,s,d,c]),{setFeedEnterScene:v,setOuterUnseenFeedList:m}=(0,ht.N)((e=>({setFeedEnterScene:e.setFeedEnterScene,setOuterUnseenFeedList:e.setOuterUnseenFeedList}))),g=(0,We.A)((()=>{if(!e||!t)return;if(ft.F.handleClick(Object.assign({},u)),e&&n(e,{enter_from_merge:Ko(l),enter_method:"live_cover",from_live_feed:!0,enter_type:"manual",is_auto_play:"off",auto_play_type:"enter_room",manual_play_type:"click_btn",impr_position:String(o+1)}),!i||!t.channelId)return;const{feedData:r,hasMore:a,maxTime:s}=i(),d=r.findIndex((t=>(null==t?void 0:t.id_str)===e.id_str)),c=-1===d?[]:r.reduce(((e,t,o)=>(o>=d&&e.push({data:pt()(t)}),e)),[]);m({maxTime:s,hasMore:a,leftFeedList:c}),v({relatedLiveTag:t.relatedLiveTag,channelId:t.channelId,reqFrom:t.reqFrom,reqFromMore:t.reqFromMore})})),p=(0,h.useCallback)((()=>{u&&ft.F.handleLiveShow(Object.assign({},u))}),[u]),f=(0,h.useCallback)((()=>{u&&ft.F.handleCardHover(Object.assign({},u))}),[u]),_=(0,h.useCallback)((()=>{u&&ft.F.handlePreviewPlayFail(Object.assign({},u))}),[u]),y=(0,h.useRef)(0),b=(0,h.useCallback)((()=>{y.current=Date.now()}),[]),x=(0,h.useCallback)((()=>{if(y.current&&u){const e=Date.now()-y.current;ft.F.handlePreviewDurationV2(Object.assign(Object.assign({},u),{duration:e})),y.current=0}}),[u]);return{goLiveRoom:g,enterRoomUrl:a,handleCardExposure:p,handleCardHover:f,goUserProfile:(0,We.A)(rt()),handleError:_,handlePreviewPlayStart:b,handlePreviewPlayEnd:x}})({liveData:t,categoryInfo:o,cardIndex:n,getFeedData:r});return(0,i.jsx)(ai,{liveData:t,roomUrl:a,handleCardClick:s,handleCardExposure:d,handleCardHover:c,handlePreviewPlayFail:u,handleUserProfileClick:v,handlePreviewPlayStart:g,handlePreviewPlayEnd:m,hideEngagementCount:l},void 0)},di=e=>{const{className:t,title:o,exploreInfo:n,onGoBack:l=rt()}=e,{keywords:a=""}=(0,r.g)(),{feedData:s,isLoading:d,loadMore:c,isFetching:u,hasMore:v,maxTime:m,searchWordData:g}=(e=>{const t=(0,h.useRef)(-12),o=(0,h.useRef)(),i=e.includes("_")?e.replace(/_/g," "):e,{data:n}=(0,Je.I)({queryFn:()=>((e={tab_names:""})=>(0,Q.h)("/webcast/feed/drawer_tabs/",{query:e,baseUrlType:4,requireSecSdk:!0}))({is_non_personalized:0,scene:3,tab_names:i}),retry:2}),{data:r,isLoading:l,isFetching:a,isError:s,fetchNextPage:d,hasNextPage:c}=(0,Ct.q)({queryKey:[e],queryFn:({pageParam:e})=>{var n;if(-12===t.current||(null==e?void 0:e.hasMore))return t.current+=12,n={keyword:i,offset:t.current,count:12,search_id:o.current},(0,Q.h)("/api/search/live/full/",{query:n,baseUrlType:2})},retry:2,getNextPageParam:e=>{if(e&&1===e.has_more)return{hasMore:!0}}}),u=(0,h.useMemo)((()=>{var e,t,i;return!o.current&&r&&(console.log("data.pages",r),o.current=null!==(i=null===(t=null===(e=r.pages[0])||void 0===e?void 0:e.extra)||void 0===t?void 0:t.logid)&&void 0!==i?i:""),r?r.pages.filter((e=>{var t;return null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.length})).map((e=>{var t;return(null==e?void 0:e.data)?e.data.map((e=>{const{live_info:{raw_data:t="",room_info:o={}}}=e;return Object.assign({},o,JSON.parse(t))})):null!==(t=null==e?void 0:e.data)&&void 0!==t?t:{}})).flat():[]}),[r]),v=null==r?void 0:r.pages[0],m=(0,h.useMemo)((()=>v&&0!==v.status_code||s),[v,s]),g=(0,h.useMemo)((()=>{var e,t,o;if(!m&&r){const i=null!==(o=null===(t=null===(e=r.pages.filter((e=>{var t;return null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.length})).slice(-1).pop())||void 0===e?void 0:e.extra)||void 0===t?void 0:t.now)&&void 0!==o?o:0;return Number(i)}return 0}),[r,m]);return{feedData:u,isLoading:l,isFetching:a,loadMore:d,isError:m,maxTime:g,hasMore:Boolean(c),searchWordData:n}})(a),p=(0,We.A)((()=>({feedData:s,hasMore:v,maxTime:m}))),f=!d&&0===(null==s?void 0:s.length),_=(0,I.s)(),y=(0,ze.Eo)();return(0,h.useEffect)((()=>{g&&g.data.length}),[g]),(0,h.useEffect)((()=>{Wo.X.handleBackClick({enter_from_merge:`${a}_catalog`,section_type:a,content_section_title:document.title,content_section_order:document.title,enter_method:"",page_name:"seo_catalog",previous_page:"",ops_type:"show",landing_page_type:"seo_catalog",landing_page_title:document.title,referer_url:document.referrer})}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",Object.assign({className:"flex justify-between items-end"},{children:[o,(0,i.jsx)("h3",Object.assign({className:"font-bold cursor-pointer",onClick:l},{children:_("wbs_scheduler_btn_back")}),void 0)]}),void 0),f?(0,i.jsx)($o,{onGoBack:l},void 0):(0,i.jsx)(lt,{className:`gap-x-36 gap-y-24 mt-24 ${t}`,type:"medium",initialPlaceholderCount:12,placeholderComponent:Vo,isLoading:u,onScrollToBottom:c,enableHideIncompleteRow:v||d,childrenList:s.map(((e,t)=>(0,i.jsx)(si,{cardIndex:t,liveData:e,categoryInfo:n,getFeedData:p,hideEngagementCount:y},`section-card-${t}`)))},void 0)]},void 0)},ci=()=>{const{keywords:e=""}=(0,r.g)(),{exploreInfo:t,title:o,handleGoBackClick:n}=(({keywords:e})=>{const t=(0,Ze.Nj)(Ye.o),o=(0,A.W6)(),{pathname:i}=o.location,n=(0,Ue.A)((()=>Ke(i)),[]),r=e.replace(/_/g," ")||"",a=(0,Ue.A)((()=>({channelId:1222001,reqFrom:"webapp_taxonomy_drawer_enter_feed",reqFromMore:"webapp_taxonomy_drawer_feed_loadmore",relatedLiveTag:e})),[e]),s=(0,We.A)((()=>{o.push(l.O.liveDiscover()),Wo.X.handleBackClick({enter_from_merge:`${e}_catalog`,section_type:e,content_section_title:document.title,content_section_order:document.title,enter_method:"",page_name:"seo_catalog",previous_page:"",ops_type:"click",landing_page_type:"seo_catalog",landing_page_title:document.title,referer_url:document.referrer})})),d=(0,We.A)((()=>{t.handleEmptyCategoryJump(n,"feed_empty"),s()}));return(0,h.useEffect)((()=>{et.h.liveExploreParams={keywords:(0,$e.E)(e)}}),[e]),{exploreInfo:a,title:r,handleGoBackClick:d}})({keywords:e});return(0,i.jsx)("div",Object.assign({className:"mt-32"},{children:(0,i.jsx)(di,{title:(0,i.jsx)("h1",Object.assign({className:"font-bold"},{children:o}),void 0),exploreInfo:t,onGoBack:n},void 0)}),void 0)},ui=()=>((0,_.x)("seo_catalog",{clientVersionName:"live_v3"}),(0,g.E)(),(0,i.jsx)(Bt,Object.assign({pageName:"each_lifestyle_catalog"},{children:(0,i.jsx)(ci,{},void 0)}),void 0)),vi=()=>(0,i.jsx)(r.sv,{},void 0);var mi=o(98214),hi=o(93672);const gi=()=>{var e;return location.search.includes("live_discover_enter_shortcut")?location.search.includes("live_discover_enter_shortcut=v1"):"v1"===(null!==(e=(0,hi.V)(ce.t.abTestVersion,"live_discover_enter_shortcut"))&&void 0!==e?e:"v0")},pi=()=>{var e;return location.search.includes("live_feed_save")?location.search.includes("live_feed_save=v1"):"v1"===(null!==(e=(0,hi.V)(ce.t.abTestVersion,"live_feed_save"))&&void 0!==e?e:"v0")};var fi;!function(e){e[e.nullCardIndex=-1]="nullCardIndex",e[e.firstCardIndex=0]="firstCardIndex",e[e.secondCardIndex=1]="secondCardIndex"}(fi||(fi={}));const _i=(0,Ot.BX)({channelId:87,loadingState:0,feedData:(0,Ot.KR)([]),extra:(0,Ot.KR)({}),maxTime:0,reqFrom:void 0,reqFromMore:void 0,relatedLiveTag:void 0,activeIndex:0,playerIdMap:new Map([[-1,1],[0,2],[1,3]]),emptyFallbackPath:l.vI.liveDiscover,teaCommonParams:{},saveIndex:0}),yi=({loadingState:e,feedData:t,maxTime:o,extra:i,reqFrom:n,reqFromMore:r,relatedLiveTag:l,channelId:a})=>{e&&(_i.loadingState=e),t&&(_i.feedData=(0,Ot.KR)(t),pi()&&(0!==t.length?_i.playerIdMap=function(e){const t=new Map,o=[1,2,3];for(let i=0;i<e.length+2;i++)t.set(i-1,o[i%3]);return t}(t):_i.playerIdMap=new Map([[-1,1],[0,2],[1,3]]))),void 0!==o&&(_i.maxTime=o),i&&(_i.extra=(0,Ot.KR)(i)),n&&(_i.reqFrom=n),r&&(_i.reqFromMore=r),(l||""===l)&&(_i.relatedLiveTag=l),a&&(_i.channelId=a)},bi=(e,t)=>{const o=[_i.playerIdMap.get(t-1)||1,_i.playerIdMap.get(t)||2,_i.playerIdMap.get(t+1)||3];_i.playerIdMap.set(e-1,o[0]),_i.playerIdMap.set(e,o[1]),_i.playerIdMap.set(e+1,o[2]),mi.cz.activePlayerId=o[1]},xi=e=>{_i.emptyFallbackPath=e},wi=()=>{mi.cz.playing=!0,_i.activeIndex=0,pi()||(_i.playerIdMap=new Map([[-1,1],[0,2],[1,3]])),(0,mi.wO)(2)},Si=({watchingId:e,isSubscriber:t})=>{const o=_i.feedData.map((o=>{var i,n;return e===(null===(i=o.data)||void 0===i?void 0:i.id_str)?Object.assign(Object.assign({},o),{data:Object.assign(Object.assign({},o.data),{live_sub_only:1,owner:Object.assign(Object.assign({},o.data.owner),{subscribe_info:void 0===t?null===(n=o.data.owner)||void 0===n?void 0:n.subscribe_info:{is_subscribe:t}})})}):o}));_i.feedData=(0,Ot.KR)(o)};var Ci=o(83798),Ii=o(65478);const ji=({query:e,reqFromMore:t,enabled:o=!0})=>{const{streamDeviceType:i}=(0,kt.G)(),n=(0,_t.OB)(!0),r=(0,Ze.Nj)(Ii.c);(0,h.useEffect)((()=>{var l,a,s;if(o){if(pi()){if(_i.reqFrom===e.req_from&&_i.relatedLiveTag===(null!==(l=e.related_live_tag)&&void 0!==l?l:"")||yi({feedData:[],maxTime:0,loadingState:1,reqFrom:e.req_from,reqFromMore:t,relatedLiveTag:null!==(a=e.related_live_tag)&&void 0!==a?a:""}),wi(),0!==_i.feedData.length)return}else yi({feedData:[],maxTime:0,loadingState:1,reqFrom:e.req_from,reqFromMore:t,relatedLiveTag:null!==(s=e.related_live_tag)&&void 0!==s?s:""}),wi();(0,It.x)(Object.assign(Object.assign({},e),{max_time:0,device_type:i,is_non_personalized:n?0:1})).then((t=>{var o,i,n;if(0!==t.status_code?r.handleLiveFeedApiResultReport({statusCode:t.status_code,errorMsg:null!==(i=null===(o=t.data)||void 0===o?void 0:o.prompts)&&void 0!==i?i:t.message}):r.handleLiveFeedApiResultReport(),_i.reqFrom!==e.req_from)return;const l=Ci.Ab(t.data);yi({feedData:Ci.we(l),extra:t.extra,loadingState:2,maxTime:(null===(n=t.extra)||void 0===n?void 0:n.max_time)||0})})).catch((()=>{yi({loadingState:3})}))}}),[e.related_live_tag,o])};function ki(){return ji({query:{req_from:"live_mt_pc_web_rec_tab_refresh",channel_id:87,max_time:0},reqFromMore:"live_mt_pc_web_rec_tab_loadmore"}),xi(l.vI.liveDiscover),(0,i.jsx)(i.Fragment,{},void 0)}var Ri=o(34491),Li=o(48792),Ti=o(28143),Ai=o(35905),Pi=o(50645),Ei=o(66165),Di=o(3349),Mi=o(93295),Oi=o(69609);const Fi=(0,L.default)("div",{target:"e77c9kz0"})({padding:"210px 0"},"label:DivErrorWrapper;");var Bi=o(83922);const qi=()=>{const e=(0,I.s)(),{shouldLoginPrompt:t,canWatchLive:o}=(0,Bi.I)(),n=(0,i.jsx)("div",Object.assign({style:{opacity:"0.34"}},{children:(0,i.jsx)(Oi.i,{size:80,color:"TextTertiary"},void 0)}),void 0),r=(0,p.Jd)({defaultVisible:t,closeable:o});return(0,i.jsx)(Fi,{children:(0,i.jsx)(Mi.W,{iconElem:n,title:e("subLiveShare_webLivePage_errorState_title"),desc:"",buttonText:e("pm_mt_login_confirm_region_btn"),onButtonClick:()=>{r()}},void 0)},void 0)};var Gi=o(5530),zi=o(16184);const Ni=(0,L.default)("div",{target:"e1x49b9j0"})((({theater:e})=>[()=>({display:"flex",width:"100%",height:`calc(100vh - ${(0,Se.$)()}px)`,position:"relative"}),()=>e?{display:"flex",position:"fixed",width:"100vw",height:"100vh",top:0,left:0,zIndex:3e3,overflow:"hidden"}:{}]),"label:DivLiveContainer;"),Ui=(0,L.default)("div",{target:"e1x49b9j1"})((({showLiveChat:e,theater:t})=>[()=>({position:"relative",overflowX:"hidden",overflow:t?"hidden":"auto",width:`calc(100% - ${e?zi.Z5:0}px)`,"::-webkit-scrollbar":{display:"none"}}),(0,T.jJ)({max:1072,style:{width:"100%"}})]),"label:DivLiveContent;"),Wi=(0,L.default)("div",{target:"e1x49b9j2"})((({isTheaterMode:e,isHideBottomGift:t})=>({position:"relative",transition:"width cubic-bezier(0.25, 0, 0.25, 1) 200ms, height cubic-bezier(0.25, 0, 0.25, 1) 200ms",width:"100%",height:e?"100%":t?`calc(100vh - ${(0,Se.$)()}px)`:"calc(100vh - 219px)",minHeight:e?"100%":"300px"})),"label:DivLiveRoomPlayContainer;"),Vi=((0,Gi.i7)({from:{opacity:0,transform:"translateY(20px)"},to:{opacity:1,transform:"translateY(0)"}}),(0,Gi.i7)({from:{opacity:0,transform:"translateY(100px)"},to:{opacity:1,transform:"translateY(0)"}})),$i=(0,L.default)("div",{target:"euk0ob00"})((({theme:e,animate:t,isTheaterMode:o})=>({display:o?"none":"block",animation:t?`${Vi} cubic-bezier(0.33, 0.86, 0.2, 1) 200ms`:"",paddingBottom:26,background:e.colors.BGPrimary})),"label:DivBottomPlayerAnimationContainer;");var Hi=o(91648),Ki=o(93179);function Xi(){const{seamlessEnterAnimationEnd:e}=(0,Ki.s)(mi.cz),{isFinally:t}=(0,Hi.u)(),[o,i]=(0,h.useState)(!1),n=(0,h.useRef)(0);return(0,h.useEffect)((()=>{const e=mi.cz.activePlayer;if(t)return e.status.streaming?void i(!0):(clearTimeout(n.current),n.current=window.setTimeout((()=>{i(!0)}),500),()=>{clearTimeout(n.current)})}),[t]),(0,x.A)((()=>{clearTimeout(n.current)})),{loadSection:o&&e,seamlessEnterAnimationEnd:e}}var Ji=o(96879),Qi=o(50640),Zi=o(89108);const Yi=h.memo((()=>{const e=(0,Ji._)();return(0,i.jsx)(i.Fragment,{children:e?(0,i.jsx)(Qi.o,{},void 0):(0,i.jsx)(Zi.V,{},void 0)},void 0)})),en=(0,a.Ay)({resolved:{},chunkName:()=>"bottom-content",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!o.m[t]},importAsync:()=>Promise.all([o.e(47430),o.e(58041),o.e(11382)]).then(o.bind(o,51027)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve:()=>51027},{resolveComponent:e=>e.BottomContent,fallback:(0,i.jsx)(Yi,{},void 0),ssr:!1});h.memo((()=>{const{loadSection:e}=Xi(),t=(0,Ei.u$)(),[o,n]=(0,h.useState)(!1),r=(0,We.A)((()=>{n(!0)}));return(0,i.jsx)($i,Object.assign({animate:o,isTheaterMode:t},{children:e?(0,i.jsx)(en,{onLoad:r},void 0):(0,i.jsx)(Yi,{},void 0)}),void 0)}));var tn=o(89592),on=o(91989),nn=o(88457),rn=o(14760),ln=o(64139),an=o(24598),sn=o(89257),dn=o(52904),cn=o(97844);const un=(0,h.memo)((function(){return(()=>{const e=(0,h.useRef)(!1),{isProgramLive:t,background:o}=(0,sn.K)(),{switchToDarkTheme:i,resetToPreviousTheme:n}=(0,dn.Q)();(0,h.useEffect)((()=>!t&&e.current?(n(),e.current=!1,(0,rn.$7)(void 0),(0,rn.T_)(!1),void(0,rn.Uw)(!1)):t?(e.current||(i(),e.current=!0,(0,rn.Uw)(!0)),(0,rn.$7)(o),void(0,rn.T_)(Boolean(o))):void 0),[t,e,o]),(0,h.useEffect)((()=>()=>{t&&(n(),e.current=!1,(0,rn.$7)(void 0),(0,rn.T_)(!1),(0,rn.Uw)(!1))}),[t])})(),null})),vn=(0,h.memo)((function(){return(()=>{const{switchToDarkTheme:e,resetToPreviousTheme:t}=(0,dn.Q)(),{isProgramLiveRoom:o,background:i}=(0,Ki.s)(cn.C$);(0,h.useEffect)((()=>{o||(t(),(0,rn.Uw)(!1),(0,rn.$7)(void 0),(0,rn.T_)(!1)),o&&(e(),(0,rn.Uw)(!0))}),[o]),(0,h.useEffect)((()=>{(0,rn.$7)(i),(0,rn.T_)(Boolean(i))}),[i]),(0,h.useEffect)((()=>()=>{o&&(t(),(0,rn.Uw)(!1),(0,rn.$7)(void 0),(0,rn.T_)(!1))}),[o])})(),null})),mn=((0,h.memo)((function(){return(0,an.ZR)()?(0,i.jsx)(vn,{},void 0):(0,i.jsx)(un,{},void 0)})),(0,a.Ay)({resolved:{},chunkName:()=>"loadable-chat-content",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!o.m[t]},importAsync:()=>Promise.all([o.e(93278),o.e(29168),o.e(68105),o.e(32228),o.e(98873),o.e(72924),o.e(35877),o.e(18871),o.e(74161),o.e(7485),o.e(67862)]).then(o.bind(o,5384)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve:()=>5384},{resolveComponent:e=>e.LoadableChatContent,ssr:!1})),hn=h.memo((()=>{const{seamlessEnterAnimationEnd:e}=Xi(),t=(0,Ei.u$)(),[o,n]=(0,h.useState)((0,nn.fU)()),r=(0,We.A)((()=>{n(!0)})),{showLiveChat:l}=(0,Ri.Ph)(Ti.Q,{selector:e=>({showLiveChat:e.showLiveChat,isGateRoom:e.isGateRoom,roomInfo:e.roomInfo}),dependencies:[]}),{shouldTransparent:a}=(0,Ki.s)(rn.bA),{hasChatTopCard:s}=(0,ln.z)();return(0,i.jsxs)(on.Y9,Object.assign({visible:l&&o,theater:t},{children:[(0,i.jsx)(tn.M,{shouldTransparent:a,hideTitle:s},void 0),e&&(0,i.jsx)(mn,{onLoad:r},void 0),(0,an.ZR)()&&(0,i.jsx)(vn,{},void 0)]}),void 0)}));var gn=o(40907),pn=o(29021),fn=o(45379);const _n=(0,h.memo)((()=>(0,i.jsxs)(fn.fA,Object.assign({style:{justifyContent:"initial",paddingInlineStart:"16px"}},{children:[(0,i.jsx)(C.bl,{size:40,marginInlineEnd:"12px"},void 0),(0,i.jsxs)("div",{children:[(0,i.jsx)(C.sO,{height:18,width:120,marginBlockEnd:4},void 0),(0,i.jsx)(C.sO,{height:14,width:180,marginBlockStart:6},void 0)]},void 0)]}),void 0))),yn=(0,a.Ay)({resolved:{},chunkName:()=>"live-room-player-header",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!o.m[t]},importAsync:()=>Promise.all([o.e(93278),o.e(29168),o.e(68105),o.e(32228),o.e(47430),o.e(98873),o.e(58041),o.e(72924),o.e(35877),o.e(18871),o.e(74161),o.e(7485),o.e(58175),o.e(99127),o.e(77669),o.e(17639)]).then(o.bind(o,64466)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve:()=>64466},{resolveComponent:e=>e.LiveRoomPlayerHeader,fallback:(0,i.jsx)(_n,{},void 0),ssr:!1});var bn=o(63323),xn=o(23524),wn=o(14218),Sn=o(51239),Cn=o(1918),In=o(49283),jn=o(15495),kn=o(36505),Rn=o(65370),Ln=o(96046);const Tn=`session_${Date.now()}`;var An;!function(e){e.GetLiveRoomUserInfo="GetLiveRoomUserInfo",e.EnterRoom="EnterRoom"}(An||(An={}));let Pn=!(0,nn.fU)()&&Boolean((0,A.B6)(null===location||void 0===location?void 0:location.pathname,{path:l.vI.liveRoom,exact:!0}));const En=()=>{const e=(0,Ri.wA)(Ti.Q),t=(0,Ri.wA)(Di.W),o=(0,Ri.wA)(Rn.T),{roomId:i,anchorUniqueId:n}=(0,Ki.s)(cn.C$),{openH265:r}=(0,kt.G)(),{canWatchLive:l}=(0,Bi.I)(),a=(0,Ln.KG)(),{language:s="en"}=ce.t,d=(0,We.A)((e=>{var t,i,n;if(!e)return;const l="1"===String(null===(t=null==e?void 0:e.paidEvent)||void 0===t?void 0:t.paid_type),a="1"===String(null==e?void 0:e.liveSubOnly),{streamId:s}=e,d=r?e.hevcStreamData:e.streamData,c=null!==(i=null==d?void 0:d.pull_data)&&void 0!==i?i:null===(n=e.streamData)||void 0===n?void 0:n.pull_data;2===e.status&&c&&!l&&!a&&((0,cn.Id)(c),(0,cn.GJ)(s),o.updateRoomStream({pullData:c,streamId:s}))})),c=(0,We.A)((r=>(0,S.sH)(void 0,void 0,void 0,(function*(){var l,a,s,c;try{n&&r.uniqueId!==n&&((0,cn.TK)(),e.setRoomInfo(null),o.setNeedDestroyPlayer(!0),o.clearStreamInfo()),jn.qQ.cancelQueries({queryKey:[An.GetLiveRoomUserInfo]}),t.multiSetState({liveRoomStatus:0,needLogin:!1,isAgeGateRoom:!1,showLiveGate:!1,liveRoomExtra:void 0,recommendLiveRooms:[]}),e.setShowLiveChatWarning(null),(0,cn.KZ)({getLiveRoomInfo:1}),t.setLoadingState({getUserInfo:1});const{withSSR:u=!1}=r,v=yield jn.qQ.fetchQuery({queryKey:[An.GetLiveRoomUserInfo,r.uniqueId,r.language,Tn],queryFn:()=>(0,S.sH)(void 0,void 0,void 0,(function*(){return(0,Cn.T)({uniqueId:String(r.uniqueId).toLowerCase(),webcast_language:r.language,aid:String(wn.xE),sourceType:54})})),staleTime:kn.Sd}),{data:m,statusCode:h,prompts:g,extra:p}=v,f=Boolean(0===h&&(null===(l=null==m?void 0:m.user)||void 0===l?void 0:l.id)&&(null===(a=null==m?void 0:m.user)||void 0===a?void 0:a.roomId));let _;0!==h?_=jt.zA[jt.VT.INVALID_RES]:m?(null===(s=null==m?void 0:m.user)||void 0===s?void 0:s.roomId)||(_=jt.zA[jt.VT.ROOM_ID_IS_NULL]):_=jt.zA[jt.VT.EMPTY_USER_INFO],f?((0,cn.KZ)({getLiveRoomInfo:2}),(0,cn.Q3)(u),(0,cn.nL)(m),(0,cn.V2)(null==p?void 0:p.id),t.setLoadingState({getUserInfo:2}),e.setEnterRoomWithSSR(u),t.setCurrentLiveRoomUserInfo(m),e.setRequestId(null==p?void 0:p.id),u&&d(null===(c=null==v?void 0:v.data)||void 0===c?void 0:c.liveRoom)):((0,cn.KZ)({getLiveRoomInfo:3}),t.setLoadingState({getUserInfo:3}),i||((0,cn.KZ)({enterRoom:3}),(0,cn.Uw)("webpage"),e.setLoadingState({enterRoom:3}),e.setRoomInfo(null),e.setPlayMode("webpage"),o.clearStreamInfo(),o.setIsFatal(!0),o.setFatalType(4))),In.c.handleApiReport({httpPath:"",httpCode:200,statusCode:h,errorMsg:null!=_?_:g},f,"live_sdk_api_user_info")}catch(e){const t=(0,xn.wm)(e);In.c.handleApiReport({httpPath:"",httpCode:null==e?void 0:e.status,errorType:t?"CancelledError":null==e?void 0:e.name,errorMsg:JSON.stringify(e)},!1,"live_sdk_api_user_info")}}))));return{initLiveRoomUserInfo:(0,We.A)((()=>{if(Pn&&a&&l){const t=(({uniqueId:e})=>{var t;const o=(0,Sn.b)();if((null===(t=null==o?void 0:o.user)||void 0===t?void 0:t.uniqueId)===e)return o})({uniqueId:a});t?(jn.qQ.setQueryData([An.GetLiveRoomUserInfo,a,s,Tn],{data:t,statusCode:0}),(0,cn.nL)(t),(0,cn.Q3)(!0),e.setEnterRoomWithSSR(!0),d(t.liveRoom)):c({uniqueId:a,language:s,withSSR:!0})}Pn=!1})),handleGetLiveRoomUserInfo:c}},Dn=(0,h.memo)((function(){const{initLiveRoomUserInfo:e}=En();return(0,h.useEffect)((()=>{e()}),[]),null}));var Mn=o(62944),On=o(65555),Fn=o(63249),Bn=o(67266),qn=o(85348),Gn=o(29007),zn=o(21730),Nn=o(52602),Un=o(12607),Wn=o(227),Vn=o(65602);const $n=new Set(["video_live_cell","others_photo","top_live_cell","top_window","live_head","video_head"]),Hn=new Set(["others_homepage","homepage_follow","homepage_hot"]);var Kn=o(69138),Xn=o(66401),Jn=o(1435),Qn=o(65683),Zn=o(50374);function Yn(){const{isRecalled:e}=(0,qn.mD)(),t=(0,On.a)({isOBSAccessRecalled:e});(0,h.useEffect)((()=>{e&&Fn.mx.handleOBSRevokeUserPopShow(t)}),[e]),function(e){const{isSuccess:t}=(0,Hi.u)(),[o,i]=(0,h.useState)(!1),n=(0,h.useRef)(""),{activePlayer:r}=mi.cz;(0,Jn.f)("seamless_enter",(()=>{r.status.playing&&i(!0)})),(0,Xn.J)("playing",(()=>{i(!0)})),(0,Xn.J)("pause",(()=>{i(!1)})),(0,h.useEffect)((()=>{e.room_id&&n.current!==e.room_id&&t&&o&&(Fn.mx.handleLivePlayV2(e),n.current=e.room_id)}),[t,o,e])}(t),function(e){const{handlePlayModeChangeReport:t}=function(e){const t=(0,h.useRef)(),o=(0,h.useCallback)(((t,o,i)=>{"picture_in_picture"===t?Qn.K.handlePlayerPIP(Object.assign(Object.assign({},e),{enter_from:void 0,to_status:o,method:i})):"full_screen"===t?Qn.K.handlePlayerFullscreen(Object.assign(Object.assign({},e),{to_status:o,method:i})):"theater_mode"===t&&Qn.K.handlePlayerTheaterMode(Object.assign(Object.assign({},e),{to_status:o,method:i}))}),[e]),i=(0,h.useCallback)(((e,i)=>{t.current&&t.current!==e&&o(t.current,e,"webpage"===e?null!=i?i:"close_button":"switch")}),[o]);return{handlePlayModeChangeReport:(0,h.useCallback)(((e,n)=>{i(e,n),o(e,e,n),t.current=e}),[i,o])}}(e);(0,Jn.f)("play_mode_change",(({mode:e,type:o})=>{t(e,o)}))}(t),function(e){const{handleAutoDefinitionSwitchReport:t,handleDefinitionClickReport:o,handleDefinitionHoverReport:i,handlePlayerControlsShowReport:n}=function(e){const{abrOpen:t,currentDefinitionKey:o,abrDefinitionKey:i}=(0,Ri.Ph)(Rn.T,{selector:e=>({abrOpen:"auto"===e.currentDefinitionKey,abrDefinitionKey:e.abrDefinitionKey,currentDefinitionKey:e.currentDefinitionKey}),dependencies:[]}),n=(0,zn.ZC)(i),r=(0,zn.ZC)(o),l=(0,h.useCallback)((()=>{Qn.K.handlePlayerDefinitionSelectionBtnShow(e)}),[e]),a=(0,h.useCallback)((()=>{Qn.K.handlePlayerDefinitionSelectionPageShow(e)}),[e]),s=(0,h.useCallback)((t=>{Qn.K.handlePlayerDefinitionSelectionSelectSuccess(Object.assign(Object.assign({},e),{current_definition:t.key,previous_definition:r}))}),[e,r]),d=(0,h.useCallback)((()=>{Qn.K.handlePlayerDefinitionSelectionSelectSuccess(Object.assign(Object.assign({},e),{current_definition:"auto",previous_definition:r}))}),[e,r]);return(0,h.useEffect)((()=>{t&&i!==n&&Qn.K.handleLiveDefinitionAutoSelectionSuccess(Object.assign(Object.assign({},e),{current_definition:i,previous_definition:n}))}),[t,i,n]),{handleAutoDefinitionSwitchReport:d,handleDefinitionClickReport:s,handleDefinitionHoverReport:a,handlePlayerControlsShowReport:l}}(e);(0,Jn.f)("definition_icon_hover",i),(0,Jn.f)("definition_click",o),(0,Jn.f)("definition_tip_switch_click",t),(0,Jn.f)("player_controller_show",n)}(t),function(e){const{activePlayer:t}=mi.cz,{handleFullscreenIconShowReport:o,handleTheaterIconShowReport:i,handlePIPIconShowReport:n,handleRotateIconShowReport:r,handleSwitchScreenIconReport:l}=function(e,t){const{rotate:o}=e,i=(0,zn.ZC)(o),n=(0,h.useCallback)((()=>{Qn.K.handlePlayerIconHoverShow(Object.assign(Object.assign({},t),{show_mode:"fullscreen"}))}),[t]),r=(0,h.useCallback)((()=>{Qn.K.handlePlayerIconHoverShow(Object.assign(Object.assign({},t),{show_mode:"theater"}))}),[t]),l=(0,h.useCallback)((()=>{Qn.K.handlePlayerIconHoverShow(Object.assign(Object.assign({},t),{show_mode:"picture_in_picture"}))}),[t]),a=(0,h.useCallback)((()=>{Qn.K.handlePlayerIconHoverShow(Object.assign(Object.assign({},t),{show_mode:"rotate"}))}),[t]),s=(0,h.useCallback)((({isHorizontal:e,isClick:o})=>{Qn.K.handlePlayerSwitchScreen(Object.assign(Object.assign({},t),{ops_type:o?"click":"show",stream_status:e?"landscape":"portrait"}))}),[t]),d=(0,h.useCallback)((()=>{Qn.K.handlePlayerDefinitionSwitchShow(Object.assign({},t))}),[t]);return(0,h.useEffect)((()=>{void 0!==i&&i!==o&&Qn.K.handlePlayerRotate(Object.assign(Object.assign({},t),{to_status:0===o?"default":"rotate"}))}),[i,o]),{handleFullscreenIconShowReport:n,handleTheaterIconShowReport:r,handlePIPIconShowReport:l,handleRotateIconShowReport:a,handleDefinitionSwitchTipsShowReport:d,handleSwitchScreenIconReport:s}}({rotate:t.videoStyle.rotateDirection},e);(0,Jn.f)("fullscreen_icon_hover",o),(0,Jn.f)("theater_icon_hover",i),(0,Jn.f)("pip_icon_hover",n),(0,Jn.f)("rotate_icon_hover",r),(0,Jn.f)("reload_icon_click",(()=>{Fn.mx.handleLiveRefresh(Object.assign(Object.assign({},e),{live_play_status:t.status.playing?"playing":"paused"}))})),(0,Jn.f)("switch_scrren_icon",l)}(t),function(e){const{isStalling:t}=(0,Ki.s)(Mn.ix),{activePlayer:o}=mi.cz,[i,n]=(0,h.useState)(o.status.playing),r=(0,h.useRef)(o.status.mute),{handleLiveDurationMuteReport:l,handleDefinitionClickDurationReport:a,handleLiveStartPlayReport:s,handleLivePlayerReportError:d}=function(e,t){const{playing:o,muteStatusRef:i,playerStallTipMaskVisible:n}=e,{isGuestConnection:r}=(0,Ri.Ph)(Ti.Q,{selector:e=>({isGuestConnection:e.isGuestConnection}),dependencies:[]}),l=(0,h.useRef)(!1),{liveRoomStatus:a}=(0,Ri.Ph)(Di.W,{selector:e=>({liveRoomStatus:e.liveRoomStatus}),dependencies:[]}),{stream:s,needDestroyPlayer:d,fatalType:c}=(0,Ri.Ph)(Rn.T,{selector:e=>({stream:(0,Un.J4)(e),needDestroyPlayer:e.needDestroyPlayer,fatalType:e.fatalType}),dependencies:[]}),u=(0,h.useMemo)((()=>d||!(0,Pi.t1)(a)),[d,a]),{leaderBoardDurationReport:v}=(0,Wn.V)(),{abTestVersion:m}=ce.t,g=(0,zn.ZC)(t.play_mode),p=(0,h.useRef)(),f=(0,h.useRef)(!1),_=(0,Ze.Nj)(jt.lJ),y=(0,h.useRef)(!1),b=(0,h.useRef)(),x=(0,Gn.A)(r),w=(0,h.useRef)(),S=(0,h.useRef)(),C=(0,h.useCallback)((()=>{p.current=Date.now()}),[]),I=(0,h.useCallback)((()=>{clearTimeout(b.current),b.current=window.setTimeout((()=>{Fn.mx.handleWatchOneMin(t)}),6e4)}),[t]),j=(0,Kn.qH)(),k=(0,We.A)((()=>{var e;y.current||(_.handleRoomFirstFrameSuccess(),_.handleLiveFirstFrameLoad(null!==(e=t.room_id)&&void 0!==e?e:"",m),Fn.mx.handleLivePlay(Object.assign(Object.assign({},t),{is_guest_connection:x.current?"1":"0"})),(0,Kn.nK)(j),$n.has(t.enter_method||"")&&Hn.has(t.enter_from_merge||"")||!!t.section_type||!!t.impr_position||Fn.mx.handleRecLivePlay(t),I(),C(),y.current=!0,l.current=!0)})),R=(0,h.useCallback)((e=>{var o;if(!y.current||!l.current)return;const{leaveRoomCommonPlayerParams:n={},sendBeacon:r=!1,muteStatus:a,play_mode:s,type:d}=null!=e?e:{},c=Date.now(),u=c-(null!==(o=p.current)&&void 0!==o?o:c),v=null!=a?a:i.current;if(!u)return;const m=Object.assign(Object.assign(Object.assign({},t),{duration:u,is_background_play:f.current?"1":"0",is_mute:v?"1":"0",play_mode:null!=s?s:t.play_mode,leave_method:null!=d?d:"others",is_guest_connection:x.current?"1":"0"}),n);u>0&&(Vn.P.emit("liveDurationReport",Object.assign(Object.assign({},m),{sendBeacon:r})),Fn.mx.handleLiveDuration(m,{sendBeacon:r}),_.handleLiveDuration(m)),p.current=Date.now()}),[t,_]),L=(0,h.useCallback)((e=>{_.handlePlayerError(e,t.room_id,null==s?void 0:s.activeUrl),_.setCannotReportForSSR(),_.closeCSRReport(jt.Vj.LIVE_URL_START_LOAD),R({type:"others"})}),[t.room_id,R,_]),T=(0,h.useCallback)((()=>{R({type:"change_definition"})}),[R]),A=(0,h.useCallback)((()=>{R({type:n?"disconnected":"pause"}),l.current=!1}),[R,n]),P=(0,h.useCallback)((e=>{R({muteStatus:e,type:"change_mute"})}),[R]),E=(0,h.useCallback)((()=>{clearTimeout(b.current),R({type:"leave",leaveRoomCommonPlayerParams:S.current}),l.current=!1}),[]);(0,h.useEffect)((()=>{const e=()=>{R({type:"leave",sendBeacon:!0,leaveRoomCommonPlayerParams:S.current})};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[]),(0,h.useEffect)((()=>{const e=(0,Nn.Gz)((()=>{R({type:"change_webpage"}),f.current=!0}),(()=>{R({type:"change_webpage"}),f.current=!1}));return()=>{null==e||e()}}),[R]),(0,h.useEffect)((()=>{u&&(clearTimeout(b.current),v(),R({type:3===c?"unlogin":"live_end"}),l.current=!1)}),[u]),(0,h.useEffect)((()=>{t.play_mode&&R({type:"change_mode",play_mode:g})}),[t.play_mode]),(0,h.useEffect)((()=>{t.room_id!==w.current?(w.current&&E(),y.current=!1,f.current=document.hidden,"others"!==t.enter_from_merge&&"others"!==t.enter_method&&"next_icon_click"!==t.enter_method||Fn.mx.handleLiveShow(t),Fn.mx.handleLiveEnter(t)):S.current=t,w.current=t.room_id}),[t]),(0,h.useEffect)((()=>()=>{E()}),[]);const D=(0,h.useCallback)((()=>{C(),l.current=!0}),[C]);return(0,h.useEffect)((()=>{o?D():A()}),[o]),{handleLiveDurationMuteReport:P,handleLiveStartPlayReport:k,handleLivePlayerReportError:L,handleDefinitionClickDurationReport:T}}({playing:i,muteStatusRef:r,volumeRef:{current:o.status.volume},playerStallTipMaskVisible:t},e),{handlePlayerFirstScreenReport:c,handleLiveLoadStart:u,handleRouteChange:v,handleLivePlayerStartInit:m,handleLivePlayerInited:g,handleLivePlayerInitErr:p}=function(e){const t=(0,Ze.Nj)(jt.lJ),{abTestVersion:o}=ce.t,i=(0,h.useRef)(),n=(0,h.useCallback)((n=>{var r;i.current!==n&&(i.current=n,t.handleLiveUrlLoadEnd(null!==(r=e.room_id)&&void 0!==r?r:"",o))}),[e,t,o]);return{handleLiveLoadStart:(0,h.useCallback)((()=>{e.room_id&&t.handleLiveUrlLoadStart(e.room_id,o)}),[e.room_id,t,o]),handleRouteChange:(0,h.useCallback)((e=>{e&&t.setCannotReportForSSR()}),[t]),handleLivePlayerStartInit:(0,h.useCallback)((()=>{var i;t.handleLivePlayerInitStart(null!==(i=null==e?void 0:e.room_id)&&void 0!==i?i:"",o)}),[t,e.room_id,o]),handlePlayerFirstScreenReport:n,handleLivePlayerInited:(0,h.useCallback)((()=>{var i;t.handleLivePlayerInitEnd(null!==(i=null==e?void 0:e.room_id)&&void 0!==i?i:"",o)}),[t,e.room_id,o]),handleLivePlayerInitErr:(0,h.useCallback)((()=>{t.setCannotReportForSSR(),t.closeCSRReport()}),[t])}}(e);(0,Jn.f)("definition_click",a),(0,Jn.f)("seamless_enter",(()=>{var e;const t=o.logger.getCurrentLog();(null==t?void 0:t.first_frame.event_key)&&Zn.f.event(null==t?void 0:t.first_frame.event_key,Object.assign(Object.assign({},null==t?void 0:t.first_frame),{first_frame_view:0,ttdb:0,ttfb:0,ttfbCost:0,appendCost:0,remuxCost:0,demuxCost:0})),v(),m(),g(),u(),(null===(e=o.config)||void 0===e?void 0:e.url)&&c(o.config.url),o.status.playing&&(s(),(0,bn.AI)())})),(0,Xn.J)("create_start",(()=>{m()})),(0,Xn.J)("create_end",(()=>{g()})),(0,Xn.J)("create_error",(()=>{p()})),(0,Xn.J)("mute_change",(e=>{l(!e),r.current=e})),(0,Xn.J)("loaded_data",(()=>{var e;(null===(e=o.config)||void 0===e?void 0:e.url)&&c(o.config.url)})),(0,Xn.J)("load_start",(()=>{u()})),(0,Xn.J)("playing",(()=>{n(!0),s(),(0,bn.AI)()})),(0,Xn.J)("pause",(()=>{n(!1)})),(0,Xn.J)("error",(e=>{d({status:e.errorCode,message:e.errorMessage})})),(0,x.A)((()=>{Bn.m.cleanEnterRoomDuration()}))}(t),function(e){const t=(0,h.useRef)(e.live_chat);(0,h.useEffect)((()=>{if(t.current!==e.live_chat){const{anchor_id:t,room_id:o,live_type:i,current_definition:n,play_mode:r,enter_from_merge:l,enter_method:a}=e;Fn.mx.handleLiveChatIconClick({anchor_id:t,room_id:o,live_type:i,to_status:e.live_chat,current_definition:n,play_mode:r,enter_from_merge:l,enter_method:a})}t.current=e.live_chat}),[e.live_chat])}(t),function(e){const{handleNextIconClickReport:t,handleNextIconShowReport:o}=function(e){return{handleNextIconClickReport:(0,h.useCallback)((()=>{Fn.mx.handleInnerNextIconClick(e)}),[e]),handleNextIconShowReport:(0,h.useCallback)((()=>{Fn.mx.handleInnerNextIconShow(e)}),[e])}}(e),i=(0,We.A)((({type:o,auto:i,drawType:n})=>{const r=!!Mn.ix.nonStreamingErrorCodeRef.current;let l;t(),l="slide"===n?"slide":i?"auto_pass":"click",Fn.mx.handleLiveRoomDraw({enter_from_merge:Bn.m.getRoomDurationPublicParams().enterFromMerge,room_id:e.room_id,anchor_id:e.anchor_id,draw_action:"top"===o?"1":"2",draw_type:l,is_abnormal:r?"1":"0",abnormal_reason:r?"non_streaming":"",abnormal_code:Mn.ix.nonStreamingErrorCodeRef.current,to_group_id:e.room_id,follow_status:e.follow_status,rid:e.request_id})}));(0,Jn.f)("next_icon_click",i),(0,Jn.f)("next_icon_show",o)}(t),function(e){const{activePlayer:t}=mi.cz,{handleVolumeChangeReport:o,handleMuteChangeReport:i}=function(e,{muted:t,volume:o}){const i=(0,h.useRef)(t),n=(0,h.useRef)(o),r=(0,h.useCallback)(((t,o)=>{const r=t-(n.current||0);n.current=t,i.current=o,Qn.K.handlePlayerVolumeChange(Object.assign(Object.assign({},e),{volume_value:t,volume_diff:r,to_status:o?"off":"on"}))}),[e]),l=(0,zn.d7)(((e,t)=>{r(e,t)}),[e],1e3);return(0,h.useEffect)((()=>{n.current=o,i.current=t}),[t,o]),{muteStatusRef:i,volumeRef:n,handleVolumeChangeReport:l,handleMuteChangeReport:r}}(e,{muted:t.status.mute,volume:t.status.volume});(0,Xn.J)("volume_change",(e=>{o(e,t.status.mute)})),(0,Xn.J)("mute_change",(e=>{i(t.status.volume,e)}))}(t),(e=>{const t=(0,Ue.A)((()=>Date.now()),[]),o=(0,We.A)(((o=!1)=>{const{enterFromMerge:i,enterMethod:n}=Bn.m.getRoomDurationPublicParams();Fn.mx.handleLiveLeavePage({enter_from_merge:i,enter_method:n,room_id:e.room_id,anchor_id:e.anchor_id,is_abnormal:Mn.ix.nonStreamingErrorCodeRef.current?"1":"0",abnormal_code:Mn.ix.nonStreamingErrorCodeRef.current,abnormal_reason:Mn.ix.nonStreamingErrorCodeRef.current?"non_streaming":"",duration:Date.now()-t},o)}));(0,h.useEffect)((()=>{const e=()=>{o(!0)};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[]),(0,x.A)((()=>{o()}))})(t)}var er=o(40758),tr=o(98312),or=o(42824),ir=o.n(or);var nr=o(94818),rr=o(46655);const lr=(0,L.default)("div",{target:"e8kvogr0"})({position:"absolute",width:"100%",height:"100%",overflow:"hidden"},"label:DivBgContainer;"),ar=(0,h.memo)((({style:e})=>(0,i.jsx)(lr,{style:Object.assign({},e)},void 0)));function sr(){const{enterRoomState:e}=(0,Ki.s)(cn.C$);return{isLoading:1===e.enterRoom,isSuccess:2===e.enterRoom,isFail:3===e.enterRoom,isFinally:(0,h.useMemo)((()=>[3,2].includes(e.enterRoom)),[e])}}var dr=o(72917),cr=o(40780),ur=o(14072),vr=o(62938);var mr=o(24447);const hr=e=>e?-5===e?1:-6===e?3:0:0;var gr=o(5250),pr=o(98295),fr=o(15316);const _r=(0,h.memo)((()=>{const{roomId:e}=(0,Ki.s)(cn.C$),{user:t}=ce.t,o=(0,Ri.wA)(gr.R);return(0,pr.iy)(null!=e?e:""),(0,fr.j)(),(0,h.useEffect)((()=>{(null==t?void 0:t.uid)&&o.getViewerRankSettingStatus({attr_types:"6"})}),[t,o]),null}));var yr=o(9101);function br(){const{isAgeGateRoom:e,liveRoomStatus:t}=(0,Ri.Ph)(Di.W,{selector:e=>({isAgeGateRoom:e.isAgeGateRoom,liveRoomStatus:e.liveRoomStatus}),dependencies:[]}),o=(0,Pi.hi)(t),i=(0,yr.mT)(),{isRecalled:n}=(0,qn.mD)();(0,h.useEffect)((()=>{o&&!n&&Fn.mx.handleLiveFinish(i),n&&Fn.mx.handleLiveFinish(Object.assign(Object.assign({},i),{enter_method:"access_revoked"}))}),[o,i,n]),(0,h.useEffect)((()=>{e&&i.room_id&&Fn.mx.handleLiveMatureThemeMaskShow({enter_from:i.enter_from,anchor_id:i.anchor_id,room_id:i.room_id})}),[i.anchor_id,i.enter_from,i.room_id,e])}const xr=(0,h.memo)((function(){return function(){const{isSuccess:e}=(0,Hi.u)(),{roomId:t}=(0,Ei.XD)(),{streamDeviceType:o}=(0,kt.G)(),i=(0,Ze.Nj)(jt.lJ),n=(0,Ri.wA)(Di.W),r=(0,Ri.wA)(Rn.T),{canWatchLive:l}=(0,Bi.I)(),a=(0,Ri.wA)(Ti.Q),{isFinally:s}=(0,Hi.u)(),d=(0,Ri.wA)(gr.R),{botType:c="",abTestVersion:u,user:v}=ce.t,{liveRoomStatus:m}=(0,Ri.Ph)(Di.W,{selector:e=>({liveRoomStatus:e.liveRoomStatus}),dependencies:[]}),g=(0,h.useRef)(!1);g.current=[-5,-6].includes(m),(0,h.useEffect)((()=>{var e,i;const r=(0,Pi.Gc)();if(t&&l)return n.enterRoom({roomId:t,botType:c,abTestVersion:u,deviceType:o,enter_method:null!==(e=r.enter_method)&&void 0!==e?e:"others",enter_from_merge:null!==(i=r.enter_from_merge)&&void 0!==i?i:"others"}),()=>{s&&!g.current&&n.leaveRoom(t),a.setLoadingState({enterRoom:0}),n.enterRoomDispose$()}}),[n,a,l,t,d,c,u,r]),(0,h.useEffect)((()=>()=>{n.setCurrentLiveRoomUserInfo(null),i.setCannotReportForSSR(),i.closeCSRReport()}),[n,i]),(0,h.useEffect)((()=>{e&&(null==v?void 0:v.uid)&&d.getViewerRankSettingStatus({attr_types:"6"})}),[e,v,d]),(0,pr.iy)(null!=t?t:""),br(),(0,Ei.NB)(),(0,fr.j)()}(),null})),wr=(0,h.memo)((function(){const{isSuccess:e}=sr();return function(){const{botType:e="",language:t="en"}=ce.t,{handleEnterRoom:o}=(()=>{let e;const{abTestVersion:t}=ce.t,{enterRoomWithSSR:o,streamId:i}=(0,Ki.s)(cn.C$),n=(0,Ri.wA)(Di.W),r=(0,Ri.wA)(Ti.Q),l=(0,Ri.wA)(Rn.T),a=(0,Ri.wA)(dr.Y),s=(0,Ze.Nj)(jt.lJ),{handleLivePlayFail:d}=(()=>{const{anchorId:e,roomId:t,teaCommonParams:o}=(0,Ki.s)(cn.C$);return{handleRecLivePlay:(0,h.useCallback)((()=>{Fn.mx.handleRecLivePlay({room_id:t,anchor_id:e,live_type:null==o?void 0:o.live_type})}),[]),handleLivePlayFail:(0,h.useCallback)((i=>{Fn.mx.handleLivePlayFail({room_id:t,anchor_id:e,live_type:null==o?void 0:o.live_type,error_code:null==i?void 0:i.error_code,detail_error_code:null==i?void 0:i.detail_error_code})}),[]),handleEnterRoomDuration:(0,h.useCallback)((e=>{Fn.mx.handleEnterRoomDuration(Object.assign({},e))}),[])}})(),c=(0,We.A)((({roomData:e})=>{var t,o,i,n,l,s,d,c;const u=null===(i=null===(o=null===(t=e.social_interaction)||void 0===t?void 0:t.multi_live)||void 0===o?void 0:o.room_multi_guest_linkmic_info)||void 0===i?void 0:i.pack_err_code;if(e.with_linkmic)if(0===u){const t=null!==(c=null===(d=null===(s=null===(l=null===(n=e.social_interaction)||void 0===n?void 0:n.multi_live)||void 0===l?void 0:l.room_multi_guest_linkmic_info)||void 0===s?void 0:s.multi_guest_linkmic_info)||void 0===d?void 0:d.linked_users)&&void 0!==c?c:[],{linkedMicUsers:o,linkedMicUserMap:i}=(0,cr.M)(t);(0,cn.fo)(o.length>0),(0,cn.Td)(o.length>1),r.setIsMultiGuestRoom(o.length>0),r.setIsGuestConnection(o.length>1),a.setMultiState({linkedUsers:i,linkedMicUsers:o})}else a.getMultiGuestUserList({room_id:null==e?void 0:e.id_str})})),u=(0,We.A)((({statusCode:e,message:t,isBotType:o})=>{s.setCannotReportForSSR(),s.closeCSRReport(jt.Vj.ENTER_ROOM_API_END),d({error_code:205,detail_error_code:e}),l.clearStreamInfo(),(0,cn.Uw)("webpage"),(0,cn.Fj)(t),r.setRoomInfo(null),r.setPlayMode("webpage"),r.setEnterRoomMessage(t),e===ur.X.LivePaidEvent?((0,cn.Gg)(!0),n.setLiveRoomStatus(-3)):e===ur.X.LiveSubscriberOnly?((0,cn.gB)(!0),(0,cn.Ar)(-4),n.setLiveRoomStatus(-4)):e===ur.X.RoomLCCLimited?((0,cn.Ar)(-5),n.setLiveRoomStatus(-5)):e===ur.X.RoomRegionalBlock?((0,cn.Ar)(-6),n.setLiveRoomStatus(-6)):e===ur.X.ParentRMBlock?((0,cn.Ar)(-9),n.setLiveRoomStatus(-9)):e===ur.X.UserRMBlock?((0,cn.Ar)(-8),n.setLiveRoomStatus(-8)):e===ur.X.ECommerceLCCBlock?((0,cn.Ar)(-11),n.setLiveRoomStatus(-11)):e===ur.X.ECommerceUserRMBlock?((0,cn.Ar)(-12),n.setLiveRoomStatus(-12)):e===ur.X.ECommerceParentRMBlock?((0,cn.Ar)(-13),n.setLiveRoomStatus(-13)):e===ur.X.LiveRoomInBox?((0,cn.Ar)(-2),n.setLiveRoomStatus(-2)):[ur.X.AreaBlock,ur.X.Blocked,ur.X.LiveRoomInBox].includes(e)?(l.setFatalType(1),l.setIsFatal(!0),(0,cn.Ar)(-7),n.setLiveRoomStatus(-7)):e===ur.X.LiveEnterRoomNeedLogin?(l.setFatalType(3),l.setIsFatal(!0),o||((0,cn.u4)(!0),n.setNeedLogin(!0))):[ur.X.Preparing,ur.X.UnStable].includes(e)?((0,cn.Ar)(1),n.setLiveRoomStatus(1)):[ur.X.EndLive,ur.X.LiveRoomBan].includes(e)?((0,cn.Ar)(4),n.setLiveRoomStatus(4)):e===ur.X.LiveNoGatedAuth?((0,cn.d5)(!0),n.setLiveGate(!0)):e===ur.X.LiveNoAgeGatedAuth?((0,cn.QG)(!0),n.setIsAgeGateRoom(!0)):(l.setFatalType(0),l.setIsFatal(!0)),l.setNeedDestroyPlayer(!0)})),v=(0,We.A)((({roomData:e,extra:t})=>{var a,s,d,u,v,m,h,g,p,f,_;const y=null==e?void 0:e.status;let b=y>4?2:null!=y?y:0;const x=null===(d=null===(s=null===(a=e.social_interaction)||void 0===a?void 0:a.multi_live)||void 0===s?void 0:s.room_multi_guest_linkmic_info)||void 0===d?void 0:d.pack_err_code,w=null!==(g=null===(h=null===(m=null===(v=null===(u=e.social_interaction)||void 0===u?void 0:u.multi_live)||void 0===v?void 0:v.room_multi_guest_linkmic_info)||void 0===m?void 0:m.multi_guest_linkmic_info)||void 0===h?void 0:h.linked_users)&&void 0!==g?g:[],S=0===x&&w.length>1;3===y&&(S?b=2:l.setNeedDestroyPlayer(!0)),(0,Ci.ri)(e);const C=(0,Jo.B)(e),I=null==C?void 0:C.id_str,j=null===(p=null==C?void 0:C.live_core_sdk_data)||void 0===p?void 0:p.pull_data;!(o&&i&&i===I)&&j&&((0,cn.GJ)(I),(0,cn.Id)(j),l.updateRoomStream({pullData:j,streamId:I})),c({roomData:e}),(0,cn.Ar)(b),(0,cn.Af)(e),r.setFollowStatus({roomId:String(null==e?void 0:e.id_str),followStatus:null===(_=null===(f=null==e?void 0:e.owner)||void 0===f?void 0:f.follow_info)||void 0===_?void 0:_.follow_status}),n.setLiveRoomStatus(b),r.setRoomInfo(e),r.setIsOfficialChannelRoom(!!(null==t?void 0:t.is_official_channel))}));return{handleEnterRoom:(0,We.A)((o=>(0,S.sH)(void 0,void 0,void 0,(function*(){var i;jn.qQ.cancelQueries({queryKey:[An.EnterRoom]}),(0,cn.KZ)({enterRoom:1}),e=Date.now(),s.handleLiveEnterRoomStart(o.roomId,t),r.setLoadingState({enterRoom:1}),r.setEnterRoomMessage(void 0),l.setIsFatal(!1);try{const l=yield jn.qQ.fetchQuery({queryKey:[An.EnterRoom,o.roomId,o.deviceType],queryFn:()=>(0,S.sH)(void 0,void 0,void 0,(function*(){return(0,ur.S)({roomId:o.roomId,options:{device_type:o.deviceType,enter_from_merge:o.enter_from_merge,enter_method:o.enter_method}})})),staleTime:0});s.handleLiveEnterRoomEnd(o.roomId,t),(0,bn.NO)();const{data:a,status_code:d,extra:c,message:m}=l,h=(Date.now()-e)/4,g=(null==c?void 0:c.now)?Number(null==c?void 0:c.now)+h-Date.now():0;(0,cn.ot)(g),r.setNtpDiff(g),n.setExtraRoomData(c);let p=0===d,f=d;(0,vr.yW)(a)&&(f=4003072,p=!1),p?v({roomData:a,extra:c}):u({statusCode:f,message:null!==(i=null==a?void 0:a.prompts)&&void 0!==i?i:m,isBotType:"others"!==(null==o?void 0:o.botType)}),(0,cn.yF)(c),(0,cn.KZ)({enterRoom:2}),(0,cn.Q3)(!1),r.setLoadingState({enterRoom:2}),r.setEnterRoomWithSSR(!1),In.c.handleApiReport({httpPath:"",httpCode:200,statusCode:d,errorMsg:null==a?void 0:a.prompts},p,"live_sdk_api_enter_room")}catch(e){s.setCannotReportForSSR(),s.closeCSRReport(jt.Vj.ENTER_ROOM_API_END);const t=(0,xn.wm)(e);t||((0,cn.KZ)({enterRoom:3}),(0,cn.Q3)(!1),(0,cn.Uw)("webpage"),r.setLoadingState({enterRoom:3}),r.setEnterRoomWithSSR(!1),l.setIsFatal(!0),l.setFatalType(0),r.setPlayMode("webpage")),In.c.handleApiReport({httpPath:"",httpCode:null==e?void 0:e.status,errorType:t?"CancelledError":null==e?void 0:e.name,errorMsg:JSON.stringify(e)},!1,"live_sdk_api_enter_room")}}))))}})(),{handleGetLiveRoomUserInfo:i}=En(),{canWatchLive:n}=(0,Bi.I)(),r=(0,Ln.KG)(),{streamDeviceType:l}=(0,kt.G)(),{roomId:a,enterRoomWithSSR:s}=(0,Ki.s)(cn.C$);(0,h.useEffect)((()=>{var t,i;const r=(0,Pi.Gc)();a&&n&&o({roomId:a,botType:e,deviceType:l,enter_method:null!==(t=r.enter_method)&&void 0!==t?t:"others",enter_from_merge:null!==(i=r.enter_from_merge)&&void 0!==i?i:"others"})}),[a,n]),(0,h.useEffect)((()=>{r&&n&&!s&&i({uniqueId:r,language:t})}),[r,t,n])}(),function(){const{roomId:e,liveRoomStatus:t}=(0,Ki.s)(cn.C$),{isFinally:o}=sr(),i=(0,Ze.Nj)(jt.lJ),n=(0,Ri.wA)(Ti.Q),r=(0,Ri.wA)(Di.W);(0,h.useEffect)((()=>()=>{(0,cn.TK)(),r.setCurrentLiveRoomUserInfo(null),n.setRoomInfo(null),r.enterRoomDispose$(),i.setCannotReportForSSR(),i.closeCSRReport()}),[i,r]),(0,h.useEffect)((()=>()=>{o&&t&&[-5,-6].includes(t)&&(0,mr.J)({room_id:e,reason:hr(t)})}),[o,t])}(),br(),e?(0,i.jsx)(_r,{},void 0):null})),Sr=(0,h.memo)((function(){return(0,an.ZR)()?(0,i.jsx)(wr,{},void 0):(0,i.jsx)(xr,{},void 0)}));var Cr=o(54631),Ir=o(85484),jr=o(57653),kr=o(43425);function Rr(e){if("undefined"==typeof window)return;const{hevcSupport:t,openH265:o}=(0,kt.x)(),{activePlayer:i}=mi.cz,{user:n,wid:r}=ce.t;i.logger.updateParams(Object.assign({userId:null==n?void 0:n.uid,deviceId:r,user_is_login:(null==n?void 0:n.uid)?"1":"0",is_preview:0,isSupportedH265:t?"1":"0",is_h265_open:o?"1":"0",event_page:"live_room"},e))}var Lr=o(99592);const Tr=(0,h.memo)((function(){return(()=>{const e=(0,to.r)((e=>e.setPlayerContainer)),{needDestroyPlayer:t}=(0,Ri.Ph)(Rn.T,{selector:e=>({needDestroyPlayer:e.needDestroyPlayer}),dependencies:[]}),o=(0,Ri.Ph)(Di.W,{selector:e=>e.liveRoomUserInfo,dependencies:[]}),{showLiveChat:i,roomInfo:n}=(0,Ri.Ph)(Ti.Q,{selector:e=>({roomInfo:e.roomInfo,showLiveChat:e.showLiveChat}),dependencies:[]}),{roomId:r,anchorId:l,liveRoomMode:a,hashTagId:s}=(0,jr.X)(),{playMode:d}=(0,Ki.s)(Mn.ix),c=(0,h.useMemo)((()=>function(e,t){var o;if("undefined"==typeof window)return;const{user:i}=ce.t,{liveSuggestConfig:n}=kr.f,r=Boolean(i),l=null==t?void 0:t.liveRoom,{openH265:a}=(0,kt.x)();if(e){const t=(0,Jo.B)(e);return null===(o=null==t?void 0:t.live_core_sdk_data)||void 0===o?void 0:o.pull_data}if(!n||!i||!l)return;const{isRiskArea:s,isBlockedArea:d}=n,c=s&&!r,u=(0,Pi.yW)({paid_event:l.paidEvent}),v=1===l.liveSubOnly,m=l.status&&2===l.status,h=a?l.hevcStreamData:l.streamData;return!h||d||c||!m||u||v?void 0:h.pull_data}(n,o)),[o,n]);(0,b.A)((()=>{const{playerWrapperRef:t}=Mn.ix,o=mi.cz.activePlayerDom;t.current&&o&&(t.current.appendChild(o),e(t))})),(0,h.useEffect)((()=>{(0,Mn.Sf)(a)}),[a]),(0,h.useEffect)((()=>{Rr({live_chat:i?"on":"off",live_type:Mn.ix.liveType,play_mode:Mn.ix.playMode,room_id:r,anchor_id:l})}),[i,l,r,a,d]),(0,h.useEffect)((()=>{const{activePlayer:e,activePlayerId:o,seamlessEnterRoom:n}=mi.cz;if(t)return void e.destroy();if(!c)return;const d=(0,Cr.eA)({playerId:o,streamPullData:c,loggerRoomInfo:{hashTagId:s,liveChat:i,isPreview:!1,roomId:r,anchorId:l,liveRoomMode:a}});e.created?(0,Ir.Bi)(o,d,!n):(0,Ir.IP)(o,d),n&&(0,mi.RA)(!1)}),[t,c]),(0,x.A)((()=>{(0,mi.gP)().destroy(),(0,mi.RA)(!1)}))})(),function(){const{liveRoomUserInfo:e}=(0,Ri.Ph)(Di.W,{selector:e=>({liveRoomUserInfo:e.liveRoomUserInfo}),dependencies:[]}),{openH265:t}=(0,kt.G)();(0,Lr.j)(null==e?void 0:e.liveRoom,t)}(),null})),Ar=(0,h.memo)((function(){return(()=>{const e=(0,to.r)((e=>e.setPlayerContainer)),{needDestroyPlayer:t}=(0,Ri.Ph)(Rn.T,{selector:e=>({needDestroyPlayer:e.needDestroyPlayer}),dependencies:[]}),{showLiveChat:o}=(0,Ri.Ph)(Ti.Q,{selector:e=>({showLiveChat:e.showLiveChat}),dependencies:[]}),{roomId:i,anchorId:n,liveRoomMode:r,streamPullData:l,teaCommonParams:a}=(0,Ki.s)(cn.C$),{playMode:s}=(0,Ki.s)(Mn.ix);(0,b.A)((()=>{const{playerWrapperRef:t}=Mn.ix,o=mi.cz.activePlayerDom;t.current&&o&&(t.current.appendChild(o),e(t))})),(0,h.useEffect)((()=>{const{live_type:e}=null!=a?a:{};Rr({live_chat:o?"on":"off",live_type:e,play_mode:s,room_id:i,anchor_id:n})}),[o,n,i,r,s,a]),(0,h.useEffect)((()=>{const{activePlayer:e,activePlayerId:a,seamlessEnterRoom:s}=mi.cz;if(t)return void e.destroy();if(!l)return;const d=(0,Cr.eA)({playerId:a,streamPullData:l,loggerRoomInfo:{liveChat:o,isPreview:!1,roomId:i,anchorId:n,liveRoomMode:r}});e.created?(0,Ir.Bi)(a,d,!s):(0,Ir.IP)(a,d),s&&(0,mi.RA)(!1)}),[t,l]),(0,x.A)((()=>{(0,mi.gP)().destroy(),(0,mi.RA)(!1)}))})(),null})),Pr=(0,h.memo)((function(){return(0,an.ZR)()?(0,i.jsx)(Ar,{},void 0):(0,i.jsx)(Tr,{},void 0)})),Er=(0,a.Ay)({resolved:{},chunkName:()=>"player-layer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!o.m[t]},importAsync:()=>Promise.all([o.e(41387),o.e(93278),o.e(29168),o.e(68105),o.e(32228),o.e(98239),o.e(47430),o.e(58041),o.e(25048)]).then(o.bind(o,26528)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve:()=>26528},{resolveComponent:e=>e.PlayerLayer,ssr:!1}),Dr=(0,h.memo)((()=>{const{containerRef:e,playerWrapperRef:t}=Mn.ix;Yn();const{handleDoubleClick:o}=(()=>{const e=(0,Ue.A)((()=>({current:0})),[]),t=(0,Ue.A)((()=>({current:!1})),[]),o=(0,We.A)((()=>{clearTimeout(e.current),t.current=!1,e.current=window.setTimeout((()=>{Mn.ix.hovering=!1}),2e3)})),i=(0,We.A)((()=>{Mn.ix.hovering||(Mn.ix.hovering=!0),t.current||o()})),n=(0,We.A)(ir()(i,150,{leading:!0,trailing:!1})),r=(0,We.A)((()=>{Mn.ix.hovering=!1})),l=function(e,t=300){const o=(0,h.useRef)(0),i=(0,h.useRef)(0);return(0,b.A)((()=>()=>{i.current&&clearTimeout(i.current)})),(0,We.A)((()=>{o.current++,1===o.current?i.current=window.setTimeout((()=>{o.current=0}),t):2===o.current&&(clearTimeout(i.current),o.current=0,e())}))}((()=>{const{playMode:e}=Mn.ix,{covering:t}=mi.cz;t||("full_screen"===e?(0,Mn.ak)("webpage","double_click"):(0,Mn.ak)("full_screen","double_click"))}));(0,er.A)((()=>Mn.ix.containerRef.current),{onEnter:i,onLeave:r});const a=Mn.ix.containerRef;return(0,tr.A)("mousemove",n,{target:a}),{handleDoubleClick:l}})();(()=>{const e=(0,h.useRef)(0),t=(0,h.useRef)(0),o=(0,We.A)(((o,i)=>{e.current!==o&&((0,nr.jx)(o),e.current=o),t.current!==i&&((0,nr.mE)(i),t.current=i)}));(0,Xn.J)("video_style_init",(({contentWidth:e,contentHeight:t})=>{o(e,t)})),(0,Xn.J)("video_style_change",(({contentWidth:e,contentHeight:t})=>{o(e,t)}))})();const n=function(){const[e,t]=(0,h.useState)(!1),o=(0,We.A)((()=>{t(!0)}));return(0,b.A)((()=>{mi.cz.activePlayer.events.on("playing",o),e||window.setTimeout((()=>{t(!0)}),1e3)})),(0,x.A)((()=>{mi.cz.activePlayer.events.off("playing",o)})),e}(),{p1:r}=(0,Ki.s)(bn.vr);!function(){var e,t;const o=(0,Ze.Nj)(jt.lJ),{abTestVersion:i}=ce.t,n=(0,h.useRef)(!1);o&&!n.current&&(null===(e=o.handleLiveRoomRenderStart)||void 0===e||e.call(o,i),null===(t=o.reportMainScriptLoadTimeStamp)||void 0===t||t.call(o,i),n.current=!0)}();const{playerDomStyle:l}=(()=>{const{playMode:e}=(0,Ki.s)(Mn.ix),t=(0,h.useRef)(0),{containerRef:o}=Mn.ix,[i,n]=(0,h.useState)({});(0,h.useEffect)((()=>{const{seamlessEnterAnimationEnd:e,activePlayerDom:t,videoHeight:i,videoWidth:r,videoX:l,videoY:a}=mi.cz,s=t;if(e||!o.current||!s)return;const d=o.current.getBoundingClientRect(),c=a-d.y,u=l-d.x;n({width:r,height:i,top:c,left:u});const v=setTimeout((()=>{n({width:"100%",height:"calc(100% - 64px)",top:0,left:0,transition:"all 0.2s ease-in-out"})}),100);return()=>{clearTimeout(v)}}),[]),(0,h.useEffect)((()=>{if(!o.current)return;mi.cz.seamlessEnterAnimationEnd||setTimeout((()=>{Jn.U.emit("seamless_enter")}),0);const e=()=>{mi.cz.seamlessEnterAnimationEnd||(0,mi.Dz)()},i=o.current;return clearTimeout(t.current),i.addEventListener("transitionend",e),t.current=window.setTimeout((()=>{e()}),2e3),()=>{i.removeEventListener("transitionend",e),clearTimeout(t.current)}}),[]);const r=(0,h.useMemo)((()=>"theater_mode"===e?{height:"100%"}:{}),[e]);return(0,Ue.A)((()=>({containerRef:o,playerDomStyle:Object.assign(Object.assign({},i),r)})),[i,e])})();return(0,i.jsxs)(rr.cu,Object.assign({ref:e,onClick:o,style:l,"data-e2e":"live-room-content"},{children:[(0,i.jsx)(Sr,{},void 0),(0,i.jsx)(Pr,{},void 0),(0,i.jsx)(ar,{style:{zIndex:1}},void 0),(0,i.jsx)(rr.RV,{style:{zIndex:2},ref:t},void 0),r&&n&&(0,i.jsx)(Er,{},void 0)]}),void 0)}));var Mr=o(10487),Or=o(19609),Fr=o(74773),Br=o(33293),qr=o(73766),Gr=o(94488),zr=o(29665),Nr=o(53989),Ur=o(13363);const Wr=h.memo((()=>((()=>{const{handleFollowClick:e,loading:t,following:o}=function(){const e=(0,p.nH)(),t=(0,Ze.Nj)(Or.r),o=(0,Ze.Nj)(jt.lJ),i=(0,Ri.wA)(Ti.Q),{followStatusMap:n}=(0,Ri.Ph)(Ti.Q,{selector:e=>({followStatusMap:e.followStatusMap}),dependencies:[]}),{roomId:r="",anchorId:l="",requestId:a}=(0,Ei.XD)(),{isFollowLoading:s,setFollowLoading:d}=(0,Fr.V)(),c=n[r],u=Fr.k.includes(c),v=(0,p.Jd)({defaultVisible:!1,closeable:!0});return{handleFollowClick:(0,We.A)((n=>new Promise((s=>{if(!e)return v({enterMethod:"click_follow"}),s(void 0);d(!0),t.updateUserRelation({current_room_id:r,follow_type:1,to_user_id:l}).pipe((0,Br.Z)((({data:e,error:t,status_code:s})=>{var d;if(0!==s)return o.handleFollowFail(t,s),(0,qr.of)();o.handleFollowSuccess(),i.setFollowStatus({followStatus:e.follow_status,roomId:String(r)});const u={anchor_id:l,request_id:a,room_id:r};return Nr.D.handleFollow(Object.assign(Object.assign(Object.assign({},(0,Pi.Gc)()),u),{action_type:"click",user_is_login:"1",initial_follow_status:null!=c?c:-1,follow_status:null!==(d=e.follow_status)&&void 0!==d?d:-1,to_user_id:l,click_user_position:n})),(0,qr.of)()})),(0,Gr.W)((e=>(o.handleFollowFail(e),(0,qr.of)()))),(0,zr.j)((()=>(d(!1),s(void 0),(0,qr.of)())))).subscribe()})))),loading:s,following:u,followStatus:c}}();(0,Mr.A)(["g"],(()=>{o||t||(0,Ur.j)()||(0,Ur.l)()||e("keyboard")}),{exactMatch:!0})})(),null)));var Vr=o(90701);const $r=(0,h.memo)((()=>{const e=(0,Ei.u$)(),{liveRoomUserInfo:t,needLogin:o}=(0,Ri.Ph)(Di.W,{selector:e=>({liveRoomUserInfo:e.liveRoomUserInfo,liveRoomStatus:e.liveRoomStatus,isAgeGateRoom:e.isAgeGateRoom,needLogin:e.needLogin}),dependencies:[]}),{showLiveChat:n,roomInfo:r}=(0,Ri.Ph)(Ti.Q,{selector:e=>({showLiveChat:e.showLiveChat,isGateRoom:e.isGateRoom,roomInfo:e.roomInfo}),dependencies:[]}),{containerRef:l}=gn.jR,a=(0,Ai.j)((e=>e.isHideGiftContainer)),{isHideBottomGiftContainer:s}=(0,Ki.s)(cn.C$),{isFirstCSREnterRoom:d}=(0,Ki.s)(pn.Bb),c=(0,ri.cA)(),u=(0,ri.TG)(),v=Boolean(a||s),{setShow:m}=(0,to.r)((e=>({setShow:e.setShow}))),g=(0,h.useMemo)((()=>{if(o&&(0,Pi.I_)(r))return!0}),[o,r]);(0,Li.A)((()=>{var e;(null==t?void 0:t.user.roomId)&&(null===(e=l.current)||void 0===e||e.scrollTo(0,0))}),[null==t?void 0:t.user.roomId]),(0,h.useEffect)((()=>{d&&u&&m(!v)}),[v]),(0,h.useEffect)((()=>{var e,o,i;(null==t?void 0:t.user)?et.h.liveRoomParams={nickname:t.user.nickname,liveTitle:null!==(o=null===(e=t.liveRoom)||void 0===e?void 0:e.title)&&void 0!==o?o:"",uniqueId:null!==(i=t.user.uniqueId)&&void 0!==i?i:""}:et.h.liveRoomParams=void 0}),[t]);const{seamlessEnterAnimationEnd:p}=(0,Ki.s)(mi.cz),{p1:f,p2:_}=(0,Ki.s)(bn.vr),y=(0,an.ZR)();return g?(0,i.jsx)(qi,{},void 0):(0,i.jsxs)(Ni,Object.assign({theater:e},{children:[y&&(0,i.jsx)(Dn,{},void 0),(0,i.jsxs)(Ui,Object.assign({theater:e,showLiveChat:n,ref:l},{children:[(0,i.jsxs)(Wi,Object.assign({isTheaterMode:e,isHideBottomGift:c&&v},{children:[!f&&(0,i.jsx)(_n,{},void 0),f&&(0,i.jsx)(yn,{},void 0),(0,i.jsx)(Dr,{},void 0)]}),void 0),(0,i.jsxs)($i,Object.assign({isTheaterMode:e},{children:[!_&&(0,i.jsx)(Yi,{},void 0),_&&p&&(0,i.jsx)(en,{},void 0)]}),void 0)]}),void 0),_&&(0,i.jsx)(hn,{},void 0),(0,Vr.w)()&&_&&(0,i.jsx)(Wr,{},void 0),!y&&(0,i.jsx)(un,{},void 0)]}),void 0)}));var Hr=o(62389),Kr=o(400);const Xr=(0,h.memo)((()=>{const e=(0,Ze.Nj)(jt.lJ);return(0,_.x)("live_detail",{clientVersionName:"live_v3"}),(0,h.useEffect)((()=>{(0,Hr.d0)()}),[]),(0,g.E)(),(0,b.A)((()=>{e.handleRoomPageShow(),(0,bn.ae)()})),(0,i.jsx)(Kr.IN,{children:(0,i.jsx)($r,{},void 0)},void 0)})),Jr=()=>{const{user:e}=ce.t,t=(0,p.Jd)({defaultVisible:!1,closeable:!0});return(0,Ue.A)((()=>!!e||(t(),!1)),[])},Qr=({isLoged:e})=>{(0,Ue.A)((()=>{e||(yi({feedData:[],loadingState:2,extra:Object.assign(Object.assign({},_i.extra),{has_more:!1})}),wi())}),[e])};function Zr(){const e=Jr();return Qr({isLoged:e}),ji({query:{req_from:"live_mt_pc_web_follow_tab_refresh",channel_id:88,max_time:0},reqFromMore:"live_mt_pc_web_follow_tab_refresh",enabled:e}),xi(l.vI.liveDiscover),(0,i.jsx)(i.Fragment,{},void 0)}var Yr=o(33424);let el,tl=!0;const ol=({relatedTag:e})=>{const{feedData:t,loadingState:o}=(0,Ki.s)(_i),i=(0,A.W6)(),n=(0,Yr.W)();(0,Ue.A)((()=>{if(e&&tl&&!t.length){if(el){if(el!==e)return void(tl=!1)}else el=e;!e||3!==o&&2!==o||(null==t?void 0:t.length)||i.replace({pathname:n?l.vI.liveDiscover:l.vI.liveGaming,search:i.location.search})}else tl=!1}),[e,t,o])},il=()=>{const{pathname:e}=(0,A.zy)();return(0,Ue.A)((()=>{if((0,A.B6)(e,{path:l.vI.liveSingleGaming,exact:!0})){const t=e.replace(`${l.vI.liveGaming}/`,"");return(0,$e.E)(t||"")}return(0,A.B6)(e,{path:l.vI.liveLifestyle,exact:!0})?"lifestyle":(0,A.B6)(e,{path:`${l.vI.liveLifestyle}/:suburl`,exact:!0})?e.replace(`${l.vI.liveLifestyle}/`,"")||"":void 0}),[e])};function nl(){const e=il();return(0,h.useEffect)((()=>{e&&(et.h.liveSingleGamingParams={gameName:e})}),[e]),ji({query:{req_from:e?"pc_web_game_sub_feed_refresh":"pc_web_game_feed_refresh",channel_id:e?1111006:89,max_time:0,related_live_tag:e},reqFromMore:e?"pc_web_game_sub_feed_loadmore":"pc_web_game_feed_loadmore"}),ol({relatedTag:e}),xi(e?l.vI.liveGaming:l.vI.liveDiscover),(0,i.jsx)(i.Fragment,{},void 0)}function rl(){const e=il();return ji({query:{req_from:"webapp_taxonomy_drawer_enter_feed",channel_id:1222001,max_time:0,related_live_tag:e},reqFromMore:"webapp_taxonomy_drawer_feed_loadmore"}),ol({relatedTag:e}),xi(l.vI.liveDiscover),(0,i.jsx)(i.Fragment,{},void 0)}var ll=o(99628),al=o(43831),sl=o(67689),dl=o(65107),cl=o(77948),ul=o(61911),vl=o(21115);const ml=(0,L.default)("div",{target:"e1m6gol50"})((({headerHeight:e})=>({marginTop:e,display:"flex",width:"100vw",minHeight:`calc(100vh - ${e}px)`,alignSelf:"center",marginLeft:"auto",marginRight:"auto"})),(({expand:e})=>e?{}:{maxWidth:T.hj}),"label:DivBodyContainer;"),hl=(0,L.default)("div",{target:"e1m6gol51"})({flexGrow:1},"label:DivLiveContentContainer;");var gl,pl=o(15744),fl=o(1114);!function(e){e[e.none=0]="none",e[e.liveStudio=1]="liveStudio"}(gl||(gl={}));const _l="live_studio_entry_limit",yl=()=>{var e,t,o,i;const n=null===(t=null===(e=ce.t.abTestVersion)||void 0===e?void 0:e.parameters)||void 0===t?void 0:t.live_studio_entry,r=null!==(o=null==n?void 0:n.vid)&&void 0!==o?o:"v1",l=null!==(i=Number(null==n?void 0:n.limit))&&void 0!==i?i:0,a=function(){const{isElectronApp:e}=(0,fl.B)(),t=(0,Ri.Ph)(pl.C,{selector:e=>e.permissionInfo,dependencies:[]}),o=!e&&(null==t?void 0:t.showComputerLiveEntrance),i=Boolean(!(null==t?void 0:t.topLSEntranceVisible)&&!o&&(null==t?void 0:t.showLiveStudio)),{allPass:n}=(e=>{var t;const o=gl.liveStudio,{data:i}=(0,Je.I)({enabled:e,queryFn:()=>{return e={permission_type:o},(0,Q.h)("/webcast/eco/check_access/",{query:e,baseUrlType:4});var e}});return{allPass:Boolean(((null===(t=null==i?void 0:i.data)||void 0===t?void 0:t.requirements)||[]).filter((e=>e.pass)).length)}})(i);return(0,h.useMemo)((()=>!(o||!(null==t?void 0:t.topLSEntranceVisible)&&(!(null==t?void 0:t.showLiveStudio)||!n))),[o,n,t])}(),s=(0,We.A)((()=>{var e;return null!==(e=Number(localStorage.getItem(_l)))&&void 0!==e?e:0})),d=(0,We.A)((()=>{if(l>0){const e=s();localStorage.setItem(_l,String(e+1))}})),c=(0,h.useMemo)((()=>a?l>0&&"v2"===r?Boolean(s()<l)?"top":"none":(console.log(r,"pos"),"v2"===r?"top":"v3"===r?"bottom":"none"):"none"),[a,l]);return(0,h.useEffect)((()=>{"top"===c&&d()}),[c]),c},bl=(0,a.Ay)({resolved:{},chunkName:()=>"open-ls-btn",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!o.m[t]},importAsync:()=>o.e(2116).then(o.bind(o,90441)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve:()=>90441},{resolveComponent:e=>e.OpenLSBtn});var xl;!function(e){e[e.Main=0]="Main",e[e.Live=1]="Live"}(xl||(xl={}));const wl=({slotType:e})=>{const t=yl(),{language:o}=ce.t,{canWatchLive:n}=(0,Bi.I)(),{handlePreloadLiveRoom:r}=(0,bt.W)(),l=(0,h.useCallback)(((e,t)=>{if(null==e?void 0:e.data){const o="follow"===t?"following":"recommend";r(e.data,{request_id:e.rid,enter_from_merge:o,enter_method:"suggested_others_photo",cover_type:"null",enter_type:"manual",action_type:"click"})}}),[]),{isShowAll:a,setScrollDomRef:s}=(0,to.r)((e=>({setScrollDomRef:e.setScrollDomRef,isShowAll:e.show}))),{popupHeight:d}=(0,al.H)(),{streamDeviceType:c}=(0,kt.G)(),u=(0,h.useMemo)((()=>{if(0!==e&&n)return(0,i.jsxs)(i.Fragment,{children:["top"===t&&(0,i.jsx)(bl,{},void 0),(0,i.jsx)(cl.t,{isControlByBtn:!0},void 0),(0,i.jsx)(ul.Az,{isControlByBtn:!0,deviceType:c,handleItemClick:l},void 0),(0,i.jsx)(ul.pf,{isControlByBtn:!0,deviceType:c,handleItemClick:l},void 0),"bottom"===t&&(0,i.jsx)(bl,{},void 0)]},void 0)}),[t,n,e]),v=(0,h.useMemo)((()=>1===e),[e]),{shouldTransparent:m,shouldDisableToggleTheme:g}=(0,Ki.s)(rn.bA),{vid:p}=(0,go.vY)();return"v0"!==p?(0,i.jsx)(sl.Mt,{showRechargeButton:!0,deviceType:c,handleItemClick:l,shouldTransparent:m,shouldDisableToggleTheme:g},void 0):(0,i.jsx)(vl.x,{children:(0,i.jsx)(dl.f8,{slot:u,extraWidth:240,extraTop:d,transStatus:ll.kp,lang:o,isShowAll:a,handleSetScrollDom:s,isControlByBtn:v,shouldTransparent:m},void 0)},void 0)},Sl=({containerStyle:e,children:t,expand:o=!0,slotType:n=1})=>{const r=(0,h.useRef)(null),{p0:l,permanent:a}=(0,Ki.s)(bn.vr),s=(0,to.r)((e=>e.setScrollDomRef));(0,b.A)((()=>{!l&&r.current&&s({current:r.current})}));const d=(0,Se.$)();return(0,i.jsxs)(ml,Object.assign({headerHeight:d,expand:o},{children:[!(a||l)&&(0,i.jsx)("div",Object.assign({style:{position:"relative"}},{children:(0,i.jsx)("div",{ref:r,style:{width:"240px",flex:"0 0 240px"}},void 0)}),void 0),(a||l)&&(0,i.jsx)(wl,{slotType:n},void 0),(0,i.jsx)(hl,Object.assign({style:e},{children:t}),void 0)]}),void 0)};function Cl(){return(0,i.jsx)(Sl,{children:(0,i.jsx)(r.sv,{},void 0)},void 0)}var Il=o(59603),jl=o(65121);const kl=2/3*100,Rl=1/3*100,Ll=(0,L.default)("div",{target:"e39hbrb0"})((()=>({width:"100%",height:"100%",overflow:"hidden",zIndex:1,position:"relative",background:"black"})),"label:DivSwiperContainer;"),Tl=(0,L.default)("div",{target:"e39hbrb1"})({width:"calc(100% - 30px)",height:"100%",position:"absolute",pointerEvents:"none",display:"block",zIndex:100,left:0,top:0,opacity:0},"label:DivSwiperEventArea;"),Al=(0,L.default)("div",{target:"e39hbrb2"})({display:"flex",flexDirection:"column",zIndex:0,position:"absolute",width:"100%",height:"300%",transitionTimingFunction:"ease-in-out",transitionDuration:"0ms",transitionProperty:"transform",left:0,top:0},"label:DivSwiper;"),Pl=(0,L.default)("div",{target:"e39hbrb3"})({width:"100%",flex:1,overflow:"hidden",position:"relative",overflowAnchor:"none"},"label:DivSwiperContent;"),El=(0,h.memo)((0,h.forwardRef)(((e,t)=>{const{slideContents:o=[],activeIndex:n,onSlideToNextIndex:r}=e,l=(0,h.useMemo)((()=>o.length<=1),[o.length]),{swiperAnimationNodeRef:a,handleAnimationMoveChange:s,handleAnimationMoveEnd:d,handleResetAnimation:c,handleScrollAnimation:u}=function(){const e=(0,h.useRef)(null),t=(0,h.useRef)(0),o=(0,h.useRef)(!1),i=(0,h.useRef)(0),n=(0,h.useRef)(0),r=(0,We.A)(((t,o=!1)=>{const i=e.current;i&&(i.style.transitionDuration=o?"200ms":"0ms",i.style.transform=`translate3d(0, -${t}%, 0)`)})),l=(0,We.A)((()=>{e.current&&(r(0),clearTimeout(n.current),t.current=0)})),a=(0,We.A)((e=>{if(clearTimeout(i.current),0===e)return r(0,!0),void(t.current=e);const n=e>t.current;r(n?0:kl),t.current=e,o.current=!1,i.current=window.setTimeout((()=>{r(Rl,!0)}),0)})),s=(0,We.A)((e=>{o.current=!0,r(e)})),d=(0,We.A)(((e,i,l)=>{t.current=i,clearTimeout(n.current),o.current=!1,r(e,!0),n.current=window.setTimeout((()=>{r(0===i?0:Rl),l()}),200)}));return{swiperAnimationNodeRef:e,handleResetAnimation:l,handleScrollAnimation:a,handleAnimationMoveChange:s,handleAnimationMoveEnd:d}}(),{swiperContainerRef:v,handleSlideTo:m,handleMouseIndexChange:g}=function({disable:e,swiperRef:t,maxIndex:o,handleScrollAnimation:i,activeIndex:n,handleActiveIndexChange:r}){const l=(0,h.useRef)(null),a=(0,We.A)(((t,i)=>{if(e)return;const n=Math.max(Math.min(t,o),0);null==r||r(n,i)})),s=(0,We.A)(((t,n)=>{if(e)return;const l=Math.max(Math.min(t,o),0);null==r||r(l,n),i(l)})),d=(0,We.A)((e=>{s(n+1,e)}));return(0,h.useImperativeHandle)(t,(()=>({next:d,slideTo:s})),[d,s]),{swiperContainerRef:l,handleMouseIndexChange:a,handleSlideTo:s}}({disable:l,swiperRef:t,handleActiveIndexChange:r,activeIndex:n,maxIndex:o.length-1,handleScrollAnimation:u}),{mouseMoveStart:p,mouseMoving:f,mouseStartIndex:_,handleMouseDown:y,handleMouseMove:w,handleMouseEnd:S}=function(e){const{disable:t,handleSlideTo:o,handleMouseIndexChange:i,handleAnimationMoveChange:n,handleAnimationMoveEnd:r,swiperContainerRef:l,activeIndex:a}=e,[s,d]=(0,h.useState)(!1),[c,u]=(0,h.useState)(!1),v=(0,h.useRef)(0),m=(0,h.useRef)(0),g=(0,h.useRef)(a),p=(0,h.useRef)(a),f=(0,h.useRef)(!0),_=(0,h.useRef)(0),y=(0,h.useRef)(0),b=(0,h.useRef)(0),x=(0,We.A)((e=>{!t&&0===e.button&&l.current&&(e.preventDefault(),e.stopPropagation(),g.current=a,m.current=l.current.offsetHeight,v.current=0===a?0:m.current,y.current=e.clientY,b.current=0,d(!0))})),w=(0,We.A)((e=>{if(t||!s||!y.current)return;e.stopPropagation(),e.preventDefault();const o=m.current/2;b.current=e.clientY-y.current;const r=(v.current-b.current)/(3*m.current)*100;Math.abs(r)<=10||(0===v.current&&b.current>0?u(!0):(n(r),u(!0),p.current=g.current,b.current<-o?p.current+=1:b.current>o&&(p.current-=1),i(p.current,"gesture")))})),S=(0,We.A)((e=>{const o=b.current,n=v.current;if(y.current=0,b.current=0,v.current=0,0===o||t||!c)return u(!1),void d(!1);e.preventDefault(),e.stopPropagation(),u(!1);const l=p.current,a=(n+(p.current-g.current)*m.current)/(3*m.current)*100;r(a,l,(()=>{d(!1),i(l,"gesture"),p.current=l}))})),C=(0,h.useRef)(0),I=(0,h.useRef)("prev"),j=(0,We.A)((e=>{if(t)return;const i=e.deltaY;if(_.current=i,e.preventDefault(),e.stopPropagation(),0===i)return;const n=i<0?"prev":"next";n!==I.current&&(clearTimeout(C.current),f.current=!0),(i>10||i<-10)&&(f.current&&("prev"===n?(I.current=n,o(a-1,"mouse")):(I.current=n,o(a+1,"mouse")),f.current=!1),clearTimeout(C.current),C.current=window.setTimeout((()=>{f.current=!0}),250))}));return{mouseMoveStart:s,mouseStartIndex:g.current,mouseMoving:c,handleMouseDown:x,handleMouseMove:w,handleMouseEnd:S,handleMouseWheel:j}}({disable:l,swiperContainerRef:v,swiperAnimationNodeRef:a,handleMouseIndexChange:g,handleAnimationMoveChange:s,handleAnimationMoveEnd:d,handleSlideTo:m,activeIndex:n}),{handleKeyDown:C,handleKeyUp:I}=function(e){const{disable:t,swiperContainerRef:o,activeIndex:i,handleSlideTo:n}=e,r=(0,Ue.A)((()=>({current:!1})),[]),l=(0,We.A)((()=>{r.current=!1}));return{handleKeyDown:(0,We.A)((e=>{t||r.current||!o.current||(r.current=!0,"ArrowDown"!==e.code&&"ArrowUp"!==e.code||(e.stopPropagation(),e.preventDefault()),"ArrowDown"===e.code?n(i+1,"keyboard"):"ArrowUp"===e.code&&n(i-1,"keyboard"))})),handleKeyUp:l}}({disable:l,activeIndex:n,swiperContainerRef:v,handleSlideTo:m});(0,Li.A)((()=>{0===o.length&&c()}),[o.length]),(0,b.A)((()=>{document.body.addEventListener("keydown",C),document.body.addEventListener("keyup",I),document.body.addEventListener("mouseup",S)})),(0,x.A)((()=>{document.body.removeEventListener("keydown",C),document.body.removeEventListener("keyup",I),document.body.removeEventListener("mouseup",S)}));const j=(0,h.useMemo)((()=>{if(0===o.length)return[];const e=p?_:n,t=o.filter(((t,o)=>((e,t)=>Boolean(e===t||e+1===t||e-1===t))(e,o)));if(t.length<3){const e=3-t.length;for(let o=0;o<e;o++)t.push({key:`placeholder-${o}`,content:null})}return t}),[o,p,_,n]);return(0,i.jsx)(Ll,Object.assign({ref:v},{children:(0,i.jsxs)(Al,Object.assign({ref:a,onMouseDown:y,onMouseMove:w,onMouseLeave:S},{children:[(0,i.jsx)(Tl,{style:{pointerEvents:f?"auto":"none"},onMouseMove:w,onMouseUp:S},void 0),j.map((e=>(0,i.jsx)(Pl,{children:e.content},e.key)))]}),void 0)}),void 0)})));var Dl,Ml=o(44223),Ol=o.n(Ml),Fl=o(17372),Bl=o(47607),ql=o(57333),Gl=o(28032),zl=o(56416),Nl=o(46514),Ul=o(18746);!function(e){e[e.background=1]="background",e[e.video=2]="video",e[e.voiceChat=3]="voiceChat",e[e.multiGuest=4]="multiGuest",e[e.loading=5]="loading",e[e.controller=6]="controller",e[e.fatal=7]="fatal",e[e.warningMask=8]="warningMask",e[e.endMask=9]="endMask"}(Dl||(Dl={}));const Wl=(0,L.default)("div",{target:"e1laymk00"})((({visible:e})=>({overflow:"hidden",position:"absolute",opacity:e?1:0,transition:"opacity .5s ease-in-out",width:"100%",height:"100%"})),"label:DivFeedInfo;"),Vl=(0,L.default)("div",{target:"e1laymk01"})({overflow:"hidden",position:"relative",width:"100%",height:"100%"},"label:DivFeedCard;"),$l=(0,L.default)("div",{target:"e1laymk02"})({position:"absolute",top:0,left:0,zIndex:1,width:"100%",height:"100%"},"label:DivFeedCardPlayerWrapper;"),Hl=(0,L.default)("div",{target:"e1laymk03"})((()=>({position:"absolute",bottom:0,left:0,width:"100%",height:160,background:"linear-gradient(180deg, rgba(0, 0, 0, 0.00) 0%, rgba(0, 0, 0, 0.52) 99.27%)"})),"label:DivFeedCardFooterShadow;"),Kl=(0,L.default)("div",{target:"e1laymk04"})((()=>({width:"100%",height:"100%",position:"absolute",left:0,top:0})),"label:DivFeedLiveFatalContainer;"),Xl=(0,L.default)(A.N_,{target:"e1laymk05"})({position:"absolute",top:0,left:0,width:"100%",height:"100%",cursor:"pointer"},"label:StyledFeedCardClickArea;");var Jl=o(25013),Ql=o(76817),Zl=o(68479),Yl=o(85066),ea=o(8949);const ta=(0,L.default)("div",{target:"etkqzkm0"})((()=>({display:"flex",justifyContent:"space-between",position:"absolute",bottom:16,padding:"0 12px",width:"100%",height:24,pointerEvents:"none"})),"label:DivFeedCardControllerWrapper;"),oa=(0,L.default)("div",{target:"etkqzkm1"})({display:"flex",alignItems:"center"},"label:DivFeedCardControllerLeftSide;"),ia=(0,L.default)("div",{target:"etkqzkm2"})({display:"flex",alignItems:"center"},"label:DivFeedCardControllerRightSide;");var na=o(39360);const ra=(0,h.memo)((({onReplayClick:e,isActive:t})=>{const{onVolumeChange:o,onMutedStatusChange:n}=(0,na.i)(),r=(0,h.useCallback)((()=>{const e=mi.cz.activePlayer;mi.cz.playing?e.status.pause():e.status.play()}),[]),{muted:l,volume:a,playing:s}=(()=>{const{muted:e,playing:t,volume:o}=(0,Ki.s)(mi.cz);return{muted:e,playing:t,volume:o}})(),d=(0,I.s)();return(0,Mr.A)(["m"],(()=>{var e;(0,Vr.w)()&&t&&"INPUT"!==(null===(e=document.activeElement)||void 0===e?void 0:e.tagName)&&n(!l)}),{exactMatch:!0}),(0,Mr.A)(["space","k"],(e=>{}),{exactMatch:!0}),(0,i.jsxs)(ta,{children:[(0,i.jsxs)(oa,{children:[(0,i.jsx)(Jl._W,{dataE2E:"play-icon",isActive:s,onClick:r,activeIcon:(0,i.jsx)(Ql.A,{width:24,height:24},void 0),inActiveIcon:(0,i.jsx)(Zl.A,{width:24,height:24},void 0),activeTip:d("Webapp_tooltips_Pause"),inActiveTip:d("Webapp_tooltips_play")},void 0),(0,i.jsx)(Jl._W,{dataE2E:"replay-icon",isActive:!0,onClick:e,activeIcon:(0,i.jsx)(Yl.B,{size:20},void 0),inActiveIcon:(0,i.jsx)(Yl.B,{size:20},void 0),activeTip:d("pm_web_fullpage_error_button"),inActiveTip:d("pm_web_fullpage_error_button"),style:{marginInlineStart:16}},void 0)]},void 0),(0,i.jsx)(ia,{children:(0,i.jsx)(ea.it,{value:a,onVolumeChange:o,onMutedClick:n,muted:l},void 0)},void 0)]},void 0)})),la=[(0,Gi.i7)({"0%":{y:"4px",height:"10px"},"40%":{y:"4px",height:"12px"},"70%":{y:"4px",height:"6px"},"100%":{y:"4px",height:"10px"}}),(0,Gi.i7)({"0%":{y:"4px",height:"6px"},"40%":{y:"4px",height:"10px"},"70%":{y:"4px",height:"12px"},"100%":{y:"4px",height:"6px"}}),(0,Gi.i7)({"0%":{y:"4px",height:"8px"},"40%":{y:"4px",height:"12px"},"70%":{y:"4px",height:"6px"},"100%":{y:"4px",height:"8px"}})],aa=(0,L.default)("svg",{target:"eom4ngr0"})((({isLiveStreaming:e,theme:{direction:t}})=>[(0,T.mp)({direction:t,marginEnd:"4px"}),e?{rect:{transformOrigin:"center",transform:"rotateZ(180deg)",":nth-of-type(1)":{animation:`${la[0]} .5s ease-out infinite`},":nth-of-type(2)":{animation:`${la[1]} .5s ease-out infinite`},":nth-of-type(3)":{animation:`${la[2]} .5s ease-out infinite`}}}:null]),"label:SvgLiveIcon;"),sa=(0,h.memo)((function({size:e=20,theme:t="red",isLiveStreaming:o,isDisabled:n}){const{colors:r}=(0,oo.u)(),l=(0,h.useMemo)((()=>({white:{play:r.ConstTextInverse,stop:r.ConstTextInverse,disable:r.TextQuaternary},red:{play:r.Primary,stop:r.Primary2,disable:r.TextQuaternary}})),[r]),a=(0,h.useMemo)((()=>l[t]),[t,l]),s=(0,h.useMemo)((()=>n?a.disable:o?a.play:a.stop),[n,a,o]);return(0,i.jsxs)(aa,Object.assign({isLiveStreaming:!n&&o,width:e,height:e,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,i.jsx)("rect",{x:"4.1665",y:"4.16797",width:"2.69231",height:"11.6667",rx:"0.5",fill:s},void 0),(0,i.jsx)("rect",{x:"8.65381",y:"9.02734",width:"2.69231",height:"6.80555",rx:"0.5",fill:s},void 0),(0,i.jsx)("rect",{x:"13.1406",y:"7.08594",width:"2.69231",height:"8.75",rx:"0.5",fill:s},void 0)]}),void 0)})),da=(0,L.default)(A.k2,{target:"emgkvpv0"})((()=>({display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",bottom:90,left:"50%",border:"1px solid rgba(255, 255, 255, .5)",borderRadius:999,padding:"14px 24px",color:"var(--UI-Shape-Text-1-on-Neutral, #FFF)",fontSize:"16px",fontStyle:"normal",fontWeight:700,lineHeight:"130%",letterSpacing:"0.03px",WebkitTextStrokeWidth:1,WebkitTextStrokeColor:"var(--UI-Shape-Neutral-3, rgba(0, 0, 0, 0.12))",transform:"translateX(-50%)",cursor:"pointer",userSelect:"none",backgroundColor:"rgba(84, 84, 84, .3)",":hover":{backgroundColor:"rgba(191,191,191,0.5)",color:"var(--UI-Shape-Text-1-on-Neutral, #FFF)",textDecoration:"none"},":visited":{color:"var(--UI-Shape-Text-1-on-Neutral, #FFF)"}})),"label:StyledEnterRoomButtonWrapper;");var ca=o(92733);const ua=(0,h.memo)((({onClick:e=()=>{},onMouseEnter:t=()=>{},enterRoomUrl:o})=>{const n=(0,I.s)(),r=gi()||(0,Vr.w)();return(0,i.jsxs)(da,Object.assign({onMouseEnter:t,onClick:e,to:o},{children:[(0,i.jsx)(sa,{size:24,theme:"white",isLiveStreaming:!0},void 0),n("pm_web_fullpage_entry"),r&&(0,i.jsx)(ca.g,{content:"D"},void 0)]}),void 0)})),va=(0,L.default)("div",{target:"emtd3a10"})((({isRTL:e})=>({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",position:"absolute",top:0,right:e?24:void 0,left:e?void 0:24,width:332,height:"100%",userSelect:"none","@media (max-width: 1440px) and (min-width: 880px)":{width:238},"@media (max-width: 880px)":{display:"none"}})),"label:DivFeedCardInfoWrapper;"),ma=(0,L.default)("div",{target:"emtd3a11"})({width:"100%"},"label:DivFeedCardTitleWrapper;"),ha=(0,L.default)("div",{target:"emtd3a12"})({display:"-webkit-box",overflow:"hidden",width:"100%",margin:"12px 0",color:"var(--UI-Shape-Text-1-on-Neutral, #FFF)",textShadow:"0px 1px 1px rgba(0, 0, 0, 0.20)",WebkitTextStrokeWidth:1,WebkitTextStrokeColor:"var(--UI-Shape-Neutral-3, rgba(0, 0, 0, 0.12))",fontSize:"32px",fontWeight:700,lineHeight:"120%",WebkitLineClamp:3,textOverflow:"ellipsis",WebkitBoxOrient:"vertical"},"label:DivFeedCardTitle;"),ga=(0,L.default)("div",{target:"emtd3a13"})({display:"flex",alignItems:"center",width:"100%"},"label:DivFeedCardAnchorInfoWrapper;"),pa=(0,L.default)("div",{target:"emtd3a14"})({flexShrink:0,overflow:"hidden",marginInlineEnd:8,borderRadius:"50%",width:36,height:36},"label:DivFeedCardAvatar;"),fa=(0,L.default)("div",{target:"emtd3a15"})({width:"calc(100% - 44px)"},"label:DivFeedCardAnchorInfoRight;"),_a=(0,L.default)("div",{target:"emtd3a16"})({overflow:"hidden",width:"100%",color:"var(--Text-Const-ConstTextInverse, #FFF)",WebkitTextStrokeWidth:1,WebkitTextStrokeColor:"var(--UI-Shape-Neutral-3, rgba(0, 0, 0, 0.12))",fontSize:"18px",fontWeight:700,lineHeight:"130%",letterSpacing:"-0.028px",whiteSpace:"nowrap",textOverflow:"ellipsis"},"label:DivFeedCardAnchorName;"),ya=(0,L.default)("div",{target:"emtd3a17"})({width:"100%",color:"var(--Text-Const-ConstTextInverse, #FFF)",WebkitTextStrokeWidth:1,WebkitTextStrokeColor:"var(--UI-Shape-Neutral-3, rgba(0, 0, 0, 0.12))",fontSize:14,fontWeight:400,lineHeight:"130%",letterSpacing:"0.093px"},"label:DivFeedCardViewCount;"),ba=(0,L.default)("div",{target:"emtd3a18"})({display:"flex",alignItems:"center",width:"100%"},"label:DivFeedCardTagList;");var xa=o(65988),wa=o(38654),Sa=o(64658);const Ca=e=>{var t,o,i,n,r,l,a,s,d,c,u,v,m,h,g,p,f,_,y,b,x,w,S;return{nickName:null!==(l=null!==(i=null===(o=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.owner)||void 0===o?void 0:o.nickname)&&void 0!==i?i:null===(r=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.owner)||void 0===r?void 0:r.display_id)&&void 0!==l?l:"",details:null!==(s=null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.title)&&void 0!==s?s:"",count:null!==(c=Number(null===(d=null==e?void 0:e.data)||void 0===d?void 0:d.user_count))&&void 0!==c?c:0,isSubOnlyLive:Boolean(null===(u=null==e?void 0:e.data)||void 0===u?void 0:u.live_sub_only),scmLabel:null!==(h=null===(m=null===(v=null==e?void 0:e.data)||void 0===v?void 0:v.owner)||void 0===m?void 0:m.scm_label)&&void 0!==h?h:"",anchorId:null!==(f=null===(p=null===(g=null==e?void 0:e.data)||void 0===g?void 0:g.owner)||void 0===p?void 0:p.id_str)&&void 0!==f?f:"",roomId:null!==(y=null===(_=null==e?void 0:e.data)||void 0===_?void 0:_.id_str)&&void 0!==y?y:"",avatarUrl:null!==(S=(0,Yo.Q)(null===(w=null===(x=null===(b=null==e?void 0:e.data)||void 0===b?void 0:b.owner)||void 0===x?void 0:x.avatar_thumb)||void 0===w?void 0:w.url_list))&&void 0!==S?S:""}},Ia=(0,h.memo)((({cardData:e,hideEngagementCount:t})=>{const{isRTL:o}=(0,Sa.m)(),n=(0,I.s)(),{nickName:r,details:l,count:a,isSubOnlyLive:s,avatarUrl:d}=Ca(e);return(0,i.jsxs)(va,Object.assign({isRTL:o},{children:[(0,i.jsxs)(ba,{children:[(0,i.jsx)(xa.j,{needViewer:!1,isSubOnlyLive:!1},void 0),s&&(0,i.jsx)(xa.j,{needViewer:!1,isSubOnlyLive:s},void 0)]},void 0),(0,i.jsx)(ma,{children:(0,i.jsx)(ha,{children:l||n("ttlive_webPC_untitledLIVEDefaultTitle_title")},void 0)},void 0),(0,i.jsxs)(ga,{children:[(0,i.jsx)(pa,{children:(0,i.jsx)(je.I,{src:d,skeleton:"avatar"},void 0)},void 0),(0,i.jsxs)(fa,{children:[(0,i.jsx)(_a,{children:r},void 0),!t&&(0,i.jsx)(ya,{children:n("ttlive_webPC_LIVEviewercountPluralization_desc",{num:(0,wa.G)(a)})},void 0)]},void 0)]},void 0)]}),void 0)})),ja=(0,L.default)("div",{target:"e1ly3hvj0"})((({theme:e})=>({width:"100%",height:"100%",minHeight:"100px",position:"absolute",left:0,top:0,backgroundColor:e.colors.BGPrimary})),"label:DivFeedLiveStatus;"),ka=(0,L.default)("div",{target:"e1ly3hvj1"})({width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.6)",position:"relative",filter:"blur(64px)",zIndex:0},"label:DivFeedLiveEndBackgroundImage;"),Ra=(0,L.default)("div",{target:"e1ly3hvj2"})({width:"100%",position:"absolute",top:"50%",transform:"translateY(-50%)"},"label:DivFeedLiveStatusContent;"),La=(0,L.default)("div",{target:"e1ly3hvj3"})({overflow:"hidden",width:"160px",height:"160px",margin:"0 auto",borderRadius:"50%",objectFit:"cover"},"label:DivImgFeedLiveEndAvatar;"),Ta=(0,L.default)("div",{target:"e1ly3hvj4"})((({theme:e})=>({fontSize:"24px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:700,textAlign:"center",margin:"24px 0 8px 0",color:e.colors.Primary2})),"label:DivFeedLiveStatusTitle;"),Aa=(0,L.default)("div",{target:"e1ly3hvj5"})((({theme:e})=>({fontSize:"16px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:400,textAlign:"center",color:e.colors.TextTertiary})),"label:DivFeedLiveStatusArticle;"),Pa=(0,h.memo)((e=>{const{avatarUrl:t=[],second:o=4,onAutoPlayNext:n,title:r}=e,l=(0,I.s)(),{countDownNumber:a}=(({onAutoPlayNext:e,second:t=4})=>{const o=(0,Ue.A)((()=>({current:0})),[]),[i,n]=(0,h.useState)(t),r=(0,We.A)((()=>{clearTimeout(o.current),o.current=window.setTimeout((()=>{n((t=>{const o=t-1;return o>0?(r(),o):(null==e||e(),t)}))}),1e3)}));return(0,h.useEffect)((()=>(r(),()=>{clearTimeout(o.current)})),[]),{countDownNumber:i}})({second:o,onAutoPlayNext:n});return(0,i.jsxs)(ja,{children:[(0,i.jsx)(ka,{children:(0,i.jsx)(je.I,{src:(0,Yo.Q)(t)||""},void 0)},void 0),(0,i.jsxs)(Ra,{children:[(0,i.jsx)(La,{children:(0,i.jsx)(je.I,{skeleton:"avatar",src:(0,Yo.Q)(t)||""},void 0)},void 0),(0,i.jsx)(Ta,{children:null!=r?r:l("live_ending_title")},void 0),(0,i.jsx)(Aa,{children:l("pm_web_fullpage_auto_play_next_countdown").replace("%d",String(a))},void 0)]},void 0)]},void 0)}));var Ea=o(18199),Da=o(68071),Ma=o(79151);const Oa="game_tab_top_room";var Fa,Ba=o(52115),qa=o(82978);function Ga(e,t){var o,i;const n=t(null!==(o=e.key)&&void 0!==o?o:"",{},e.key),r=null!==(i=e.pieces)&&void 0!==i?i:[];let l=n;return r.forEach(((e,o)=>{var i,n,r,a,s,d,c,u,v,m,h,g,p,f,_;if(1===e.type){const t=new RegExp(`\\{${o}:string\\}|\\{${o}\\}`,"g");l=l.replace(t,null!==(i=e.string_value)&&void 0!==i?i:"")}else if(14===e.type)l=l.replace(`{${o}}`,null!==(s=t(null!==(r=null===(n=e.pattern_ref_value)||void 0===n?void 0:n.key)&&void 0!==r?r:"",void 0,"")||(null===(a=e.pattern_ref_value)||void 0===a?void 0:a.default_pattern))&&void 0!==s?s:"");else if(11===e.type){const t=new RegExp(`\\{${o}:user\\}|\\{${o}\\}`,"g");l=l.replace(t,`${null!==(u=null===(c=null===(d=e.user_value)||void 0===d?void 0:d.user)||void 0===c?void 0:c.nickname)&&void 0!==u?u:""}${(null===(v=e.user_value)||void 0===v?void 0:v.with_colon)?":":""}`)}else 12===e.type&&(l=l.replace(`{${o}}`,null!==(_=t(null!==(g=null===(h=null===(m=e.gift_value)||void 0===m?void 0:m.name_ref)||void 0===h?void 0:h.key)&&void 0!==g?g:"",void 0,"")||(null===(f=null===(p=e.gift_value)||void 0===p?void 0:p.name_ref)||void 0===f?void 0:f.default_pattern))&&void 0!==_?_:""))})),l}!function(e){e[e.String=1]="String",e[e.User=11]="User",e[e.Gift=12]="Gift",e[e.Heart=13]="Heart",e[e.PatternRef=14]="PatternRef",e[e.Image=15]="Image"}(Fa||(Fa={}));const za="MASK_SHOW_SESSION_STORAGE";var Na=o(19796),Ua=o(47160);const Wa=["404","999","undefined"];var Va=o(90155),$a=o(63451),Ha=o(45461),Ka=o(62040),Xa=o(15888);const Ja=(0,h.memo)((({cardData:e,isActive:t,playerId:o,player:n,isCardHovering:r,hideEngagementCount:l=!1,onRoomEndShow:a=()=>{},onNextClick:s=()=>{}})=>{var d,c,u,v,m,g,f,_,y,w,S,C,j;const[k,{setTrue:R,setFalse:L}]=(0,Dt.A)(!1),[T,{setTrue:A,setFalse:P}]=(0,Dt.A)(t),E=(0,Ue.A)((()=>{var t,o;return Ol()(a,null!==(o=null===(t=e.data)||void 0===t?void 0:t.id_str)&&void 0!==o?o:"")}),[a,e]),D=(({isActive:e,cardData:t})=>{var o,i,n;const r=(0,I.s)(),l=(0,Ue.A)((()=>{var e,o;return!(!(null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.live_sub_only)||void 0===(null===(o=t.data.owner)||void 0===o?void 0:o.subscribe_info))&&!1===t.data.owner.subscribe_info.is_subscribe}),[t]),a=(0,Ue.A)((()=>{var o;return 4===Number(null===(o=null==t?void 0:t.data)||void 0===o?void 0:o.status)&&e||l}),[t,e,l]);return{isEnd:a,avatarUrl:null===(n=null===(i=null===(o=null==t?void 0:t.data)||void 0===o?void 0:o.owner)||void 0===i?void 0:i.avatar_thumb)||void 0===n?void 0:n.url_list,title:l?r("pm_mt_sublive_preview_end_title_perks"):void 0}})({cardData:e,isActive:t}),M=(({cardData:e,isActive:t,isGuestConnection:o=!1})=>{const i=(0,Ue.A)((()=>({current:0})),[]),n=(0,Ue.A)((()=>({current:t})),[]),r=(0,Ue.A)((()=>({current:!1})),[]),l=(0,Ue.A)((()=>({current:void 0})),[]),a=(0,_t.OB)(!0),{user:s}=ce.t,d=(0,co.v)(),c=(0,Ue.A)((()=>{var t,o,i,n,r,l,a,c,u,v,m,h,g,p;return{action_type:"click",user_id:null!==(t=null==s?void 0:s.uid)&&void 0!==t?t:"",room_id:null!==(i=null===(o=e.data)||void 0===o?void 0:o.id_str)&&void 0!==i?i:"",anchor_id:null!==(l=null===(r=null===(n=e.data)||void 0===n?void 0:n.owner)||void 0===r?void 0:r.id_str)&&void 0!==l?l:"",enter_from_merge:null!==(a=null==d?void 0:d.teaParams.enterFromMerge)&&void 0!==a?a:"live_merge",enter_method:null==d?void 0:d.teaParams.enterMethod,request_id:null==e?void 0:e.rid,follow_status:null!==(v=null===(u=null===(c=null==e?void 0:e.data)||void 0===c?void 0:c.owner)||void 0===u?void 0:u.follow_status)&&void 0!==v?v:0,live_type:null!==(h=(0,Fn.FP)(null===(m=null==e?void 0:e.data)||void 0===m?void 0:m.live_room_mode))&&void 0!==h?h:"",is_top_room:Oa===e.live_reason?ao.qw.pin:ao.qw.common,is_top_tab:(null===(g=null==d?void 0:d.teaParams)||void 0===g?void 0:g.is_top_tab)||ao.qw.common,is_tab_icon:(null===(p=null==d?void 0:d.teaParams)||void 0===p?void 0:p.is_tab_icon)||ao.qw.common,section_type:"feeds_section",content_section_title:"feeds_section",content_section_order:1}}),[e,s,d]);n.current=t;const u=(0,We.A)((()=>{i.current=Date.now()})),v=(0,We.A)((t=>{var o,n,a,s,d;if(!(null===(o=e.data)||void 0===o?void 0:o.id_str)||!r.current)return;const v=Date.now()-i.current;v>0&&(ao.fF.handleDuration(Object.assign(Object.assign({is_auto_play:"off",auto_play_type:"enter_room",manual_play_type:null!==(n=_i.teaCommonParams.slideType)&&void 0!==n?n:"default",duration:v,page_name:"live_discover"},c),t?{enter_from_merge:null!==(s=null===(a=l.current)||void 0===a?void 0:a.teaParams.enterFromMerge)&&void 0!==s?s:"live_merge",enter_method:null===(d=l.current)||void 0===d?void 0:d.teaParams.enterMethod}:{})),u())})),m=(0,We.A)((e=>{ao.fF.handleClick(Object.assign(Object.assign({},c),{action_type:e||"click"}))})),g=(0,We.A)((()=>{r.current||(Ba.ke.mark("discover_first_frame"),(0,bn.zU)(),r.current=!0,u(),ao.fF.handleStartPlay(Object.assign(Object.assign({},c),{is_guest_connection:o?"1":"0"})))})),p=(0,We.A)((()=>{var t,o,i,n,l,a,c;r.current&&(ao.fF.handlePause({user_id:null!==(t=null==s?void 0:s.uid)&&void 0!==t?t:"",room_id:null!==(i=null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.id_str)&&void 0!==i?i:"",anchor_id:null!==(a=null===(l=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.owner)||void 0===l?void 0:l.id_str)&&void 0!==a?a:"",enter_from_merge:null!==(c=null==d?void 0:d.teaParams.enterFromMerge)&&void 0!==c?c:"live_merge",page_name:"live_discover"}),v(),r.current=!1)})),f=(0,We.A)((()=>{ao.fF.handleVolumeClick(Object.assign({},c))})),_=(0,We.A)((()=>{Ba.ke.mark("play_init_start")})),y=(0,We.A)((()=>{Ba.ke.mark("play_init_end")})),w=(0,We.A)((()=>{var e;const t=_i.feedData[_i.activeIndex];(null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.id_str)&&Ba.ke.mark("live_url_load_start")})),S=(0,We.A)((()=>{var e;(null===(e=mi.cz.activePlayer.config)||void 0===e?void 0:e.url)&&Ba.ke.mark("live_url_load_end")})),C=(0,zn.d7)((()=>{f()}),[],1e3),I=(0,We.A)((()=>{ao.fF.handleRefresh(Object.assign({},c)),v()})),j=(0,We.A)((()=>{ao.fF.handlePreviewPlayFail({enter_from_merge:c.enter_from_merge,enter_method:c.enter_method})})),k=(0,We.A)((()=>{ao.fF.handleEnterRoomBtnClick({enter_from_merge:c.enter_from_merge,enter_method:c.enter_method,room_id:c.room_id,anchor_id:c.anchor_id}),ao.fF.handleClick(Object.assign({},c))})),{run:R}=(0,Mt.A)((()=>{ao.fF.handleEnterRoomBtnHover({enter_from_merge:c.enter_from_merge,enter_method:c.enter_method,room_id:c.room_id,anchor_id:c.anchor_id})}),{wait:1e3,leading:!0,trailing:!1});return(0,h.useEffect)((()=>(0,Nn.Gz)((()=>{n.current&&v()}),(()=>{u()}))),[]),(0,b.A)((()=>{var e;l.current=d,t&&ao.fF.handleShow(Object.assign(Object.assign({},c),{is_auto_play:"off",auto_play_type:"enter_room",manual_play_type:null!==(e=_i.teaCommonParams.slideType)&&void 0!==e?e:"default",is_personalized:a?"1":"0"}))})),(0,x.A)((()=>{t&&v(!0)})),(0,Ue.A)((()=>({handleEnterClickReport:m,handlePlayingReport:g,handlePauseReport:p,handleVolumeChangeReport:C,handleReplayClickReport:I,handlePreviewPlayFailReport:j,handleEnterRoomBtnClickReport:k,handleEnterRoomBtnHoverReport:R,handlePlayerStartInit:_,handlePlayerInited:y,handleUrlLoadStart:w,handleUrlLoadEnd:S})),[m,g,p,C,I,j,k,R,_,y,w,S])})({cardData:e,isActive:t}),O=(0,We.A)((()=>{M.handleReplayClickReport(),(0,Ir.Db)(n)})),F=(0,We.A)((()=>{(0,Ir.Db)(n)})),{handleJudgeSubOnlyLiveBySeiContent:B}=(({cardData:e})=>{const t=(0,p.nH)(),o=(0,Ze.Nj)(qa.A),i=(0,Ue.A)((()=>({current:!1})),[]);return{handleJudgeSubOnlyLiveBySeiContent:(0,We.A)((n=>{var r,l,a,s,d;const c=Boolean(null===(l=null===(r=e.data)||void 0===r?void 0:r.owner)||void 0===l?void 0:l.subscribe_info),u=null===(a=e.data)||void 0===a?void 0:a.id_str;n.sub_only_live&&!c&&u&&Si({watchingId:u,isSubscriber:void 0}),n.sub_only_live&&!c&&u&&!i.current&&(t||Si({watchingId:u,isSubscriber:!1}),i.current=!0,(0,It.G)({anchor_id:null===(d=null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.owner)||void 0===d?void 0:d.sec_uid}).then((e=>{var t,i;const{data:n,status_code:r}=e;if(0===r&&n){o.handleGetSubUserInfoSuccess();const e=Boolean(null===(i=null===(t=n.subscribing)||void 0===t?void 0:t.sub_info)||void 0===i?void 0:i.is_subscribing);Si({watchingId:u,isSubscriber:e})}else o.handleGetSubUserInfoError(void 0,r)})).catch((e=>{i.current=!1,o.handleGetSubUserInfoError(e)})))}))}})({cardData:e}),{playerParentNodeRef:q}=(({isActive:e,playerId:t,cardData:o})=>{const i=(0,Ue.A)((()=>({current:null})),[]);return(0,b.A)((()=>{var n,r,l,a,s,d,c,u;const v=mi.IE[t];if(!v)return;null===(n=i.current)||void 0===n||n.appendChild(v);const m=mi.Yq[t];if(!m||!e||m.created||!o.data)return;const h=null===(l=null===(r=(0,Jo.B)(o.data))||void 0===r?void 0:r.live_core_sdk_data)||void 0===l?void 0:l.pull_data;h&&(0,Ir.IP)(t,(0,Cr.eA)({playerId:t,streamPullData:h,loggerRoomInfo:{hashTagId:null===(a=o.data.hashtag)||void 0===a?void 0:a.id,roomId:null!==(s=o.data.id_str)&&void 0!==s?s:"",anchorId:null!==(c=null===(d=o.data.owner)||void 0===d?void 0:d.id_str)&&void 0!==c?c:"",liveRoomMode:null!==(u=o.data.live_room_mode)&&void 0!==u?u:0,isPreview:!0}}))})),(0,x.A)((()=>{mi.cz.seamlessEnterRoom&&e||mi.Yq[t].destroy()})),{playerParentNodeRef:i}})({isActive:t,playerId:o,cardData:e}),{warningTitle:G,warningSubTitle:z,showLiveWarningMask:N,cancelType:U,onCancel:W,onContinue:V}=function({feedData:e,onNext:t,active:o}){const{hasEmptyStarlingText:i,warningTitle:n,warningSubTitle:r}=function(e){const t=(0,I.s)();return(0,Ue.A)((()=>{var o,i,n,r;const l=(null===(i=null===(o=null==e?void 0:e.mask_layer)||void 0===o?void 0:o.title)||void 0===i?void 0:i.key)?Ga(null===(n=null==e?void 0:e.mask_layer)||void 0===n?void 0:n.title,t):"",a=(null===(r=null==e?void 0:e.mask_layer)||void 0===r?void 0:r.sub_title)?Ga(e.mask_layer.sub_title,t):"";return{hasEmptyStarlingText:Boolean(!l||!a),warningTitle:l,warningSubTitle:a}}),[e,t])}(e),l=(0,Ue.A)((()=>({current:o})),[]),{user:a}=ce.t,s=(0,Ue.A)((()=>!!(null==e?void 0:e.id_str)&&"1"===sessionStorage.getItem(`${za}_${null==e?void 0:e.id_str}`)),[e]),d=(0,Ue.A)((()=>Boolean(null==e?void 0:e.mask_layer)&&!s&&!i),[i,s,e]),[c,u]=(0,h.useState)(d),v=(0,We.A)((()=>{var t,o,i,n,r;e&&sessionStorage.setItem(`${za}_${e.id_str}`,"1"),u(!1),Fn.mx.handleWarningMaskShow({action_type:"watch_live",record_id:String(null===(o=null===(t=null==e?void 0:e.mask_layer)||void 0===t?void 0:t.punish_info)||void 0===o?void 0:o.punish_id),violation_reason:String(null===(n=null===(i=null==e?void 0:e.mask_layer)||void 0===i?void 0:i.punish_info)||void 0===n?void 0:n.punish_reason),violation_anchor_id:null===(r=null==e?void 0:e.owner)||void 0===r?void 0:r.id_str,violation_room_id:null==e?void 0:e.id_str,user_id:null==a?void 0:a.uid})})),m=(0,We.A)((()=>{var o,i,n,r,l;Fn.mx.handleWarningMaskShow({action_type:"skip",record_id:String(null===(i=null===(o=null==e?void 0:e.mask_layer)||void 0===o?void 0:o.punish_info)||void 0===i?void 0:i.punish_id),violation_reason:String(null===(r=null===(n=null==e?void 0:e.mask_layer)||void 0===n?void 0:n.punish_info)||void 0===r?void 0:r.punish_reason),violation_anchor_id:null===(l=null==e?void 0:e.owner)||void 0===l?void 0:l.id_str,violation_room_id:null==e?void 0:e.id_str,user_id:null==a?void 0:a.uid}),null==t||t("click_video")}));return(0,lo.Se)((()=>{(null==e?void 0:e.id_str)&&sessionStorage.setItem(`${za}_${null==e?void 0:e.id_str}`,"0")})),(0,b.A)((()=>{var t,i,n,r,l;d&&o&&Fn.mx.handleWarningMaskShow({action_type:"show",record_id:String(null===(i=null===(t=null==e?void 0:e.mask_layer)||void 0===t?void 0:t.punish_info)||void 0===i?void 0:i.punish_id),violation_reason:String(null===(r=null===(n=null==e?void 0:e.mask_layer)||void 0===n?void 0:n.punish_info)||void 0===r?void 0:r.punish_reason),violation_anchor_id:null===(l=null==e?void 0:e.owner)||void 0===l?void 0:l.id_str,violation_room_id:null==e?void 0:e.id_str,user_id:null==a?void 0:a.uid})})),(0,h.useEffect)((()=>{var t,i,n,r,s;!o&&l.current&&Fn.mx.handleWarningMaskShow({action_type:"draw",record_id:String(null===(i=null===(t=null==e?void 0:e.mask_layer)||void 0===t?void 0:t.punish_info)||void 0===i?void 0:i.punish_id),violation_reason:String(null===(r=null===(n=null==e?void 0:e.mask_layer)||void 0===n?void 0:n.punish_info)||void 0===r?void 0:r.punish_reason),violation_anchor_id:null===(s=null==e?void 0:e.owner)||void 0===s?void 0:s.id_str,violation_room_id:null==e?void 0:e.id_str,user_id:null==a?void 0:a.uid}),l.current=o}),[o,e,a]),{warningTitle:n,warningSubTitle:r,showLiveWarningMask:c,cancelType:"skip",onCancel:m,onContinue:v}}({active:t,feedData:e.data,onNext:s}),{enterRoomUrl:$,handleEnterRoomBtnClick:H,handleEnterRoomVideoClick:K,handleEnterRoomShortcutsClick:X}=(({cardData:e,reportHandler:t,isActive:o})=>{const i=(0,Ue.A)((()=>{var t,o;return(0,yt.B)((null===(o=null===(t=e.data)||void 0===t?void 0:t.owner)||void 0===o?void 0:o.display_id)||"")}),[e]),n=(0,Ze.Nj)(jt.lJ),{handlePreloadLiveRoom:r}=(0,bt.W)(),{setFeedEnterScene:l,setOuterUnseenFeedList:a}=(0,ht.N)((e=>({setFeedEnterScene:e.setFeedEnterScene,setOuterUnseenFeedList:e.setOuterUnseenFeedList}))),s=(0,co.v)(),d=(0,We.A)((t=>{var o,i;if(!e.data)return;if((0,Vr.w)()&&!mi.cz.playing){const{activePlayer:e}=mi.cz;e.status.play()}const d={enter_from_merge:null==s?void 0:s.teaParams.enterFromMerge,enter_method:null==s?void 0:s.teaParams.enterMethod,from_live_feed:!0,enter_type:"manual",is_auto_play:"off",auto_play_type:"enter_room",request_id:e.rid,manual_play_type:t||"default",section_type:"feeds_section",content_section_title:"feeds_section",content_section_order:"1"};if(n.setIsFeed(!0),(0,mi.RA)(!0),(0,mi.bQ)(),r(e.data,d),null==s?void 0:s.channelId){const t=_i.feedData.findIndex((t=>{var o,i;return(null===(o=t.data)||void 0===o?void 0:o.id_str)===(null===(i=e.data)||void 0===i?void 0:i.id_str)})),n=-1===t?[]:_i.feedData.reduce(((e,o,i)=>(i>=t&&e.push(pt()(o)),e)),[]);a({maxTime:_i.maxTime,hasMore:null!==(i=null===(o=_i.extra)||void 0===o?void 0:o.has_more)&&void 0!==i&&i,leftFeedList:n}),l({relatedLiveTag:s.relatedLiveTag,channelId:s.channelId,reqFrom:_i.reqFrom,reqFromMore:_i.reqFromMore})}}));return{handleEnterRoomBtnClick:e=>{e.preventDefault(),t.handleEnterRoomBtnClickReport(),d(_i.teaCommonParams.slideType)},handleEnterRoomVideoClick:e=>{e.preventDefault(),t.handleEnterClickReport(),d(_i.teaCommonParams.slideType)},handleEnterRoomShortcutsClick:()=>{var e;(gi()||(0,Vr.w)())&&o&&"INPUT"!==(null===(e=document.activeElement)||void 0===e?void 0:e.tagName)&&(t.handleEnterClickReport("keyboard"),d(_i.teaCommonParams.slideType))},enterRoomUrl:i}})({cardData:e,reportHandler:M,isActive:t});(0,Mr.A)(["d"],X,{exactMatch:!0});const J=(0,Fl.n)(n),{visible:Q}=(0,Bl.c)(n);(function(){const e=mi.cz.activePlayerId,t=_i.feedData[_i.activeIndex],o=(0,h.useRef)(!1),i=(0,We.A)((i=>{var n,r,l,a,s,d;if((null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.multi_stream_url)&&1===(null===(r=t.data)||void 0===r?void 0:r.multi_stream_scene)&&1===(null===(l=t.data)||void 0===l?void 0:l.multi_stream_source)){const n=i?null===(a=t.data)||void 0===a?void 0:a.stream_url:null===(s=t.data)||void 0===s?void 0:s.multi_stream_url,r=null===(d=null==n?void 0:n.live_core_sdk_data)||void 0===d?void 0:d.pull_data;if(!r)return;const l=(0,Cr.eA)({playerId:e,streamPullData:r,loggerRoomInfo:{}});(0,Ir.Bi)(e,l),(e=>{var t,o;const{feedData:i,activeIndex:n}=_i,r=null===(o=null===(t=i[n])||void 0===t?void 0:t.data)||void 0===o?void 0:o.id_str,l=i.map((t=>{var o;return(null===(o=t.data)||void 0===o?void 0:o.id_str)===r?Object.assign(Object.assign({},t),{data:Object.assign(Object.assign({},t.data),{with_linkmic:e})}):t}));_i.feedData=(0,Ot.KR)(l)})(i),o.current=i}}));(0,Xn.J)("sei_parsed",(e=>{var n,r,l;if((null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.multi_stream_url)&&1===(null===(r=t.data)||void 0===r?void 0:r.multi_stream_scene)&&1===(null===(l=t.data)||void 0===l?void 0:l.multi_stream_source)){const t=e.isInChatting;t&&!o.current?i(!0):o.current&&!t&&i(!1)}}))})(),(({playerId:e,cardData:t,reportHandler:o,setLoadingStart:i=()=>{},setLoadingEnd:n=()=>{},setPlayerNormal:r=()=>{},setPlayerError:l=()=>{},onRoomEndShow:a=()=>{},onSubOnlyContentUpdate:s=()=>{}})=>{const d=(0,Ze.Nj)(Il.h),c=(0,Ue.A)((()=>({current:0})),[]),u=(0,Ue.A)((()=>{var e,o;if(!(0,Na.lV)()||!(null==t?void 0:t.data))return[];const i=null===(o=null===(e=(0,Jo.B)(t.data))||void 0===e?void 0:e.live_core_sdk_data)||void 0===o?void 0:o.pull_data;if(!i)return[];const{streamItems:n}=(0,Cr.XA)(i);return n}),[t]),v=(0,We.A)((()=>{clearTimeout(c.current),c.current=window.setTimeout((()=>{i()}),1e3),r()})),m=(0,We.A)((()=>{clearTimeout(c.current),n(),r()})),h=(0,We.A)((()=>{clearTimeout(c.current),n(),r(),o.handlePlayingReport()})),g=(0,We.A)((i=>{var r;if(clearTimeout(c.current),n(),e!==mi.cz.activePlayerId)return;if(Wa.includes(String(i.errorCode)))return void a();const s=mi.Yq[e];s.error.isWebcodecsError(i.errorSubCode)?(0,Ir.Ps)(s):l(),d.handlePlayerError({status:Number(i.errorCode),message:i.errorMessage},null===(r=t.data)||void 0===r?void 0:r.id_str,"1"),o.handlePreviewPlayFailReport()})),p=(0,We.A)((()=>{o.handlePauseReport()})),f=(0,We.A)((()=>{o.handleVolumeChangeReport()})),_=(0,We.A)((()=>{o.handleVolumeChangeReport()})),y=(0,We.A)((()=>{e===mi.cz.activePlayerId&&o.handlePlayerStartInit()})),w=(0,We.A)((()=>{e===mi.cz.activePlayerId&&o.handlePlayerInited()})),S=(0,We.A)((()=>{e===mi.cz.activePlayerId&&o.handleUrlLoadStart()})),C=(0,We.A)((()=>{e===mi.cz.activePlayerId&&o.handleUrlLoadEnd()})),I=(0,We.A)((({seiContent:e})=>{s(e)})),j=(0,We.A)((({bitrate:e})=>{var t;if(!(0,Na.lV)())return;const o=null===(t=(0,ii.jo)(u,e))||void 0===t?void 0:t.sdkKey;o&&Ua.J.setAutoDefinitionSelectKey(o)})),k=(0,We.A)((()=>{const t=mi.Yq[e];t&&(t.events.on("create_start",y),t.events.on("create_end",w),t.events.on("load_start",S),t.events.on("loaded_data",C),t.events.on("canplay",m),t.events.on("playing",h),t.events.on("loading",v),t.events.on("error",g),t.events.on("sei_parsed",I),t.events.on("pause",p),t.events.on("volume_change",f),t.events.on("mute_change",_),t.events.on("switch_definition_success",j))})),R=(0,We.A)((()=>{const t=mi.Yq[e];t&&(t.events.off("create_start",y),t.events.off("create_end",w),t.events.off("load_start",S),t.events.off("loaded_data",C),t.events.off("canplay",m),t.events.off("playing",h),t.events.off("loading",v),t.events.off("error",g),t.events.off("sei_parsed",I),t.events.off("pause",p),t.events.off("volume_change",f),t.events.off("mute_change",_),t.events.off("switch_definition_success",j))}));(0,b.A)((()=>{k()})),(0,x.A)((()=>{R()}))})({playerId:o,cardData:e,reportHandler:M,setLoadingStart:A,setLoadingEnd:P,setPlayerError:R,setPlayerNormal:L,onRoomEndShow:E,onSubOnlyContentUpdate:B});const{handleCoverShow:Z,handleCoverHide:Y}=(0,Ma.h)(),{hasNonPersonalizedMenu:ee,onContextMenu:te,contextMenuProps:oe,PersonalizedModal:ie}=(({cardData:e})=>{const{roomId:t,anchorId:o}=(0,Ue.A)((()=>Ca(e)),[e]),i=(0,I.s)(),{handleOpenModal:n,PersonalizedModal:r}=(0,$a.x)({openMethod:"right_click",anchorId:o||"",roomId:t||""}),{hasNonPersonalizedMenu:l}=(0,go.cE)(),a=(0,We.A)((()=>{Va.y.handleEnterIconClick(Object.assign({popup_open_method:"right_click",anchor_id:o,room_id:t},(0,Pi.Gc)())),n()})),s=(0,Ue.A)((()=>[{text:i("nonpersonalizedFeeds_feed_entrypoint_manageFeed"),Icon:Ka.A,handler:a}]),[a,i]),{contextMenuProps:d,handleContextMenu:c}=(0,Ha.Q)(s);return{hasNonPersonalizedMenu:l,PersonalizedModal:r,contextMenuProps:d,onContextMenu:e=>{ao.fF.handleRightClick({anchor_id:o,room_id:t}),c(e)}}})({cardData:e});return(0,i.jsxs)(Vl,Object.assign({onContextMenu:ee?te:void 0},{children:[(0,i.jsx)(Qo.N,{imgUrl:null!==(v=null===(u=null===(c=null===(d=e.data)||void 0===d?void 0:d.rectangle_cover_img)||void 0===c?void 0:c.url_list)||void 0===u?void 0:u[0])&&void 0!==v?v:null===(f=null===(g=null===(m=e.data)||void 0===m?void 0:m.cover)||void 0===g?void 0:g.url_list)||void 0===f?void 0:f[0],needBlur:!0},void 0),(0,i.jsx)($l,{ref:q},void 0),(0,i.jsx)(Hl,{},void 0),(0,i.jsxs)(ql.t,Object.assign({onCoverShow:Z,onCoverHide:Y},{children:[(0,i.jsx)(Gl.g,Object.assign({zIndex:4,visible:J},{children:(0,i.jsx)(zl.Ww,{anchorId:null===(y=null===(_=e.data)||void 0===_?void 0:_.owner)||void 0===y?void 0:y.id_str,roomId:null===(w=e.data)||void 0===w?void 0:w.id_str,player:n},void 0)}),void 0),(0,i.jsx)(Gl.g,Object.assign({zIndex:3,visible:Q},{children:(0,i.jsx)(Nl.nE,{anchorId:null===(C=null===(S=e.data)||void 0===S?void 0:S.owner)||void 0===C?void 0:C.id_str,roomId:null===(j=e.data)||void 0===j?void 0:j.id_str,player:n},void 0)}),void 0),(0,i.jsx)(Gl.g,Object.assign({zIndex:5,visible:T},{children:(0,i.jsx)(Xa.e,{loading:!0},void 0)}),void 0),(0,i.jsx)(Gl.g,Object.assign({zIndex:6,visible:!0},{children:(0,i.jsxs)(Wl,Object.assign({visible:r},{children:[(0,i.jsx)(Ia,{cardData:e,hideEngagementCount:l},void 0),(0,i.jsx)(Xl,{prefetch:"render",onClick:K,to:$},void 0),(0,i.jsx)(ua,{onMouseEnter:M.handleEnterRoomBtnHoverReport,onClick:H,enterRoomUrl:$},void 0),(0,i.jsx)(ra,{isActive:t,onReplayClick:O},void 0)]}),void 0)}),void 0),(0,i.jsx)(Gl.g,Object.assign({zIndex:7,visible:k},{children:(0,i.jsx)(Kl,{children:(0,i.jsx)(Ea.f,{onClick:F,status:"refresh"},void 0)},void 0)}),void 0),(0,i.jsx)(Gl.g,Object.assign({zIndex:8,visible:N,cover:!0},{children:(0,i.jsx)(Da.S,{title:G,subTitle:z,cancelType:U,onCancel:W,onContinue:V},void 0)}),void 0),(0,i.jsx)(Gl.g,Object.assign({zIndex:9,visible:D.isEnd,cover:!0},{children:(0,i.jsx)(Pa,{title:D.title,avatarUrl:D.avatarUrl,onAutoPlayNext:E},void 0)}),void 0)]}),void 0),(0,i.jsx)(Ul.V,Object.assign({},oe),void 0),ie]}),void 0)}));var Qa=o(28210);const Za=(0,L.default)("div",{target:"e1luhkdn0"})((({theme:e})=>({width:"100%",height:"100%",minHeight:"100px",position:"absolute",left:0,top:0,backgroundColor:e.colors.BGPrimary})),"label:DivFeedLiveStatus;"),Ya=(0,L.default)("div",{target:"e1luhkdn1"})({width:"100%",position:"absolute",top:"50%",transform:"translateY(-50%)"},"label:DivFeedLiveStatusContent;"),es=(0,L.default)("div",{target:"e1luhkdn2"})((({theme:e})=>({fontSize:"24px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:700,textAlign:"center",margin:"24px 0 8px 0",color:e.colors.Primary2})),"label:DivFeedLiveStatusTitle;"),ts=(0,L.default)("div",{target:"e1luhkdn3"})((({theme:e})=>({fontSize:"16px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:400,textAlign:"center",color:e.colors.TextTertiary})),"label:DivFeedLiveStatusArticle;"),os=(0,h.memo)((e=>{const{onClick:t=()=>{}}=e,o=(0,Qa.O4)({isDark:!0}),n=(0,I.s)();return(0,i.jsx)(oo.a,Object.assign({theme:o},{children:(0,i.jsx)(Za,{children:(0,i.jsxs)(Ya,{children:[(0,i.jsx)(es,{children:n("pm_web_fullpage_follow_empty")},void 0),(0,i.jsx)(ts,{children:n("pm_web_fullpage_follow_empty_text")},void 0),(0,i.jsx)(ts,{children:(0,i.jsx)(C.I0,{style:{margin:"24px auto 0 auto",fontWeight:700,minWidth:160,borderRadius:"4px"},variant:"const",size:"large",onClick:t,label:n("pm_web_fullpage_follow_empty_button")},void 0)},void 0)]},void 0)},void 0)}),void 0)})),is=(0,L.default)("div",{target:"eao6zx30"})((({theme:e})=>({overflow:"hidden",position:"relative",margin:"0 auto",border:`1px solid ${e.colors.BGSecondary2}`,borderRadius:12,width:"100%",maxWidth:1800})),"label:DivFeedsContainer;"),ns=(0,L.default)("div",{target:"eao6zx31"})({width:"100%",aspectRatio:""+1096/484},"label:DivAdaptiveFeedsWrapper;"),rs=(0,L.default)("div",{target:"eao6zx32"})((({theme:e,isRTL:t})=>({position:"absolute",top:"50%",right:t?void 0:"24px",left:t?"24px":void 0,zIndex:1,color:e.colors.ConstTextInverse,transform:"translateY(-50%)",pointerEvents:"none"})),"label:DivLiveFeedSwiperButton;"),ls=(0,L.default)("div",{target:"eao6zx33"})({position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"var(--BG-Dark-BGLevitation, #191919)"},"label:DivLoadingWrapper;");var as=o(32582);const ss=(e="default")=>{switch(e){case"click_btn":return"click";case"click_video":return"warning_click";default:return"slide"}};var ds=o(42916),cs=o(57329);var us=o(10183);const vs=(0,L.default)("div",{target:"e1dcqc2w0"})({display:"flex",flexDirection:"column",fontSize:"20px"},"label:DivDirectionButtonWrapper;"),ms=(e,t)=>({display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",width:"40px",height:"40px",textAlign:"center",lineHeight:"44px",color:e?t.colors.ConstBGContainer3:t.colors.ConstTextInverse,backgroundColor:e?t.colors.ConstBGContainer3:t.colors.ConstBGInverse4,cursor:e?"default":"pointer",pointerEvents:"auto",":hover":{backgroundColor:e?t.colors.ConstBGContainer3:"rgba(191, 191, 191, 0.44)"}}),hs=(0,L.default)("div",{target:"e1dcqc2w1"})((({disable:e,theme:t})=>Object.assign({marginTop:16},ms(e,t))),"label:DivDownButton;"),gs=(0,L.default)("div",{target:"e1dcqc2w2"})((({disable:e,theme:t})=>Object.assign({},ms(e,t))),"label:DivUpButton;");var ps=o(58254);const fs=(0,h.memo)((e=>{const{currentIndex:t=0,maxIndex:o=0,onNextClick:n,onPrevClick:r}=e,l=(0,We.A)((()=>{0!==t&&(null==r||r())})),{isRTL:a}=(0,ps.m)(),s=a?"Right":"Left",d=(0,We.A)((()=>{t>=o||null==n||n()})),c=(0,Vr.w)(),u=0===t,v=t>=o;return(0,i.jsxs)(vs,{children:[u?(0,i.jsx)(gs,Object.assign({disable:u,onClick:l},{children:(0,i.jsx)(us.E,{},void 0)}),void 0):(0,i.jsx)(C.N0,Object.assign({position:s,type:"Tiny",disabled:!c,background:"ToastDefault",size:"small",variant:"secondary",content:(0,i.jsx)("span",Object.assign({style:{backgroundColor:"#fff",color:"#323442",lineHeight:"24px"},className:"inline-block w-24 h-24 rounded text-18 text-center font-black"},{children:"↑"}),void 0)},{children:(0,i.jsx)(gs,Object.assign({disable:0===t,onClick:l},{children:(0,i.jsx)(us.E,{},void 0)}),void 0)}),void 0),v?(0,i.jsx)(hs,Object.assign({disable:v,onClick:d},{children:(0,i.jsx)(Ro.J,{},void 0)}),void 0):(0,i.jsx)(C.N0,Object.assign({position:s,type:"Tiny",disabled:!c,background:"ToastDefault",size:"small",variant:"secondary",content:(0,i.jsx)("span",Object.assign({style:{backgroundColor:"#fff",color:"#323442",lineHeight:"24px"},className:"inline-block w-24 h-24 rounded text-18 text-center font-black"},{children:"↓"}),void 0)},{children:(0,i.jsx)(hs,Object.assign({disable:t>=o,onClick:d},{children:(0,i.jsx)(Ro.J,{},void 0)}),void 0)}),void 0)]},void 0)}));var _s=o(93658),ys=o(76149);const bs=(0,h.memo)((()=>{const{shouldLoginPrompt:e,canWatchLive:t}=(0,Bi.I)(),o=(0,Yr.Q)(),{handleCardDrawReport:n,handleFatalShowReport:r}=(()=>{const{user:e}=ce.t,t=(0,co.v)(),o=(0,_t.OB)(!0);return{handleCardDrawReport:(0,We.A)(((i,n)=>{var r,l,a,s,d,c,u,v,m,h,g,p,f,_,y,b,x,w,S,C,I,j,k;const R=_i.feedData[i];if(!R)return;const{enterFromMerge:L,enterMethod:T}=null!==(r=null==t?void 0:t.teaParams)&&void 0!==r?r:{};ao.fF.handleDraw({room_id:null===(l=null==R?void 0:R.data)||void 0===l?void 0:l.id_str,anchor_id:null===(s=null===(a=null==R?void 0:R.data)||void 0===a?void 0:a.owner)||void 0===s?void 0:s.id_str,enter_from_merge:L,enter_method:T,draw_action:i>n?"2":"1",draw_type:ss(_i.teaCommonParams.slideType),to_group_id:null===(d=null==R?void 0:R.data)||void 0===d?void 0:d.id_str,follow_status:String(null===(v=null===(u=null===(c=null==R?void 0:R.data)||void 0===c?void 0:c.owner)||void 0===u?void 0:u.follow_info)||void 0===v?void 0:v.follow_status),request_id:null==R?void 0:R.rid}),ao.fF.handleShow({action_type:"click",user_id:null!==(m=null==e?void 0:e.uid)&&void 0!==m?m:"",room_id:null!==(g=null===(h=R.data)||void 0===h?void 0:h.id_str)&&void 0!==g?g:"",anchor_id:null!==(_=null===(f=null===(p=R.data)||void 0===p?void 0:p.owner)||void 0===f?void 0:f.id_str)&&void 0!==_?_:"",enter_from_merge:null!==(y=null==t?void 0:t.teaParams.enterFromMerge)&&void 0!==y?y:"live_merge",request_id:null==R?void 0:R.rid,follow_status:null!==(w=null===(x=null===(b=null==R?void 0:R.data)||void 0===b?void 0:b.owner)||void 0===x?void 0:x.follow_status)&&void 0!==w?w:0,live_type:null!==(C=(0,Fn.FP)(null===(S=null==R?void 0:R.data)||void 0===S?void 0:S.live_room_mode))&&void 0!==C?C:"",is_top_room:Oa===R.live_reason?ao.qw.pin:ao.qw.common,is_top_tab:(null===(I=null==t?void 0:t.teaParams)||void 0===I?void 0:I.is_top_tab)||ao.qw.common,is_tab_icon:(null===(j=null==t?void 0:t.teaParams)||void 0===j?void 0:j.is_tab_icon)||ao.qw.common,section_type:"feeds_section",content_section_title:"feeds_section",content_section_order:1,is_auto_play:"off",auto_play_type:"enter_room",manual_play_type:null!==(k=_i.teaCommonParams.slideType)&&void 0!==k?k:"default",is_personalized:o?"1":"0"})})),handleFatalShowReport:(0,We.A)(((e=3)=>{3===e&&as.q.handleLockPageShow(Object.assign({},(0,Pi.Gc)()))}))}})(),{activeIndex:l,feedList:a,swiperRef:s,hasMore:d,loadingVisible:c,handleActiveIndexChange:u,handleJumpToFallbackPage:v}=(({handleCardDrawReport:e})=>{const t=(0,A.W6)(),{extra:o,loadingState:i,activeIndex:n,feedData:r}=(0,Ki.s)(_i),l=(0,Ue.A)((()=>!(3===i||2===i&&!o.has_more)),[o,i]),a=(0,Ue.A)((()=>1===i&&!_i.feedData.length),[i]),s=(0,Ue.A)((()=>({current:void 0})),[]),d=(0,h.useMemo)((()=>pi()),[]);return(0,x.A)((()=>{d||yi({loadingState:0,feedData:[]})})),{swiperRef:s,activeIndex:n,feedList:r,handleActiveIndexChange:(t,o)=>{var i,n,r,l,a,s,c,u,v,m,h;const g=_i.activeIndex;if(t===g)return;if((0,Vr.w)()&&!mi.cz.playing){const{activePlayer:e}=mi.cz;e.status.play()}var p;(p={slideType:o})&&Object.keys(p).forEach((e=>{void 0!==p[e]&&(_i.teaCommonParams[e]=p[e])})),e(t,g);const f=_i.playerIdMap.get(t),_=_i.playerIdMap.get(g);if(!f||!_)return;if(!d)if(g>t){const e=_i.playerIdMap.get(g+1);void 0!==e&&_i.playerIdMap.set(t-1,e)}else{const e=_i.playerIdMap.get(g-1);void 0!==e&&_i.playerIdMap.set(t+1,e)}var y;if((0,mi.wO)(f),y=t,_i.activeIndex=y,t>=_i.feedData.length)return;const b=_i.feedData[t],x=null===(n=null===(i=(0,Jo.B)(b.data))||void 0===i?void 0:i.live_core_sdk_data)||void 0===n?void 0:n.pull_data;x&&(0,Ir.j6)(f,(0,Cr.eA)({playerId:f,streamPullData:x,loggerRoomInfo:{hashTagId:null===(l=null===(r=b.data)||void 0===r?void 0:r.hashtag)||void 0===l?void 0:l.id,roomId:null!==(s=null===(a=b.data)||void 0===a?void 0:a.id_str)&&void 0!==s?s:"",anchorId:null!==(v=null===(u=null===(c=b.data)||void 0===c?void 0:c.owner)||void 0===u?void 0:u.id_str)&&void 0!==v?v:"",liveRoomMode:null!==(h=null===(m=b.data)||void 0===m?void 0:m.live_room_mode)&&void 0!==h?h:0}}))},hasMore:l,loadingVisible:a,handleJumpToFallbackPage:()=>{t.push(_i.emptyFallbackPath)}}})({handleCardDrawReport:n}),{isRTL:m}=(0,Sa.m)(),g=(0,h.useRef)(null),f=(0,ze.Eo)(),{isHovering:_}=(e=>{const t=(0,Ue.A)((()=>({current:0})),[]),[o,{setTrue:i,setFalse:n}]=(0,Dt.A)(!0),r=(0,Ue.A)((()=>({current:o})),[]);r.current=o;const l=(0,We.A)(((e=3e3)=>{t.current=window.setTimeout((()=>{n()}),e)}));return(0,er.A)((()=>e.current),{onEnter:()=>{i(),clearTimeout(t.current),t.current=void 0},onLeave:l}),(0,h.useEffect)((()=>{l(6e3);const o=ir()((()=>{r.current||i(),t.current&&(clearTimeout(t.current),t.current=void 0)}),150,{leading:!0,trailing:!1}),n=e.current;return null==n||n.addEventListener("mousemove",o),()=>{null==n||n.removeEventListener("mousemove",o)}}),[]),{isHovering:o}})(g);(0,p.ou)();const y=(0,p.Jd)({defaultVisible:e,closeable:!0}),{handleRoomEndHasShow:b}=function(e){const{focusIndex:t=0,feedData:o=[]}=e,i=(0,Ue.A)((()=>({current:t})),[]),n=(0,Ue.A)((()=>({current:o})),[]),r=(0,Ue.A)((()=>({current:void 0})),[]);n.current=o,i.current=t;const l=(0,We.A)((e=>{var t,o,i,n,r,l,a;if(!e)return;(e=>{const{roomId:t}=e,{feedData:o,activeIndex:i}=_i,n=o.findIndex((e=>{var o;return(null===(o=e.data)||void 0===o?void 0:o.id_str)===t}));if(-1===n)return;const r=n<i?i-1:i,l=o.filter((e=>{var o;return(null===(o=e.data)||void 0===o?void 0:o.id_str)&&t!==String(e.data.id_str)}));if(r===i){const e=_i.playerIdMap.get(r+1);e&&(_i.playerIdMap.set(r,e),_i.playerIdMap.set(r+1,mi.cz.activePlayerId),mi.cz.activePlayerId=e)}else bi(r,i);_i.activeIndex=r,_i.feedData=(0,Ot.KR)(l)})({roomId:e});const s=mi.cz.activePlayerId,d=_i.feedData[_i.activeIndex];if(null==d?void 0:d.data){const e=null===(o=null===(t=(0,Jo.B)(d.data))||void 0===t?void 0:t.live_core_sdk_data)||void 0===o?void 0:o.pull_data;if(!e)return;(0,Ir.j6)(s,(0,Cr.eA)({playerId:s,streamPullData:e,loggerRoomInfo:{hashTagId:null===(i=d.data.hashtag)||void 0===i?void 0:i.id,roomId:null!==(n=d.data.id_str)&&void 0!==n?n:"",anchorId:null!==(l=null===(r=d.data.owner)||void 0===r?void 0:r.id_str)&&void 0!==l?l:"",liveRoomMode:null!==(a=d.data.live_room_mode)&&void 0!==a?a:0,isPreview:!0}}))}})),a=(0,We.A)((e=>new Promise(((t,o)=>{(0,ds.R)({room_ids:e.join(",")}).then((e=>{var o;if(null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.length){const o=e.data.filter((e=>!e.alive&&e.room_id_str)).map((e=>e.room_id_str||""));t(o)}else t([])})).catch((e=>{o(e),console.log(e)}))})))),s=(0,We.A)((()=>{if(n.current.length){const e=[];return n.current.forEach(((t,o)=>{var n,r;const l=i.current-4<o,a=i.current+4>o;(null===(n=t.data)||void 0===n?void 0:n.id_str)&&l&&a&&e.push(null===(r=t.data)||void 0===r?void 0:r.id_str)})),e}return[]})),d=(0,We.A)((()=>{var e,t;const o=null===(t=null===(e=n.current[i.current])||void 0===e?void 0:e.data)||void 0===t?void 0:t.id_str,r=s();r.length&&a(r).then((e=>{e.length&&(e=>{var t,o;const{endIds:i,nowWatchingId:n}=e,{feedData:r,activeIndex:l}=_i,a=null===(o=null===(t=r[l])||void 0===t?void 0:t.data)||void 0===o?void 0:o.id_str,s=r.filter((e=>{var t,o;return(null===(t=e.data)||void 0===t?void 0:t.id_str)===n||!i.includes(String(null===(o=e.data)||void 0===o?void 0:o.id_str))})).map((e=>{var t;return i.includes(String(null===(t=e.data)||void 0===t?void 0:t.id_str))?Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{status:4})}):e}));let d=s.findIndex((e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.id_str)===a}));a||(d=s.length),bi(d,l),_i.feedData=(0,Ot.KR)(s),_i.activeIndex=d})({endIds:e,nowWatchingId:o})})).catch((e=>console.error(e)))}));return r.current=(0,cs.A)(d,1e4),(0,x.A)((()=>{var e;null===(e=r.current)||void 0===e||e.call(r)})),{handleRoomEndHasShow:l}}({focusIndex:l,feedData:a}),{handleNextClick:w,handlePrevClick:S}=(({swiperRef:e,index:t,handleRoomEndHasShow:o})=>({handleNextClick:(0,We.A)((()=>{var i,n,r,l,a;void 0!==_i.playerIdMap.get(t+1)&&(null===(i=e.current)||void 0===i||i.slideTo(t+1,"click_btn"),4===(null===(r=null===(n=_i.feedData[t])||void 0===n?void 0:n.data)||void 0===r?void 0:r.status)&&o(null===(a=null===(l=_i.feedData[t])||void 0===l?void 0:l.data)||void 0===a?void 0:a.id_str))})),handlePrevClick:(0,We.A)((()=>{var i,n,r,l,a;void 0!==_i.playerIdMap.get(t-1)&&(null===(i=e.current)||void 0===i||i.slideTo(t-1,"click_btn"),4===(null===(r=null===(n=_i.feedData[t])||void 0===n?void 0:n.data)||void 0===r?void 0:r.status)&&o(null===(a=null===(l=_i.feedData[t])||void 0===l?void 0:l.data)||void 0===a?void 0:a.id_str))}))}))({index:l,swiperRef:s,handleRoomEndHasShow:b}),C=(0,Ue.A)((()=>{if(!t)return[];const e=a.map(((e,t)=>{var o,n;const r=_i.playerIdMap.get(t),a=r?mi.Yq[r]:void 0;return{key:(null===(o=e.data)||void 0===o?void 0:o.id_str)||String(t),content:r&&a?(0,i.jsx)(Ja,{playerId:r,player:a,cardData:e,isActive:t===l,onRoomEndShow:b,onNextClick:null===(n=s.current)||void 0===n?void 0:n.next,isCardHovering:_&&t===l,hideEngagementCount:f},void 0):null}}));return d||e.push({key:"end",content:(0,i.jsx)(os,{onClick:v},void 0)}),e}),[l,a,d,t,b,v,_]);(({active:e})=>{const{streamDeviceType:t}=(0,kt.G)(),o=(0,_t.OB)(!0),i=(0,Ze.Nj)(Ii.c);(0,h.useEffect)((()=>{if(!e)return;const{feedData:n,maxTime:r,reqFromMore:l,channelId:a,relatedLiveTag:s}=_i;yi({loadingState:1}),(0,It.x)({req_from:l,channel_id:a,related_live_tag:s,max_time:r,device_type:t,is_non_personalized:o?0:1}).then((e=>{var t,o,r,a;if(0!==e.status_code?i.handleLiveFeedApiResultReport({statusCode:e.status_code,errorMsg:null!==(o=null===(t=e.data)||void 0===t?void 0:t.prompts)&&void 0!==o?o:e.message}):i.handleLiveFeedApiResultReport(),(null===(r=e.extra)||void 0===r?void 0:r.max_time)===_i.maxTime||l!==_i.reqFromMore)return;const s=Ci.Ab(e.data);yi({feedData:Ci.we([...n,...s]),extra:e.extra,loadingState:2,maxTime:(null===(a=e.extra)||void 0===a?void 0:a.max_time)||0})})).catch((e=>{console.log(e),yi({loadingState:3})}))}),[e])})({active:l===a.length-2&&d}),(0,_s.Fz)(a.length>0);const I=(0,A.W6)();return(0,h.useEffect)((()=>{pi()&&"POP"===I.action&&0!==_i.saveIndex&&setTimeout((()=>{var e,t;null===(e=s.current)||void 0===e||e.slideTo(null!==(t=_i.saveIndex)&&void 0!==t?t:0)}),0);const e=I.listen((()=>{_i.saveIndex=_i.activeIndex}));return()=>{e()}}),[]),(0,i.jsx)(is,Object.assign({ref:g},{children:(0,i.jsxs)(ns,{children:[t&&c&&(0,i.jsx)(ls,{children:(0,i.jsx)(Xa.e,{loading:!0},void 0)},void 0),t&&(0,i.jsx)(El,{ref:s,slideContents:C,activeIndex:l,onSlideToNextIndex:u},void 0),t&&!!C.length&&(0,i.jsx)(rs,Object.assign({isRTL:m},{children:(0,i.jsx)(fs,{currentIndex:l,maxIndex:C.length-1,onNextClick:w,onPrevClick:S},void 0)}),void 0),!t&&(0,i.jsx)(Ea.f,{type:3,onShow:r,onClick:y},void 0),o&&(0,i.jsx)(ys.Oh,{},void 0)]},void 0)}),void 0)})),xs=(0,L.default)("div",{target:"ea8sdp30"})((({theme:e})=>({height:"1px",margin:"48px 0 44px 0",backgroundColor:e.colors.LinePrimary2})),"label:DivDivider;"),ws=(0,a.Ay)({resolved:{},chunkName:()=>"live-sections-wrapper",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!o.m[t]},importAsync:()=>Promise.all([o.e(47430),o.e(58041),o.e(71812),o.e(39835),o.e(99312)]).then(o.bind(o,94257)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve:()=>94257},{resolveComponent:e=>e.LiveSectionsWrapper,ssr:!1}),Ss=(0,h.memo)((function(){(0,Ue.A)((()=>(0,xo.q)(0)),[]);const e=(0,Ze.Nj)(Il.h),{language:t="en"}=ce.t;return(0,_.x)("live_discover",{clientVersionName:"live_v3"}),(0,h.useEffect)((()=>{(0,Hr.d0)()}),[]),(0,h.useEffect)((()=>{(0,f.$G)(t)}),[t]),(0,h.useEffect)((()=>{jl.g.handleDiscoverShow(),e.handleLiveDiscoverPageShow({isFeed:"1"})}),[e]),(0,g.E)(),(0,i.jsxs)(Bt,Object.assign({pageName:"live_discover",needRecordPosition:!0},{children:[(0,i.jsx)(_o,{},void 0),(0,i.jsx)(bs,{},void 0),(0,i.jsx)(xs,{},void 0),(0,i.jsx)(ws,{},void 0),(0,i.jsx)(r.sv,{},void 0)]}),void 0)}));var Cs=o(69146),Is=o(54386),js=o(65804),ks=o(39656),Rs=o(98963),Ls=o(52189),Ts=o(47287),As=o(59184),Ps=o(14031),Es=o(54252),Ds=o(88922),Ms=o(83250);const Os=(0,L.default)("div",{target:"e1ljquac0"})((({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,position:"relative",zIndex:1,background:e.colors.ConstBGInverse,maxWidth:1350,margin:"auto"})),"label:DivFooterWrapper;");var Fs=o(75551);const Bs=()=>{const e=(0,I.s)(),{user:t}=ce.t,o=null==t?void 0:t.ftcUser,n=(0,We.A)((()=>{window.location.href=oi.OZ.foryou}));return(0,i.jsx)(Fs.E,{visible:o,onOk:n,content:e("ls_download_underage_reminder"),okText:e("ls_ok")},void 0)};var qs=o(52757),Gs=o(81039),zs=o(90064);const Ns={go_live:"webapp_golive"},Us=(e,t)=>(0,w.stringifyUrl)({url:`${(0,zs.$_)(2)}/falcon/live_g/${e}`,query:Object.assign({source:"webapp",aid:Gs.x},t)});var Ws=o(10223);const Vs=e=>{window.ls_download_direction=e,(0,Kn.w6)({event:"ls_download"})},$s=(0,h.memo)((function(){const[e,t]=(0,h.useState)((0,Kn.t0)()),o=(0,Ps.B)(e),{user:n,language:r="en"}=ce.t,{isMobile:l}=kr.f,a=(0,Qa.O4)({isDark:!0,lang:r}),s=(0,Ri.wA)(Is.k),{applyUrl:d,hasLiveStudioAccess:c,showAccessBtn:u,isHitActivityRule:v,activityURL:m}=function(e){var t;const{packageId:o}=null!=e?e:{},i=(0,Ze.Nj)(qs.v),n=(0,Ri.Ph)(pl.C,{selector:e=>e.permissionInfo,dependencies:[]}),r=(0,Ri.wA)(pl.C),{user:l,language:a}=ce.t,[s,d]=(0,h.useState)(!1),[c,u]=(0,h.useState)(""),v=Boolean(l),m=(null==n?void 0:n.showLiveStudio)&&!n.topLSEntranceVisible||!v,g=!n,p=Boolean(null==n?void 0:n.topLSEntranceVisible),f=(0,h.useMemo)((()=>{var e,t,o;const i=w.parseUrl(window.location.href).query,n=String(null!==(e=null==i?void 0:i.enter_from)&&void 0!==e?e:""),r=String(null!==(t=null==i?void 0:i.utm_source)&&void 0!==t?t:"");return String(null!==(o=null==i?void 0:i.gclid)&&void 0!==o?o:"")?null!=r?r:"others":n?"go_live"===n?Ns[n]:`webapp_${n}`:void 0}),[]);return(0,h.useEffect)((()=>{m?Ds.o.handleGetAccessShow({isLogin:v?"1":"0"}):(r.getLivePermission(),i.judgeActivityPermission().subscribe((e=>{var t,i;const n=e.data;if(0===e.status_code&&n){const e=null!==(t=n.hit_activity_rule)&&void 0!==t&&t,r=null!==(i=n.activity_url)&&void 0!==i?i:"",l=w.stringifyUrl({url:r,query:{enter_from:f,h5_from:"webapp",ad_track_id:o}});d(e),u(l)}return(0,qr.of)()})))}),[m,i,v,r]),(0,h.useEffect)((()=>{const e=w.stringifyUrl({url:c,query:{ad_track_id:o}});u(e)}),[c,o]),{applyUrl:Us("live_studio_permission_apply",{enter_from:f,user_id:null!==(t=null==l?void 0:l.uid)&&void 0!==t?t:"",lang:a,ad_track_id:o}),isLoadingAccess:g,hasLiveStudioAccess:p,showAccessBtn:m,isHitActivityRule:s,activityURL:c}}({packageId:o}),[g,p]=(0,h.useState)(!1),f=Boolean(n),y=l?"mobile":"PC";(0,_.x)("studio_download",{gtmId:"GTM-NXZ3TZ4J"});const x=Kn.t4.getInstance(),S=(0,We.A)((()=>{console.log("handleReportLogin"),Ls.hi.handleLoginSuccess({client_id:e,package_id:o,is_live_studio_access:c?1:0,device_type:y}),(0,Kn.w6)({event:"user_login_success"})})),C=(0,We.A)((()=>{window.sessionStorage.setItem("is_modal_login_click","1"),(0,Kn.w6)({event:"login_modal_open"}),s.openModal({closeable:!0,query:{redirect_url:window.location.href},handleLogin:S})})),{packageName:I,downloadLink:j,loadingDownloadInfo:k,handleDownloadClick:R}=(0,Es.Q)({enter_from:"goLive",is_live_studio_access:c?1:0,device_type:y,clientId:e,packageId:o}),L=(0,We.A)((e=>{R(e),Vs(e)})),T=(0,We.A)((()=>{(null==n?void 0:n.uid)?(Ds.o.handleGetAccessClick(),Ls.hi.handleApplyClick({client_id:e,package_id:o,anchor_id:n.uid}),v&&m?((0,Kn.w6)({event:"jump_to_activity_page"}),window.open(m,"_blank")):((0,Kn.w6)({event:"apply_access_modal_open"}),p(!0))):C()})),A=(0,We.A)((t=>{"success"===t&&(Ls.hi.handleApplySuccess({client_id:e,package_id:o,is_live_studio_access:c?1:0,device_type:y}),(0,Kn.w6)({event:"live_access_apply"})),"ls_download"===t?(Ds.o.handleGetAccessDownload(),R("top"),Vs("top")):p(!1)})),P=(0,We.A)((()=>{p(!1)})),E=(0,We.A)((e=>{Ls.hi.handleSectionShow({module_name:e,is_live_studio_access:c?1:0,device_type:y})})),D=(0,We.A)((()=>{L("header")}));return(0,b.A)((()=>{(0,Ws.so)(n),Ls.hi.handleStudioDownloadPageShow({package_id:o,client_id:e,permission_status:c?1:0}),(0,Kn.w6)("config","G-GR6VLNH8D4"),x.set("device_type",y),x.set("user_is_login",f)})),(0,h.useEffect)((()=>{const e=e=>{var o;t(null!==(o=null==e?void 0:e.client_id)&&void 0!==o?o:"")};return x.on("onInit",e),x.set("is_live_studio_access",c),()=>{x.off("onInit",e)}}),[c]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Cs.mg,{children:(0,i.jsx)("link",{rel:"stylesheet",href:Ts},void 0)},void 0),(0,i.jsx)(oo.a,Object.assign({theme:Object.assign({},a)},{children:(0,i.jsx)(As.g,{loadingDownloadInfo:k,downloadUrl:j,packageName:I,onLoginClick:()=>{(0,Kn.w6)({event:"login_modal_open"})},onDownloadClick:D},void 0)}),void 0),(0,i.jsx)(oo.a,Object.assign({theme:Object.assign(Object.assign({},a),{direction:"ltr"})},{children:(0,i.jsx)(Ms.ni,Object.assign({downloadLink:j,packageName:I,loadingDownloadInfo:k,showGetAccessBtn:u,onGetAccessClick:T,onDownloadClick:L,onSectionShow:E},{children:(0,i.jsx)(Os,{children:(0,i.jsx)(ks.w,{hideDownload:!0},void 0)},void 0)}),void 0)}),void 0),(0,i.jsx)(js.aF,Object.assign({visible:g,onClose:P,closeStyle:0},{children:(0,i.jsx)(Rs.D,{width:"800",height:"800",onEvent:A,url:d},void 0)}),void 0),(0,i.jsx)(Bs,{},void 0)]},void 0)})),Hs=$s;var Ks=o(88972),Xs=o(78166),Js=o(57538),Qs=o(12129),Zs=o(81050),Ys=o(9685),ed=o(80312),td=o(48282),od=o(45208),id=o(31640),nd=o(74615),rd=o(98709),ld=o(46720),ad=o(88915),sd=o(79129),dd=o(58204),cd=o(2976),ud=o(78676);const vd=(0,L.default)("main",{target:"ev076360"})((({backgroundImage:e})=>Object.assign({width:"100%",height:"100vh"},e?{backgroundImage:`url(${e})`,backgroundSize:"100% 448px",backgroundRepeat:"no-repeat",backgroundColor:"rgba(18, 18, 18, 1)"}:{})),"label:MainLiveLayoutContainer;"),md=(0,L.default)("div",{target:"ev076361"})((({theme:e,visible:t})=>({display:t&&e.isDark?"block":"none",width:"100%",height:"448px",position:"fixed",top:0,left:0,background:"linear-gradient(180deg, rgba(0, 0, 0, 0.00) 0%, rgba(18, 18, 18, 1) 50%)"})),"label:MainLiveLayoutShadowVertical;"),hd=(0,L.default)("div",{target:"ev076362"})((({visible:e,theme:t})=>({display:e&&t.isDark?"block":"none",width:"100%",height:"496px",position:"fixed",top:0,left:0,background:"rtl"===t.direction?"linear-gradient(87deg, rgba(18, 18, 18, 0.00) 4.1%, rgba(18, 18, 18, 0.75) 83.61%)":"linear-gradient(273deg, rgba(18, 18, 18, 0.00) 4.1%, rgba(18, 18, 18, 0.75) 83.61%)"})),"label:MainLiveLayoutShadowHorizontal;"),gd=[l.vI.liveDiscover,l.vI.liveCategory,l.vI.liveCategoryLifestyle,l.vI.liveCategoryGaming];var pd=o(97871),fd=o(14063),_d=o(14079),yd=o(52597);const bd=()=>{const{isDark:e}=(0,oo.u)();return(0,i.jsx)(pd.x8,{children:(0,i.jsxs)(pd.MC,{children:[(0,i.jsx)(fd.z,{isDark:e},void 0),(0,i.jsx)(_d.o,{},void 0),(0,i.jsx)(yd.EA.Avatar,{style:{width:32,height:32}},void 0)]},void 0)},void 0)},xd=(0,a.Ay)({resolved:{},chunkName:()=>"real-header",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!o.m[t]},importAsync:()=>Promise.all([o.e(41387),o.e(17594),o.e(93278),o.e(29168),o.e(68105),o.e(32228),o.e(98873),o.e(81648),o.e(32396),o.e(7195),o.e(72924),o.e(35877),o.e(18871),o.e(74161),o.e(7485),o.e(58175),o.e(99127),o.e(64179),o.e(21306),o.e(95934),o.e(18785),o.e(97493),o.e(77669),o.e(48235),o.e(40329),o.e(21775)]).then(o.bind(o,25605)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve:()=>25605},{ssr:!1,fallback:(0,i.jsx)(bd,{},void 0)}),wd=(0,h.memo)((function(e){const{p2:t,permanent:o}=(0,Ki.s)(bn.vr),{shouldTransparent:n,shouldDisableToggleTheme:r}=(0,Ki.s)(rn.bA);return t||o?(0,i.jsx)(xd,Object.assign({},e,{shouldTransparent:n,shouldDisableToggleTheme:r}),void 0):(0,i.jsx)(bd,{},void 0)}));var Sd=o(96507);const Cd=(0,h.memo)((()=>((0,Sd.M)(),null))),Id=(0,a.Ay)({resolved:{},chunkName:()=>"login-modal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!o.m[t]},importAsync:()=>Promise.all([o.e(72837),o.e(7181),o.e(63392),o.e(91427),o.e(22318),o.e(80241),o.e(34336),o.e(41387),o.e(81429),o.e(17594),o.e(22939),o.e(93278),o.e(29168),o.e(68105),o.e(32228),o.e(98873),o.e(77586),o.e(29017),o.e(95546),o.e(76423),o.e(86536),o.e(23446),o.e(55080),o.e(97912),o.e(93290),o.e(63557),o.e(61274),o.e(72618),o.e(72142),o.e(21683),o.e(36514),o.e(45308),o.e(18605),o.e(42486),o.e(24875),o.e(71493),o.e(73593),o.e(49920),o.e(57104),o.e(78474),o.e(8177),o.e(99937),o.e(41605),o.e(47308),o.e(26176),o.e(51562),o.e(5752),o.e(34871),o.e(43719),o.e(95979),o.e(10415),o.e(68659),o.e(76778),o.e(21126),o.e(17652),o.e(61020)]).then(o.bind(o,43934)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve:()=>43934},{ssr:!1}),jd=(0,a.Ay)({resolved:{},chunkName:()=>"header-right",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!o.m[t]},importAsync:()=>Promise.all([o.e(93278),o.e(29168),o.e(68105),o.e(32228),o.e(71001)]).then(o.bind(o,8582)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return o(t)},resolve:()=>8582},{ssr:!1}),kd={FULL_HEADER:(0,i.jsx)(wd,{},void 0),LIVE_BASIC_HEADER:(0,i.jsx)(wd,{alwaysShowRechargeIconAndText:!0},void 0),DEFAULT_HEADER:(0,i.jsx)(wd,{showHeaderSearch:!1,customHeaderRight:(0,i.jsx)(jd,{},void 0)},void 0),STUDIO_HEADER:null,KYC_LOADING_HEADER:null};(0,ad.e)();const Rd=()=>{var e;const t=(0,A.W6)(),o=ce.t,n=kr.f,a=(0,Ri.Ph)(Js.p),{showFullSideNav:s}=(0,go.vY)(),d=(0,h.useMemo)((()=>s?null:function(e){const t=[l.vI.liveGoLive,l.vI.liveRoom,l.vI.liveDiscover,l.vI.liveFollowing,l.vI.liveGaming,l.vI.liveSingleGaming,l.vI.liveSubscription,l.vI.giftCpcFaq,l.vI.liveEventAggregation,l.vI.liveEvent],o=[l.vI.studioDownload,l.vI.studioFaq],i=(e,t)=>e.some((e=>(0,A.B6)(t,{path:e})));return i(t,e)?i(id.QF,e)?kd.LIVE_BASIC_HEADER:kd.FULL_HEADER:i(o,e)||i([l.vI.kycLoading],e)?kd.STUDIO_HEADER:kd.DEFAULT_HEADER}(t.location.pathname)),[t.location.pathname,s]),c=(0,ud.c)(),{p1:u,p2:v,permanent:m}=(0,Ki.s)(bn.vr);(0,Qs.gG)(),function(){const{pathname:e}=(0,A.zy)();(0,h.useEffect)((()=>{gd.includes(e)||window.scrollTo(0,0)}),[e])}(),(0,b.A)((()=>{sd.X.checkWebpSupport(),(0,bn.Y2)()})),(0,dd.G)(),(0,_s.Dl)();const{backgroundImage:g}=(0,Ki.s)(rn.bA),p=!!ce.t.user,f=(0,h.useMemo)((()=>"others"!==ce.t.botType),[]);return(0,i.jsx)(od.Q,Object.assign({isMobile:!1,path2PidFunc:Zs.N2,delayFonts:!0},{children:(0,i.jsxs)(vd,Object.assign({id:nd.h,backgroundImage:g},{children:[(0,i.jsx)(Ys.p,{appContext:o,bizContext:n,seoProps:a,slardarBid:ed.lD,initialPid:c,usePumbaaMeta:!0},void 0),(0,i.jsx)(hd,{visible:Boolean(g)},void 0),(0,i.jsx)(md,{visible:Boolean(g)},void 0),(null===(e=null==n?void 0:n.liveCommonConfig)||void 0===e?void 0:e.regionEntry)&&(0,i.jsx)(rd.t,{},void 0),f&&(0,i.jsx)(td.y,{appContext:o,bizContext:n},void 0),(0,i.jsx)("link",{rel:"stylesheet",href:Ks},void 0),(0,i.jsx)("link",{rel:"stylesheet",href:Xs},void 0),d,(0,i.jsx)(r.sv,{},void 0),(m||v)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Cd,{},void 0),(0,i.jsx)(cd.N,{},void 0)]},void 0),p&&(m||v)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Id,{},void 0),(0,i.jsx)(ld.U,{},void 0)]},void 0),!p&&(m||u)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Id,{},void 0),(0,i.jsx)(ld.U,{},void 0)]},void 0)]}),void 0)}),void 0)};var Ld=o(97519),Td=o(82262);const Ad=(0,h.memo)((({children:e})=>(0,Ld.w)()?null:(0,i.jsx)(i.Fragment,{children:e},void 0))),Pd=(0,h.memo)((({children:e})=>(0,i.jsx)(Td.t,Object.assign({client:jn.qQ,persistOptions:(0,jn.Vy)()},{children:(0,i.jsx)(Ad,{children:e},void 0)}),void 0))),Ed=(0,h.memo)((()=>(0,i.jsx)("div",{children:(0,i.jsx)(Pd,{children:(0,i.jsx)(r.sv,{},void 0)},void 0)},void 0)));function Dd(){return(0,r.Eu)((0,i.jsxs)(r.qh,Object.assign({element:(0,i.jsx)(Rd,{},void 0)},{children:[(0,i.jsxs)(r.qh,Object.assign({element:(0,i.jsx)(Ed,{},void 0)},{children:[(0,i.jsx)(r.qh,{path:l.vI.studioDownload,element:(0,i.jsx)(Hs,{},void 0)},void 0),(0,i.jsx)(r.qh,{path:l.vI.studioFaq,element:(0,i.jsx)(d,{},void 0)},void 0),(0,i.jsxs)(r.qh,Object.assign({element:(0,i.jsx)(Cl,{},void 0)},{children:[(0,i.jsx)(r.qh,{path:l.vI.liveRoom,element:(0,i.jsx)(Xr,{},void 0)},void 0),(0,i.jsx)(r.qh,{path:l.vI.liveEvent,element:(0,i.jsx)(m,{},void 0)},void 0),(0,i.jsxs)(r.qh,Object.assign({element:(0,i.jsx)(Ss,{},void 0)},{children:[(0,i.jsx)(r.qh,{path:l.vI.liveDiscover,element:(0,i.jsx)(ki,{},void 0)},void 0),(0,i.jsx)(r.qh,{path:l.vI.liveFollowing,element:(0,i.jsx)(Zr,{},void 0)},void 0),(0,i.jsx)(r.qh,{path:l.vI.liveSingleGaming,element:(0,i.jsx)(nl,{},void 0)},void 0),(0,i.jsx)(r.qh,{path:l.vI.liveGaming,element:(0,i.jsx)(nl,{},void 0)},void 0),(0,i.jsx)(r.qh,{path:l.vI.liveLifestyle,element:(0,i.jsx)(rl,{},void 0)},void 0)]}),void 0),(0,i.jsxs)(r.qh,Object.assign({element:(0,i.jsx)(vi,{},void 0)},{children:[(0,i.jsx)(r.qh,{path:l.vI.liveEventAggregation,element:(0,i.jsx)(Ce,{},void 0)},void 0),(0,i.jsx)(r.qh,{path:l.vI.liveCategorySingleLifeStyle,element:(0,i.jsx)(Wt,{},void 0)},void 0),(0,i.jsx)(r.qh,{path:l.vI.liveCategorySingleGaming,element:(0,i.jsx)(qt,{},void 0)},void 0),(0,i.jsx)(r.qh,{path:l.vI.liveCategorySingleAction,element:(0,i.jsx)(Uo,{},void 0)},void 0),(0,i.jsx)(r.qh,{path:l.vI.liveExplore,element:(0,i.jsx)(ui,{},void 0)},void 0),(0,i.jsxs)(r.qh,Object.assign({element:(0,i.jsx)(yo,{},void 0)},{children:[(0,i.jsx)(r.qh,{path:l.vI.liveCategory,element:(0,i.jsx)(ko,{},void 0)},void 0),(0,i.jsx)(r.qh,{path:l.vI.liveCategoryGaming,element:(0,i.jsx)(Fo,{},void 0)},void 0),(0,i.jsx)(r.qh,{path:l.vI.liveCategoryLifestyle,element:(0,i.jsx)(Bo,{},void 0)},void 0)]}),void 0)]}),void 0)]}),void 0)]}),void 0),(0,i.jsx)(r.qh,{path:l.vI.kycSubmission,element:(0,i.jsx)(v,{},void 0)},void 0),(0,i.jsx)(r.qh,{path:l.vI.kyc,element:(0,i.jsx)(u,{},void 0)},void 0),(0,i.jsx)(r.qh,{path:l.vI.kycLoading,element:(0,i.jsx)(u,{},void 0)},void 0),(0,i.jsx)(r.qh,{path:l.vI.kycPoa,element:(0,i.jsx)(u,{},void 0)},void 0),(0,i.jsx)(r.qh,{path:l.vI.giftCpcFaq,element:(0,i.jsx)(c,{},void 0)},void 0),(0,i.jsx)(r.qh,{path:`${l.vI.liveDiscover}/:suburl`,element:(0,i.jsx)(r.C5,{to:l.vI.liveDiscover},void 0)},void 0),(0,i.jsx)(r.qh,{path:"*",element:(0,i.jsx)(n.T,{},void 0)},void 0)]}),void 0))}},49440:(e,t,o)=>{o.d(t,{$:()=>r});var i=o(80312),n=o(78676);const r={bid:i.lD,extractPid:n.w,disableToggleLoginSlardar:!0,ttapOption:{isSpa:!0}}},97603:(e,t,o)=>{o.d(t,{i:()=>b});var i=o(27334),n=o(65622),r=o(15474),l=o(52528),a=o(98281),s=o(15646),d=o(2032),c=o(63161),u=o(53240),v=o(8171);const m=(0,d.default)(c.N_,{target:"e15pvm210"})({display:"flex",alignItems:"center",maxWidth:"100%",textDecoration:"none","&:hover":{textDecoration:"none"}},"label:StyledProfileLink;"),h=(0,d.default)("div",{target:"e15pvm211"})((({size:e})=>[{height:e,display:"flex",alignItems:"center"}]),"label:DivAnchorInfoWrapper;"),g=(0,d.default)("div",{target:"e15pvm212"})((({size:e})=>[{height:e,display:"flex",alignItems:"center",maxWidth:"65%"}]),"label:DivAnchorInfo;"),p=(0,d.default)("div",{target:"e15pvm213"})((({size:e,isLiving:t=!1,theme:o})=>[(0,u.mp)({direction:o.direction,marginEnd:8}),{height:e,width:e,display:"flex",justifyContent:"center",alignItems:"center",background:o.colors.BGPrimary,borderRadius:"50%",border:t?`1px solid ${o.colors.Primary}`:0}]),"label:StyledAvatarWrapper;"),f=(0,d.default)(v.I,{target:"e15pvm214"})((({size:e,isLiving:t})=>({width:t?e-4:e,height:t?e-4:e,borderRadius:"100%"})),"label:StyledAvatar;"),_=(0,d.default)("div",{target:"e15pvm215"})((({theme:e})=>[(0,u.mp)({direction:e.direction,marginStart:6}),{display:"flex"}]),"label:StyledIconWrapper;"),y=(0,d.default)("div",{target:"e15pvm216"})((({theme:e})=>({width:"0.5px",height:16,background:e.colors.LinePrimary2,marginLeft:6,marginRight:6})),"label:DivLineSeparator;"),b=e=>{const{loading:t,avatarUri:o,nickname:d,uniqueId:c,size:u,followersCount:v,verified:b,isLiving:x,scene:w}=e,S=(0,l.s)(),C=(0,n.useMemo)((()=>x?`/@${c}/live`:`/@${c}`),[x,c]),I=(0,n.useCallback)((e=>{e.stopPropagation()}),[]);return t?(0,i.jsxs)(g,Object.assign({size:u},{children:[(0,i.jsx)(f,{src:o,size:u,skeleton:"avatar"},void 0),(0,i.jsx)(r.sO,{height:24,width:120,marginInlineStart:8},void 0)]}),void 0):(0,i.jsxs)(h,Object.assign({size:u},{children:[(0,i.jsx)(g,Object.assign({size:u},{children:(0,i.jsxs)(m,Object.assign({to:C,target:x?"_self":"_blank",rel:"noreferrer noopener",onClick:I},{children:[(0,i.jsx)(p,Object.assign({size:u,isLiving:x},{children:(0,i.jsx)(f,{src:o,size:u,isLiving:x,skeleton:"avatar"},void 0)}),void 0),(0,i.jsx)(r.Fm,Object.assign({inline:!0,truncate:!0,nowrap:!0,type:"discover"===w?"P3-Bold":"P2-Semibold",color:"TextPrimary"},{children:d}),void 0),b&&(0,i.jsx)(_,{children:(0,i.jsx)(s.A,{width:12,height:12,style:{flexShrink:0}},void 0)},void 0)]}),void 0)}),void 0),v?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y,{},void 0),(0,i.jsx)(r.Fm,Object.assign({inline:!0,nowrap:!0,type:"discover"===w?"P3-Regular":"P2-Regular",color:"discover"===w?"TextTertiary":"TextPrimary"},{children:`${(0,a.D1)(v)} ${S("poidetails_vtwo_followers")}`}),void 0)]},void 0):(0,i.jsx)(i.Fragment,{},void 0)]}),void 0)}},92335:(e,t,o)=>{o.d(t,{K:()=>h});var i,n=o(556),r=o(65622),l=o(52528),a=o(37379),s=o(96359),d=o(63161),c=o(69872),u=o(58653),v=o(68359),m=o(70091);function h(e){const{handleEventSubscribe:t,logData:o}=e,{colors:h}=(0,n.u)(),g=(0,l.s)(),p=(0,a.Jd)({defaultVisible:!1,closeable:!0}),f=(0,d.W6)(),{user:_,language:y}=m.t,b=Boolean(_),x=g("go_live"),w=g("webLIVE_enableEvent_eventPage_registerBtn"),S=g("webLIVE_enableEvent_eventPage_registeredBtn"),C=g("webLIVE_enableEvent_eventPage_watchLIVEBtn"),I=(0,r.useCallback)(((e,t)=>{e&&f.push(`/@${t}/live`,{enter_from_merge:(null==o?void 0:o.enterFromMerge)?o.enterFromMerge:"live_event_aggregation",enter_method:"watch_live_icon",live_event_id:e})}),[f]),j=(0,r.useCallback)((()=>{const e=`${s.Ox}/producer?enter_from=${(null==o?void 0:o.enterFrom)?o.enterFrom:"live_event_aggregation"}`,t=(0,c.stringifyUrl)({url:e,query:{lang:y}});window.open(t,"_blank")}),[y]);return(0,r.useCallback)(((e,n)=>{const{id:r="",host:l,status:a,start_time:s,duration:d,has_subscribed:c}=e,m=(0,u.y)(e),g=(null==l?void 0:l.uid)||"",f=5===a;if(b&&(null==l?void 0:l.uid)===(null==_?void 0:_.uid)){const e=x,t=!(0,u.N)(s,d);return{btnDisabled:t,btnText:e,onBtnClick:()=>{t||j()}}}return f?{btnDisabled:!1,btnText:C,onBtnClick:()=>{I(r,null==l?void 0:l.unique_id)}}:b?{btnDisabled:!m,btnText:c?S:w,btnStyle:c?{background:`${h.BGInput2}`,color:`${h.TextQuaternary}`,border:0}:{},onBtnClick:()=>{t({eventId:r,anchorId:g,action:c?i.unsubscribe:i.subscribe}),v.Zz.handleLiveEventCardAction(c?v.Lh.CancelEvent:v.Lh.RegisterEvent,{author_id:g,live_event_id:r,impr_position:String(n+1),enter_from_merge:null==o?void 0:o.enterFromMerge})}}:{btnDisabled:!1,btnText:w,onBtnClick:()=>{p()}}}),[x,C,w,S,b,_,h,j,I,p,t])}!function(e){e[e.subscribe=0]="subscribe",e[e.unsubscribe=1]="unsubscribe"}(i||(i={}))},70731:(e,t,o)=>{o.d(t,{D:()=>g});var i=o(27334),n=o(26711),r=o(15474),l=o(2032),a=o(53240),s=o(54572),d=o(32790);const c=(0,l.default)("div",{target:"e1fja2tn0"})((({theme:e})=>[(0,a.zy)({theme:e,typography:"P3",fontFamily:"TikTokFont"}),{fontSize:16,color:e.colors.TextPrimary,display:"flex",alignItems:"center"}]),"label:DivEventDate;"),u=(0,l.default)("div",{target:"e1fja2tn1"})((({theme:e})=>[(0,a.zy)({theme:e,typography:"P2",fontFamily:"TikTokFont"}),{fontSize:18,color:e.colors.TextPrimary}]),"label:DivEventDateCalendar;"),v=(0,l.default)("div",{target:"e1fja2tn2"})((({theme:e})=>[(0,a.zy)({theme:e,typography:"P3",fontFamily:"TikTokFont"}),{fontSize:16,color:e.colors.TextPrimary,marginTop:8,display:"flex",alignItems:"center"}]),"label:DivEventTime;"),m=(0,l.default)(s.A,{target:"e1fja2tn3"})((({theme:e})=>[{width:20,height:20,color:e.colors.TextSecondary},(0,a.mp)({direction:e.direction,marginEnd:8})]),"label:StyledIconCalendar;"),h=(0,l.default)(d.A,{target:"e1fja2tn4"})((({theme:e})=>[{width:20,height:20,color:e.colors.TextSecondary},(0,a.mp)({direction:e.direction,marginEnd:8})]),"label:StyledIconClock;"),g=e=>{const{loading:t,startTime:o=0,duration:l=0,type:a,lang:s="en"}=e;return a?"card"===a?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(c,{children:[(0,i.jsx)(m,{},void 0),t?(0,i.jsx)(r.sO,{width:180,height:22},void 0):(0,n.SV)(Number(o),s,"dddd, MMM D, YYYY")]},void 0),(0,i.jsxs)(v,{children:[(0,i.jsx)(h,{},void 0),t?(0,i.jsx)(r.sO,{width:180,height:22},void 0):`${(0,n.SV)(Number(o),s,"h:mm A")} - ${(0,n.SV)(Number(o)+Number(l),s,"h:mm A")}`]},void 0)]},void 0):t?(0,i.jsx)(r.sO,{width:180,height:24},void 0):(0,i.jsx)(u,{children:(0,n.SV)(Number(o),s,"LLL")},void 0):(0,i.jsx)(i.Fragment,{},void 0)}},14572:(e,t,o)=>{o.d(t,{d:()=>H});var i=o(27334),n=o(65622),r=o(34491),l=o(90910),a=o(15462);var s=o(20088),d=o.n(s),c=o(15474),u=o(68359),v=o(92335),m=o(52528),h=o(70731),g=o(97603),p=o(2032),f=o(53240),_=o(50975);const y=(0,p.default)("div",{target:"ejsnxgj0"})((({theme:e,isLoading:t})=>({height:345,minWidth:468,padding:24,display:"flex",flexDirection:"column",background:e.colors.BGPrimary,borderRadius:8,boxShadow:"0px 4px 12px 0px rgba(0, 0, 0, 0.05)",cursor:"pointer",":hover":t?{}:{background:e.isDark?e.colors.BGTertiary2:e.colors.BGHover}})),"label:DivEventCardContainer;"),b=(0,p.default)("div",{target:"ejsnxgj1"})({display:"flex",height:20,flex:1},"label:DivLiveTagWrapper;"),x=(0,p.default)(_.j,{target:"ejsnxgj2"})((({theme:{direction:e}})=>[(0,f.mp)({direction:e}),{whiteSpace:"nowrap",display:"block",padding:"0 6px",borderRadius:3}]),"label:StyledLiveTag;"),w=(0,p.default)("div",{target:"ejsnxgj3"})({height:30,width:"100%",marginTop:6},"label:DivEventTitleWrapper;"),S=(0,p.default)("div",{target:"ejsnxgj4"})({marginTop:6},"label:DivEventTitleSkeleton;"),C=(0,p.default)("div",{target:"ejsnxgj5"})({height:42,width:"calc(100% - 24px)",marginTop:8,overflowY:"hidden"},"label:DivEventDescriptionWrapper;"),I=(0,p.default)("div",{target:"ejsnxgj6"})({marginTop:8},"label:DivEventDescriptionSkeleton;"),j=(0,p.default)("div",{target:"ejsnxgj7"})((({theme:e})=>[(0,f.zy)({theme:e,typography:"P3",fontFamily:"TikTokFont"}),{fontSize:16,color:e.colors.TextPrimary,height:"100%",lineHeight:"130%",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:"2",WebkitBoxOrient:"vertical",textOverflow:"ellipsis",wordBreak:"break-word"}]),"label:DivEventDescription;"),k=(0,p.default)("div",{target:"ejsnxgj8"})({marginTop:6,maxWidth:"100%"},"label:DivEventHostWrapper;"),R=(0,p.default)("div",{target:"ejsnxgj9"})({marginTop:24},"label:DivEventDateWrapper;"),L=(0,p.default)("div",{target:"ejsnxgj10"})((({theme:e})=>[(0,f.zy)({theme:e,typography:"P3",fontFamily:"TikTokFont"}),{fontSize:16,color:e.colors.TextPrimary,marginTop:8}]),"label:DivEventRelatedVideos;"),T=(0,p.default)("div",{target:"ejsnxgj11"})({marginTop:8},"label:DivEventRelatedVideosSkeleton;"),A=(0,p.default)("div",{target:"ejsnxgj12"})({marginTop:24},"label:DivButtonWrapper;"),P=(0,p.default)("div",{target:"ejsnxgj13"})({marginTop:24},"label:DivButtonSkeleton;"),E=()=>(0,i.jsxs)(y,Object.assign({isLoading:!0},{children:[(0,i.jsx)(c.sO,{height:20,width:120},void 0),(0,i.jsx)(S,{children:(0,i.jsx)(c.sO,{height:30,width:"100%"},void 0)},void 0),(0,i.jsx)(k,{children:(0,i.jsx)(g.i,{loading:!0,size:24,avatarUri:"",nickname:""},void 0)},void 0),(0,i.jsx)(R,{children:(0,i.jsx)(h.D,{loading:!0,type:"card"},void 0)},void 0),(0,i.jsx)(I,{children:(0,i.jsx)(c.sO,{height:42,width:"100%"},void 0)},void 0),(0,i.jsx)(T,{children:(0,i.jsx)(c.sO,{height:20,width:80},void 0)},void 0),(0,i.jsx)(P,{children:(0,i.jsx)(c.sO,{height:36,width:140},void 0)},void 0)]}),void 0);var D=o(63161),M=o(70091);const O=e=>{var t,o,r,l,s;const{loading:d,eventId:u,title:v,desc:p,status:f,startTime:_,duration:S,relatedVideoCount:I,host:T,btnDisabled:P,btnStyle:O,btnText:F,onBtnClick:B,onCardHover:q,onCardClick:G,onCardShow:z}=e,N=(0,m.s)(),{language:U}=M.t,W=(0,D.W6)(),V=(0,n.useMemo)((()=>{var e;return null!==(e=null==T?void 0:T.avatar_medium.url_list)&&void 0!==e?e:[]}),[T]),$=(0,n.useCallback)((e=>{null==B||B(),e.stopPropagation(),e.preventDefault()}),[B]),H=(0,n.useRef)(null),K=(0,n.useRef)(!1),X=(0,n.useCallback)((e=>{e[0].intersectionRatio<=0||K.current||(null==z||z(),K.current=!0)}),[]);(0,a.BL)({callback:X,element:H});const J=(0,n.useCallback)((()=>{null==G||G(),W.push(`/live/event/${u}?enter_from=list_live_event_card`)}),[W,G]);return d?(0,i.jsx)(E,{},void 0):(0,i.jsxs)(y,Object.assign({onMouseEnter:q,onClick:J,ref:H},{children:[(0,i.jsx)(b,{children:(0,i.jsx)(x,{text:N("event_dm_share_message_card")},void 0)},void 0),(0,i.jsx)(w,{children:(0,i.jsx)(c.QP,Object.assign({nowrap:!0,truncate:!0,block:!0,type:"H6",color:"TextPrimary",marginBlockStart:0,marginBlockEnd:0},{children:v}),void 0)},void 0),(0,i.jsx)(k,{children:(0,i.jsx)(g.i,{size:24,loading:!1,avatarUri:V,nickname:null!==(t=null==T?void 0:T.nickname)&&void 0!==t?t:"",uniqueId:null!==(o=null==T?void 0:T.unique_id)&&void 0!==o?o:"",followersCount:null!==(s=null===(l=null===(r=null==T?void 0:T.followers_detail)||void 0===r?void 0:r[0])||void 0===l?void 0:l.fans_count)&&void 0!==s?s:0,verified:Boolean((null==T?void 0:T.custom_verify)||(null==T?void 0:T.enterprise_verify_reason)),isLiving:5===f},void 0)},void 0),(0,i.jsx)(R,{children:(0,i.jsx)(h.D,{type:"card",loading:!1,startTime:_,duration:S,lang:U},void 0)},void 0),(0,i.jsx)(C,{children:(0,i.jsx)(j,{children:p},void 0)},void 0),(0,i.jsx)(L,{children:`${I} ${N("webLIVE_enableEvent_eventPage_relateVideoHeader")}`},void 0),(0,i.jsx)(A,{children:(0,i.jsx)(c.I0,{variant:"primary",size:"medium",deprecatedStyle:Object.assign({minWidth:"140px",borderRadius:"6px"},O),label:F,disabled:P,onClick:$},void 0)},void 0)]}),void 0)},F=(0,p.default)("div",{target:"eaiv8f60"})({width:"100%",display:"flex",flexDirection:"column"},"label:DivEventListContainer;"),B=(0,p.default)("div",{target:"eaiv8f61"})((({columnsCount:e})=>[{width:"100%",display:"grid",gridColumnGap:16,gridRowGap:16,gridTemplateColumns:`repeat(${e}, minmax(468px, 1fr))`}]),"label:DivEventList;"),q=(0,p.default)("div",{target:"eaiv8f62"})({width:"100%",display:"flex"},"label:DivLoadingWrapper;"),G=(0,p.default)("div",{target:"eaiv8f63"})({height:1,width:"100%"},"label:DivScrollBottomElement;"),z=(0,n.forwardRef)(((e,t)=>{const o=(0,n.useRef)(null),{items:r=[],itemsPerRow:l=2,loading:s,hasMore:m,onLoadMore:h,onEventSubscribe:g}=e,p=(0,n.useCallback)((()=>{m&&h()}),[h,m]);var f,_;f=o,_=p,(0,a.BL)({callback:e=>{const[t]=e;t&&t.intersectionRatio>0&&_()},element:f});const y=(0,v.K)({handleEventSubscribe:g}),b=(0,n.useCallback)(((e,t)=>{const{id:o,host:i,has_subscribed:n}=e;o&&u.Zz.handleLiveEventCardAction(u.Lh.CardClick,{anchor_id:(null==i?void 0:i.uid)||"",live_event_id:o,impr_position:String(t+1),is_registered:n})}),[]),x=(0,n.useCallback)(((e,t)=>{const{id:o,host:i,has_subscribed:n}=e;o&&u.Zz.handleLiveEventCardAction(u.Lh.CardHover,{anchor_id:(null==i?void 0:i.uid)||"",live_event_id:o,impr_position:String(t+1),is_registered:n})}),[]),w=(0,n.useCallback)(((e,t)=>{const{id:o,host:i,has_subscribed:n}=e;o&&u.Zz.handleLiveEventCardAction(u.Lh.CardShow,{anchor_id:(null==i?void 0:i.uid)||"",live_event_id:o,impr_position:String(t+1),is_registered:n})}),[]),S=r.map(((e,t)=>{var o;const{btnText:n,btnDisabled:r,btnStyle:l,onBtnClick:a}=y(e,t);return(0,i.jsx)(O,{loading:!(null==e?void 0:e.id),eventId:null==e?void 0:e.id,title:null==e?void 0:e.title,desc:null==e?void 0:e.desc,status:null==e?void 0:e.status,startTime:null==e?void 0:e.start_time,duration:null==e?void 0:e.duration,host:null==e?void 0:e.host,relatedVideoCount:null!==(o=null==e?void 0:e.related_video_count)&&void 0!==o?o:0,btnText:n,btnStyle:l,btnDisabled:r,onBtnClick:a,onCardHover:()=>x(e,t),onCardClick:()=>b(e,t),onCardShow:()=>w(e,t)},null==e?void 0:e.id)})),C=Math.ceil(r.length/l)*l-r.length||l;return s&&S.push(...d()(C).map((e=>(0,i.jsx)(O,{loading:!0},e)))),(0,i.jsxs)(F,Object.assign({ref:t},{children:[(0,i.jsx)(B,Object.assign({columnsCount:l},{children:S}),void 0),s&&m&&(0,i.jsx)(q,{children:(0,i.jsx)(c.sg,{center:!0},void 0)},void 0),(0,i.jsx)(G,{ref:o},void 0)]}),void 0)}));var N=o(82617);const U=(0,p.default)("div",{target:"eon6mqz0"})({width:"100%",display:"flex",flexDirection:"column",paddingBottom:18},"label:DivEventRecommendContainer;"),W=(0,p.default)("div",{target:"eon6mqz1"})((({theme:e})=>[{position:"fixed",bottom:16,zIndex:1001},"rtl"===e.direction?{left:32}:{right:32}]),"label:DivUpToTopButtonContainer;"),V=(0,p.default)("button",{target:"eon6mqz2"})((({theme:e})=>({cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderWidth:0,borderRadius:"100%",background:e.colors.Primary,boxShadow:`0 2px 8px ${e.colors.ShadowSecondary}`,":hover":{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.06), rgba(0, 0, 0, 0.06)), #FE2C55"},":active":{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.12), rgba(0, 0, 0, 0.12)), #FE2C55"}})),"label:ButtonIconContainer;"),$=(0,p.default)(N.A,{target:"eon6mqz3"})({width:15,height:13,fill:"#FFF"},"label:StyledIconUpToTop;"),H=(0,n.memo)((e=>{var t;const{scrollRef:o,showBackToTop:s,shouldLoadMore:d=!0,defaultCount:c=12,defaultColumnCount:u,exclusiveEventIds:v,onSubscribeUpdate:m,onEventListEmpty:h}=e,g=(0,n.useRef)(null),p=((e,t)=>{const[o,i]=(0,n.useState)(0),[r,l]=(0,n.useState)(0);return(0,n.useEffect)((()=>{if(e.current){const t=e.current.getBoundingClientRect();i(t.width)}}),[e]),(0,a.wY)({callback:e=>{const[t]=e;if(t){const{contentRect:e}=t;i(e.width)}},element:e}),(0,n.useEffect)((()=>{if(!o||o<=0)return;const e=(e=>{const t=Math.floor(e/484);return 16*(t-1)+468*t<e?t:0})(o);e&&l(t&&e>t?t:e)}),[o,t]),r})(g,u),f=((e,t)=>{const[o,i]=(0,r.Su)(l.p),{version:a,hasMore:s=!0,pos:d}=o.recommendListExtra||{},{recommendList:c,loadingState:u,initLoadingState:v}=o,m=(0,n.useCallback)((()=>{i.getRecommendList({count:e})}),[i,e]),h=(0,n.useCallback)((()=>{i.getRecommendList({version:a,last_pos:d,count:e})}),[i,a,d,e]),g=(0,n.useCallback)((({eventId:e,anchorId:t,action:o})=>{o===l.H.subscribe?i.subscribe({event_id:e,author_id:t}):i.unsubscribe({event_id:e})}),[i]);return(0,n.useEffect)((()=>{m()}),[m]),(0,n.useMemo)((()=>{var o;return{recommendList:t?null===(o=c.filter((e=>!t.includes(null==e?void 0:e.id))))||void 0===o?void 0:o.slice(0,e):c,loadingState:u,hasMore:s,initLoadFailed:3===v,loadFeed:h,handleEventSubscribe:g}}),[c,u,v,s,e,t,h,g])})(c,v),_=[1,3].includes(null==f?void 0:f.loadingState);(0,n.useEffect)((()=>{(null==f?void 0:f.initLoadFailed)&&(null==h||h())}),[null==f?void 0:f.initLoadFailed,h]);const y=(0,n.useCallback)((()=>{1!==f.loadingState&&(null==f||f.loadFeed())}),[f]),b=(0,n.useCallback)((e=>{null==f||f.handleEventSubscribe(e),null==m||m(e.eventId)}),[f,m]),x=(0,n.useCallback)((()=>{var e,t;if(!g.current)return;const i=(null===(e=g.current.getBoundingClientRect())||void 0===e?void 0:e.top)||0;null===(t=null==o?void 0:o.current)||void 0===t||t.scrollTo({top:i,behavior:"smooth"})}),[]);return(0,i.jsxs)(U,{children:[(0,i.jsx)(z,{ref:g,loading:_,itemsPerRow:p,items:null==f?void 0:f.recommendList,hasMore:(null==f?void 0:f.hasMore)&&d,onLoadMore:y,onEventSubscribe:b},void 0),s&&(null===(t=null==f?void 0:f.recommendList)||void 0===t?void 0:t.length)>0&&(0,i.jsx)(W,Object.assign({onClick:x},{children:(0,i.jsx)(V,{children:(0,i.jsx)($,{},void 0)},void 0)}),void 0)]},void 0)}))},58254:(e,t,o)=>{o.d(t,{f:()=>y,m:()=>_});var i=o(27334),n=o(52528),r=o(38654),l=o(4514),a=o(15474),s=o(6690),d=o(65622),c=o(22018),u=o(11379),v=o(46381),m=o(51787);const h=e=>{const{eventId:t}=e,o=(0,d.useRef)(null),{list:n}=function(e,t){const{data:o}=(0,m.A)((t=>function(e){return(0,u.sH)(this,void 0,void 0,(function*(){let t=!1;const o=yield(0,v.h)("/tiktok/event/subscriber/list/v1",{query:e,baseUrlType:4});let i=Number(e.offset);return 0===o.status_code&&(i+=Number(e.count),o.has_more||(t=!0)),{list:o.subscribers||[],offset:i,isNoMore:t}}))}({offset:(null==t?void 0:t.offset)||0,count:20,event_id:e})),{target:t,isNoMore:e=>null==e?void 0:e.isNoMore});return{list:(null==o?void 0:o.list)||[]}}(t,o);return(0,i.jsx)(l.Ph,Object.assign({ref:o},{children:(0,i.jsx)(l.Zr,{children:n.map((e=>{var t;return(0,i.jsx)(l.GM,{children:(0,i.jsx)(c.q,{size:"large",uniqueId:e.unique_id||"",nickname:e.nickname,href:`/@${e.unique_id}`,avatarUri:null!==(t=e.avatar_medium.url_list)&&void 0!==t?t:[],verified:Boolean(e.custom_verify||e.enterprise_verify_reason)},void 0)},e.unique_id)}))},void 0)}),void 0)};var g=o(52597),p=o(46944),f=o(70091);const _=()=>{const{language:e}=f.t;return{isRTL:"ar"===e||"ur"===e||"he-IL"===e}},y=({num:e=0,loading:t,eventId:o})=>{const d=(0,n.s)(),{isRTL:c}=_(),u=(0,a.eb)(),v=d("webLIVE_enableEvent_eventPage_numRegisterSubTitle",{num:(0,r.G)(e)}),m=c?(0,i.jsx)(l.eS,{},void 0):(0,i.jsx)(l.Dj,{},void 0);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(l.bA,Object.assign({onClick:()=>{0!==Number(e)&&(p.f.handleLiveEventCheckRegister({live_event_id:o,register_cnt:e}),u.open())}},{children:[(0,i.jsx)(l.tT,{},void 0),t?(0,i.jsx)(g.aw,{lines:1},void 0):(0,i.jsxs)(l.Hq,{children:[v,Number(e)>0?m:null]},void 0)]}),void 0),(0,i.jsxs)(a.nO,Object.assign({},u,{width:"Small",height:"Compact"},{children:[(0,i.jsxs)(l.qA,{children:[(0,i.jsxs)(l.qG,{children:[(0,i.jsx)(l.Fh,{children:d("webLIVE_enableEvent_eventRegisterPage_numRegisterTitle")},void 0),(0,i.jsx)(l.Ko,Object.assign({onClick:()=>{u.close()}},{children:(0,i.jsx)(s.A,{width:14,height:14},void 0)}),void 0)]},void 0),(0,i.jsx)(l.Bs,{children:(0,i.jsx)(a.Fm,{children:v},void 0)},void 0)]},void 0),(0,i.jsx)(h,{eventId:o},void 0)]}),void 0)]},void 0)}},4514:(e,t,o)=>{o.d(t,{$u:()=>C,Bs:()=>G,Ck:()=>k,Dj:()=>T,Fh:()=>z,Fj:()=>h,GM:()=>U,Hq:()=>D,Kb:()=>b,Ko:()=>q,MS:()=>S,Mt:()=>j,Ph:()=>W,Qf:()=>O,Qu:()=>_,UP:()=>x,Zr:()=>N,ai:()=>f,bA:()=>E,bC:()=>w,dM:()=>y,eS:()=>A,jC:()=>p,qA:()=>F,qG:()=>B,tT:()=>R,u:()=>g,wL:()=>M,yv:()=>P});var i=o(2032),n=(o(3381),o(50975)),r=o(53240),l=o(52597),a=o(23810),s=o(28552),d=o(97291),c=o(23356),u=o(58733),v=o(34895),m=o(67643);const h=(0,i.default)("div",{target:"e45pb9l0"})((({showRecommend:e})=>Object.assign({maxWidth:594,minHeight:"100%",margin:"32px 0",display:"flex",flexDirection:"column","@media(max-width: 720px)":{marginLeft:40,marginRight:40}},e?{}:{marginLeft:"auto",marginRight:"auto"})),"label:DivEventContainer;"),g=(0,i.default)(n.j,{target:"e45pb9l2"})((({theme:{direction:e}})=>[(0,r.mp)({direction:e}),{whiteSpace:"nowrap",display:"block",padding:"0 5px"}]),"label:StyledLiveTag;"),p=(0,i.default)(l.eg,{target:"e45pb9l3"})({width:"100%"},"label:StyledEventTitleSkeleton;"),f=(0,i.default)("div",{target:"e45pb9l4"})({position:"relative",display:"flex",justifyContent:"space-between"},"label:DivEventLayoutTitle;"),_=(0,i.default)("div",{target:"e45pb9l6"})((({theme:e})=>({color:e.colors.TextPrimary,fontSize:32,lineHeight:"36px",fontWeight:"bold",fontFamily:e.fontFamilies.TikTokDisplayFont})),"label:DivEventTitle;"),y=(0,i.default)("span",{target:"e45pb9l7"})((({theme:{direction:e}})=>[(0,r.mp)({direction:e,marginEnd:16}),{verticalAlign:"bottom"}]),"label:SpanTitle;"),b=(0,i.default)("span",{target:"e45pb9l8"})({padding:"8px 0",display:"inline-block"},"label:SpanTagWrapper;"),x=(0,i.default)("div",{target:"e45pb9l9"})((({theme:e})=>({color:e.colors.TextPrimary})),"label:DivEventInfo;"),w=(0,i.default)("div",{target:"e45pb9l12"})({marginTop:24},"label:DivEventAuthor;"),S=(0,i.default)("div",{target:"e45pb9l13"})({width:"100%",margin:"24px auto"},"label:DivEventAction;"),C=(0,i.default)(a.y,{target:"e45pb9l15"})((({theme:e,available:t})=>({padding:"7px 40px",boxSizing:"border-box",borderRadius:"6px",whiteSpace:"nowrap",background:t?e.colors.Primary:e.colors.BGInput2,color:t?e.colors.ConstTextInverse:e.colors.TextQuaternary,":hover":{background:t?"linear-gradient(0deg, rgba(0, 0, 0, 0.06), rgba(0, 0, 0, 0.06)), #FE2C55":e.colors.BGInput2},":active":{background:t?"linear-gradient(0deg, rgba(0, 0, 0, 0.12), rgba(0, 0, 0, 0.12)), #FE2C55":e.colors.BGInput2}})),"label:StyledRegisterButton;"),I=e=>(0,i.default)(e,{target:"e45pb9l16"})((({theme:e})=>[{height:20,width:20,color:e.colors.TextSecondary,verticalAlign:"middle"},(0,r.mp)({direction:e.direction,marginEnd:8})])),j=I(s.A),k=I(d.A),R=(I(c.A),I(u.A)),L=e=>(0,i.default)(e,{target:"e45pb9l17"})((({theme:e})=>[{height:16,width:16,color:e.colors.TextSecondary,verticalAlign:"middle"},(0,r.mp)({direction:e.direction,marginStart:6})])),T=L(v.A),A=L(m.A),P=(0,i.default)("div",{target:"e45pb9l18"})({fontSize:16,lineHeight:"1.3",marginTop:"24px",height:"21px",display:"flex",alignItems:"center"},"label:DivLiveEventDate;"),E=(0,i.default)("div",{target:"e45pb9l19"})({fontSize:16,lineHeight:"1.3",margin:"12px 0",height:"21px",display:"flex",alignItems:"center"},"label:DivLiveEventTime;"),D=(0,i.default)("span",{target:"e45pb9l20"})({cursor:"pointer"},"label:SpanCursor;"),M=(0,i.default)(l.aw,{target:"e45pb9l21"})({"div:last-child":{width:"100%"}},"label:StyledDateTimeSkeleton;"),O=(0,i.default)("div",{target:"e45pb9l22"})({fontSize:16,lineHeight:1.3,display:"flex"},"label:DivLiveEventDescription;"),F=(0,i.default)("div",{target:"e45pb9l23"})({padding:"32px"},"label:DivModalHeader;"),B=(0,i.default)("div",{target:"e45pb9l24"})({display:"flex",alignItems:"center",height:"30px"},"label:DivModalTitleContainer;"),q=(0,i.default)("div",{target:"e45pb9l25"})({cursor:"pointer",padding:"9px",height:"32px"},"label:DivCloseButton;"),G=(0,i.default)("div",{target:"e45pb9l26"})({marginTop:"4px"},"label:DivSubTitle;"),z=(0,i.default)("h4",{target:"e45pb9l27"})((({theme:e})=>({fontSize:"20px",lineHeight:"32px",color:e.colors.TextPrimary,fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.bold,textAlign:"rtl"===e.direction?"right":"left",flex:1})),"label:H4FormTitle;"),N=(0,i.default)("ul",{target:"e45pb9l28"})({padding:0,margin:"0 32px",listStyleType:"none"},"label:UlAccountList;"),U=(0,i.default)("li",{target:"e45pb9l29"})({height:64,display:"flex",alignItems:"center"},"label:LlAccount;"),W=(0,i.default)("div",{target:"e45pb9l30"})({height:530,overflowY:"auto",overflowX:"hidden"},"label:DivModalBody;")},58653:(e,t,o)=>{function i(e){return Boolean(e)&&(5===(null==e?void 0:e.status)||4===(null==e?void 0:e.status))}function n(e,t){const o=Date.now()/1e3;return o>e-600&&o<e+t}o.d(t,{N:()=>n,y:()=>i})},66165:(e,t,o)=>{o.d(t,{NB:()=>p,XD:()=>g,u$:()=>m});var i=o(34491),n=o(65622),r=o(88457),l=o(14218),a=o(28143),s=o(50645),d=o(96046),c=o(3349),u=o(83922),v=o(70091);function m(){const e=(0,i.Ph)(a.Q,{selector:e=>e.playMode,dependencies:[]});return(0,n.useMemo)((()=>"theater_mode"===e),[e])}let h=!(0,r.fU)()&&(0,s.TC)();function g(){const e=(0,d.KG)(),t=(0,i.Ph)(c.W,{selector:e=>e.liveRoomUserInfo,dependencies:[]}),{roomInfo:o,isMultiGuestRoom:r,isGuestConnection:l,requestId:s}=(0,i.Ph)(a.Q,{selector:e=>({roomInfo:e.roomInfo,isMultiGuestRoom:e.isMultiGuestRoom,isGuestConnection:e.isGuestConnection,requestId:e.requestId}),dependencies:[]});return(0,n.useMemo)((()=>{var i,n,a,d,c,u,v,m,h,g,p,f,_,y,b,x,w,S,C,I,j,k,R;return{roomId:null!==(i=null==o?void 0:o.id_str)&&void 0!==i?i:null==t?void 0:t.user.roomId,anchorId:null!==(a=null===(n=null==o?void 0:o.owner)||void 0===n?void 0:n.id_str)&&void 0!==a?a:null==t?void 0:t.user.id,uniqueId:null!==(u=null!==(c=null===(d=null==o?void 0:o.owner)||void 0===d?void 0:d.display_id)&&void 0!==c?c:null==t?void 0:t.user.uniqueId)&&void 0!==u?u:e,avatarThumb:null!==(g=null!==(h=null===(m=null===(v=null==o?void 0:o.owner)||void 0===v?void 0:v.avatar_thumb)||void 0===m?void 0:m.url_list)&&void 0!==h?h:null==t?void 0:t.user.avatarThumb)&&void 0!==g?g:[],nickname:null!==(f=null===(p=null==o?void 0:o.owner)||void 0===p?void 0:p.nickname)&&void 0!==f?f:null==t?void 0:t.user.nickname,title:null!==(_=null==o?void 0:o.title)&&void 0!==_?_:null===(y=null==t?void 0:t.liveRoom)||void 0===y?void 0:y.title,verified:null!==(x=null===(b=null==o?void 0:o.owner)||void 0===b?void 0:b.verified)&&void 0!==x?x:null===(w=null==t?void 0:t.user)||void 0===w?void 0:w.verified,liveProLabel:(null===(S=null==o?void 0:o.anchor_live_pro_info)||void 0===S?void 0:S.is_live_pro)?null===(C=null==o?void 0:o.anchor_live_pro_info)||void 0===C?void 0:C.label:void 0,followStatus:Number(null===(j=null===(I=null==o?void 0:o.owner)||void 0===I?void 0:I.follow_info)||void 0===j?void 0:j.follow_status)||0,liveProType:(null===(k=null==o?void 0:o.anchor_live_pro_info)||void 0===k?void 0:k.is_live_pro)?null===(R=null==o?void 0:o.anchor_live_pro_info)||void 0===R?void 0:R.live_pro_type:void 0,isMultiGuestRoom:r,isGuestConnection:l,requestId:s}}),[o,t,e,r,l,s])}function p(){const e=function(){const e=(0,d.KG)(),{language:t,appType:o}=v.t;return(0,n.useMemo)((()=>({uniqueId:String(e).toLowerCase(),webcast_language:t,appType:o,aid:String(l.xE),sourceType:54,isSSR:h})),[e,t,o])}(),{canWatchLive:t}=(0,u.I)(),o=(0,i.wA)(c.W);(0,n.useEffect)((()=>{t&&(o.setLoadingState({getUserInfo:0}),o.getUserInfo(e),h=!1)}),[o,e,t])}},3349:(e,t,o)=>{o.d(t,{W:()=>M});var i,n=o(11379),r=o(83238),l=o(68055),a=o(54954),s=o(2809),d=o.n(s),c=o(73766),u=o(74895),v=o(59158),m=o(33583),h=o(90245),g=o(33293),p=o(60057),f=o(88314),_=o(72038),y=o(94488),b=o(33152),x=o(35219),w=o(50645),S=o(67266),C=o(8580),I=o(28143),j=o(65370),k=o(72917),R=o(65478),L=o(63249),T=o(25198),A=o(12686),P=o(40780),E=o(63323);!function(e){e[e.Preparing=30019]="Preparing",e[e.EndLive=30003]="EndLive",e[e.Ban=30012]="Ban",e[e.Blocked=30006]="Blocked",e[e.LiveRoomInBox=30013]="LiveRoomInBox",e[e.Kickout=30014]="Kickout",e[e.AreaBlock=47004]="AreaBlock",e[e.IsAnchor=30005]="IsAnchor",e[e.NotGatedAuth=4003043]="NotGatedAuth",e[e.AgeGated=4003110]="AgeGated",e[e.RoomLCCLimited=4003157]="RoomLCCLimited",e[e.RoomRegionalBlock=4003160]="RoomRegionalBlock",e[e.UnStable=4003098]="UnStable",e[e.UserRMBlock=4003175]="UserRMBlock",e[e.ParentRMBlock=4003176]="ParentRMBlock",e[e.ECommerceLCCBlock=4003182]="ECommerceLCCBlock",e[e.ECommerceUserRMBlock=4003186]="ECommerceUserRMBlock",e[e.ECommerceParentRMBlock=4003185]="ECommerceParentRMBlock"}(i||(i={}));const D={"-5":1,"-6":3};let M=class extends r.E{constructor(e,t,o,i,n,r,l){super(),this.service=e,this.roomModule=t,this.streamModule=o,this.slardar=i,this.user=n,this.multiGuestModule=r,this.liveApiSlardar=l,this.defaultState={loadingState:{getRecommendLive:0,getUserInfo:0,getUserStat:0},needLogin:!1,showLiveGate:!1,isAgeGateRoom:!1,recommendLiveRooms:[],liveRoomStatus:0}}setExtraRoomData(e,t){e.liveRoomExtra=t}setLoadingState(e,t){e.loadingState=Object.assign(Object.assign({},e.loadingState),t)}setLiveRoomStatus(e,t){e.liveRoomStatus=t}setRecommendLiveRooms(e,t){e.recommendLiveRooms=t}setCurrentLiveRoomUserInfo(e,t){e.liveRoomUserInfo=t}firstScreenP2Start(){(0,E.NO)()}setLiveGate(e,t){e.showLiveGate=t}setNeedLogin(e,t){e.needLogin=t}setIsAgeGateRoom(e,t){e.isAgeGateRoom=t}setTmpUniqueId(e,t){e.tmpUniqueId=t}multiSetState(e,t){return Object.assign(Object.assign({},e),t)}leaveRoom(e){return e.pipe((0,g.Z)((e=>{var t;return this.service.leaveRoom({room_id:e,reason:null!==(t=D[`${this.state.liveRoomStatus}`])&&void 0!==t?t:0}).pipe((0,g.Z)((()=>(0,c.of)())))})))}handleEnterRoomSuccess({roomData:e,abTestVersion:t,isOfficialChannelRoom:o}){var i,n,r,l,a,s,d,c,u,v,m;(0,w.ri)(e);const h=this.roomModule.state.enterRoomWithSSR,g=this.streamModule.state.streamId,p=(0,A.B)(e),f=null==p?void 0:p.id_str,_=null===(i=null==p?void 0:p.live_core_sdk_data)||void 0===i?void 0:i.pull_data,y=h&&g&&g===f,b=[],x=null==e?void 0:e.status;let S=null!=x?x:0;x>4&&(S=2);const C=null===(l=null===(r=null===(n=e.social_interaction)||void 0===n?void 0:n.multi_live)||void 0===r?void 0:r.room_multi_guest_linkmic_info)||void 0===l?void 0:l.pack_err_code,I=null!==(u=null===(c=null===(d=null===(s=null===(a=e.social_interaction)||void 0===a?void 0:a.multi_live)||void 0===s?void 0:s.room_multi_guest_linkmic_info)||void 0===d?void 0:d.multi_guest_linkmic_info)||void 0===c?void 0:c.linked_users)&&void 0!==u?u:[],j=0===C&&I.length>1;return 3===x&&(j?S=2:b.push(this.streamModule.getActions().setNeedDestroyPlayer(!0))),!y&&_&&b.push(this.streamModule.getActions().updateRoomStream({pullData:_,streamId:f})),this.liveApiSlardar.handleEnterRoomApiResultReport(),[this.roomModule.getActions().setFollowStatus({followStatus:null===(m=null===(v=null==e?void 0:e.owner)||void 0===v?void 0:v.follow_info)||void 0===m?void 0:m.follow_status,roomId:String(e.id_str)}),this.getActions().handleMultiGuestUsers({roomInfo:e,abTestVersion:t}),this.getActions().setLiveRoomStatus(S),this.roomModule.getActions().setRoomInfo(e),this.roomModule.getActions().setIsOfficialChannelRoom(o),...b]}handleEnterRoomStatusCode({roomId:e,roomData:t,statusCode:o,isBotType:i,message:n,enterFromMerge:r,enterMethod:l}){var a,s,d,c;const u=S.m.getRoomDurationPublicParams(),v={room_id:e,anchor_id:null!==(s=null===(a=t.owner)||void 0===a?void 0:a.id_str)&&void 0!==s?s:null===(c=null===(d=this.state.liveRoomUserInfo)||void 0===d?void 0:d.user)||void 0===c?void 0:c.id,live_type:(0,L.FP)(t.live_room_mode),enter_from_merge:null!=r?r:u.enterFromMerge,enter_method:null!=l?l:u.enterMethod};this.slardar.setCannotReportForSSR(),this.slardar.closeCSRReport(C.Vj.ENTER_ROOM_API_END),this.liveApiSlardar.handleEnterRoomApiResultReport({statusCode:o,errorMsg:n}),L.mx.handleRecLivePlay(v),L.mx.handleLivePlayFail(Object.assign(Object.assign({},v),{error_code:205,detail_error_code:o}));const m=[this.roomModule.getActions().setRoomInfo(null),this.streamModule.getActions().clearStreamInfo(),this.roomModule.getActions().setPlayMode("webpage"),this.roomModule.getActions().setEnterRoomMessage(n)];return 4003072===o?m.push(this.getActions().setLiveRoomStatus(-3)):4003135===o||(0,w.I_)(t,o)?(m.push(this.getActions().setLiveRoomStatus(-4)),m[0]=this.roomModule.getActions().setRoomInfo({id_str:t.id_str,id:t.id})):4003157===o?m.push(this.getActions().setLiveRoomStatus(-5)):4003160===o?m.push(this.getActions().setLiveRoomStatus(-6)):4003176===o?m.push(this.getActions().setLiveRoomStatus(-9)):4003175===o?m.push(this.getActions().setLiveRoomStatus(-8)):[47004,30006,30013].includes(o)?m.push(this.streamModule.getActions().setFatalType(1),this.streamModule.getActions().setIsFatal(!0),this.getActions().setLiveRoomStatus(-7)):20003===o?(m.push(this.streamModule.getActions().setFatalType(3),this.streamModule.getActions().setIsFatal(!0)),i||m.push(this.getActions().setNeedLogin(!0))):30019===o||4003098===o?m.push(this.getActions().setLiveRoomStatus(1)):30003===o||30012===o?m.push(this.getActions().setLiveRoomStatus(4)):4003043===o?m.push(this.getActions().setLiveGate(!0)):4003110===o?m.push(this.getActions().setIsAgeGateRoom(!0)):4003182===o?m.push(this.getActions().setLiveRoomStatus(-11)):4003186===o?m.push(this.getActions().setLiveRoomStatus(-12)):4003185===o?m.push(this.getActions().setLiveRoomStatus(-13)):m.push(this.streamModule.getActions().setFatalType(0),this.streamModule.getActions().setIsFatal(!0)),m.push(this.streamModule.getActions().setNeedDestroyPlayer(!0)),m}enterRoom(e){return e.pipe((0,p.n)((({roomId:e,botType:t,deviceType:o,abTestVersion:i,enter_from_merge:n,enter_method:r})=>{const l=Date.now();return this.slardar.handleLiveEnterRoomStart(e,i),this.service.enterRoom(e,{device_type:o,enter_from_merge:n,enter_method:r}).pipe((0,f.Q)(this.enterRoomDispose$),(0,p.n)((({data:o,status_code:a,message:s,extra:d})=>{var u,v,m,h;const g=(Date.now()-l)/4,p=(null!==(u=null==d?void 0:d.now)&&void 0!==u?u:Date.now())+g-Date.now();(0,E.NO)();let f=a;this.slardar.handleLiveEnterRoomEnd(e,i);const _=[this.getActions().setExtraRoomData(d),this.roomModule.getActions().setNtpDiff(p)];if((0,w.yW)(o)&&(f=4003072),(0,w.I_)(o,f)&&(null===(m=null===(v=null==o?void 0:o.owner)||void 0===v?void 0:v.subscribe_info)||void 0===m?void 0:m.is_subscribe)){const e=this.handleEnterRoomSuccess({startFetchTimestamp:l,roomData:o,abTestVersion:i,isOfficialChannelRoom:!!(null==d?void 0:d.is_official_channel)});return(0,c.of)(..._,...e)}if(0!==f||(0,w.I_)(o,f)){const i=this.handleEnterRoomStatusCode({roomId:e,roomData:o,statusCode:f,isBotType:"others"!==t,message:null!==(h=o.prompts)&&void 0!==h?h:s,enterFromMerge:n,enterMethod:r});return(0,c.of)(..._,...i)}{const e=this.handleEnterRoomSuccess({startFetchTimestamp:l,roomData:o,abTestVersion:i,isOfficialChannelRoom:!!(null==d?void 0:d.is_official_channel)});return(0,c.of)(..._,...e)}})),(0,_.q)(this.roomModule.getActions().setLoadingState({enterRoom:2}),this.roomModule.getActions().setEnterRoomWithSSR(!1),this.getActions().firstScreenP2Start()),(0,u.Z)(this.getActions().multiSetState({liveRoomStatus:0,needLogin:!1,isAgeGateRoom:!1,showLiveGate:!1,liveRoomExtra:void 0,ntpTime:void 0,recommendLiveRooms:[],roomInfoPrompts:void 0}),this.roomModule.getActions().setLoadingState({enterRoom:1}),this.roomModule.getActions().setShowLiveChatWarning(null),this.roomModule.getActions().setEnterRoomMessage(void 0),this.streamModule.getActions().setIsFatal(!1)),(0,y.W)((e=>(this.liveApiSlardar.handleEnterRoomApiResultReport({httpCode:null==e?void 0:e.status,errorMsg:null==e?void 0:e.message,errorType:null==e?void 0:e.name}),this.slardar.setCannotReportForSSR(),this.slardar.closeCSRReport(C.Vj.ENTER_ROOM_API_END),(0,c.of)(this.roomModule.getActions().setLoadingState({enterRoom:3}),this.streamModule.getActions().setIsFatal(!0),this.streamModule.getActions().setFatalType(0),this.roomModule.getActions().setPlayMode("webpage"))))))})))}handleMultiGuestUsers(e){return e.pipe((0,g.Z)((({roomInfo:e})=>{var t,o,i,n,r,l,a,s;const d=null===(i=null===(o=null===(t=e.social_interaction)||void 0===t?void 0:t.multi_live)||void 0===o?void 0:o.room_multi_guest_linkmic_info)||void 0===i?void 0:i.pack_err_code;if(!e.with_linkmic)return(0,c.of)();if(0===d){const t=null!==(s=null===(a=null===(l=null===(r=null===(n=e.social_interaction)||void 0===n?void 0:n.multi_live)||void 0===r?void 0:r.room_multi_guest_linkmic_info)||void 0===l?void 0:l.multi_guest_linkmic_info)||void 0===a?void 0:a.linked_users)&&void 0!==s?s:[],{linkedMicUsers:o,linkedMicUserMap:i}=(0,P.M)(t);return(0,c.of)(this.roomModule.getActions().setIsGuestConnection(o.length>1),this.roomModule.getActions().setIsMultiGuestRoom(o.length>0),this.multiGuestModule.getActions().setMultiState({linkedMicUsers:o,linkedUsers:i}))}return(0,c.of)(this.multiGuestModule.getActions().getMultiGuestUserList({room_id:null==e?void 0:e.id_str}))})))}getRecommendLive(e){return e.pipe((0,g.Z)((e=>this.service.getRecommendLive(e).pipe((0,g.Z)((({data:e,status_code:t})=>0!==t?v.w:(0,c.of)(this.getActions().setRecommendLiveRooms(e)))),(0,_.q)(this.getActions().setLoadingState({getRecommendLive:2})),(0,u.Z)(this.getActions().setLoadingState({getRecommendLive:1})),(0,y.W)((e=>(this.slardar.handleError(e),(0,c.of)(this.getActions().setLoadingState({getRecommendLive:3})))))))))}getUserInfo(e){return e.pipe((0,g.Z)((e=>{var t,o,i;let n=[this.getActions().setTmpUniqueId(e.uniqueId),this.getActions().getUserInfoV2(e),this.roomModule.getActions().setEnterRoomWithSSR(null!==(t=e.isSSR)&&void 0!==t&&t)];const r=null===(i=null===(o=this.roomModule.state.roomInfo)||void 0===o?void 0:o.owner)||void 0===i?void 0:i.display_id;return r&&e.uniqueId!==r&&(n=[...n,this.getActions().multiSetState({liveRoomStatus:0,needLogin:!1,isAgeGateRoom:!1,showLiveGate:!1,liveRoomExtra:void 0,ntpTime:void 0,recommendLiveRooms:[],roomInfoPrompts:void 0}),this.roomModule.getActions().setShowLiveChatWarning(null),this.roomModule.getActions().setRoomInfo(null),this.streamModule.getActions().setNeedDestroyPlayer(!0),this.streamModule.getActions().clearStreamInfo()]),(0,c.of)(...n)})))}getUserInfoV2(e){return e.pipe((0,b.E)(this.user.state$),(0,p.n)((([e,t])=>{const{aid:o,sourceType:i,uniqueId:r,webcast_language:l="en"}=e,a=t.users[null!=r?r:""];let s;if(a){const e=t.stats[null!=r?r:""];s=(0,m.h)((0,c.of)(this.getActions().setLoadingState({getUserInfo:2}),this.getActions().setCurrentLiveRoomUserInfo({user:a,stats:e})))}else{const e={uniqueId:r,sourceType:i,aid:o,webcast_language:l};s=this.service.getUserRoomInfo(e).pipe((0,g.Z)((e=>{var t,o,{needFix:i}=e,r=(0,n.Tt)(e,["needFix"]);const{data:l,statusCode:a,prompts:s,extra:u}=r;if(0!==a){const e=C.zA[C.VT.INVALID_RES];throw this.liveApiSlardar.handleUserInfoApiResultReport({statusCode:a,errorMsg:null!=s?s:e}),new Error(e)}if(!l){const e=C.zA[C.VT.EMPTY_USER_INFO];throw this.liveApiSlardar.handleUserInfoApiResultReport({statusCode:a,errorMsg:e}),new Error(e)}const v=[];(null===(t=l.user)||void 0===t?void 0:t.id)&&v.push((0,c.of)(this.getActions().setLoadingState({getUserInfo:2})));const{id:h,uniqueId:p,roomId:f}=l.user;if(!f){const e=C.zA[C.VT.ROOM_ID_IS_NULL];throw this.liveApiSlardar.handleUserInfoApiResultReport({statusCode:a,errorMsg:e}),new Error(e)}return this.liveApiSlardar.handleUserInfoApiResultReport(),l.liveRoom&&(l.liveRoom.roomID=f),v.push((0,c.of)(this.getActions().setCurrentLiveRoomUserInfo(Object.assign(Object.assign({},l),{stats:Object.assign(Object.assign({},null===(o=this.state.liveRoomUserInfo)||void 0===o?void 0:o.stats),l.stats)})),this.roomModule.getActions().setRequestId(null==u?void 0:u.id))),this.service.getSEOLiveEvent(h).pipe((0,g.Z)((()=>{var e,t;const o=d()(r.data);null===(e=null==o?void 0:o.liveRoom)||void 0===e||delete e.streamData,null===(t=null==o?void 0:o.liveRoom)||void 0===t||delete t.hevcStreamData;const i=o.user;return delete o.stats.heartCount,v.push((0,c.of)(this.user.getActions().setUser(i)),(0,c.of)(this.user.getActions().setUserStats({stats:Object.assign({},o.stats),uniqueId:p}))),(0,m.h)(...v)})))})))}return s.pipe((0,y.W)((e=>{var t;Object.values(C.zA).includes(null==e?void 0:e.message)||this.liveApiSlardar.handleUserInfoApiResultReport({httpCode:null==e?void 0:e.status,errorMsg:null==e?void 0:e.message,errorType:null==e?void 0:e.name});const o=[this.getActions().setLoadingState({getUserInfo:3})];return(null===(t=this.roomModule.state.roomInfo)||void 0===t?void 0:t.id_str)||o.push(this.roomModule.getActions().setLoadingState({enterRoom:3}),this.roomModule.getActions().setRoomInfo(null),this.streamModule.getActions().clearStreamInfo(),this.streamModule.getActions().setIsFatal(!0),this.streamModule.getActions().setFatalType(4),this.roomModule.getActions().setPlayMode("webpage")),(0,c.of)(...o)})),(0,u.Z)(this.getActions().setLoadingState({getUserInfo:1})),(0,_.q)(this.terminate()),(0,f.Q)(this.dispose$))})))}};(0,n.Cg)([(0,l.uk)(),(0,n.Sn)("design:type",h.c)],M.prototype,"dispose$",void 0),(0,n.Cg)([(0,l.uk)(),(0,n.Sn)("design:type",h.c)],M.prototype,"enterRoomDispose$",void 0),(0,n.Cg)([(0,l.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Object]),(0,n.Sn)("design:returntype",void 0)],M.prototype,"setExtraRoomData",null),(0,n.Cg)([(0,l.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Object]),(0,n.Sn)("design:returntype",void 0)],M.prototype,"setLoadingState",null),(0,n.Cg)([(0,l.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Number]),(0,n.Sn)("design:returntype",void 0)],M.prototype,"setLiveRoomStatus",null),(0,n.Cg)([(0,l.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Array]),(0,n.Sn)("design:returntype",void 0)],M.prototype,"setRecommendLiveRooms",null),(0,n.Cg)([(0,l.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Object]),(0,n.Sn)("design:returntype",void 0)],M.prototype,"setCurrentLiveRoomUserInfo",null),(0,n.Cg)([(0,l.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[]),(0,n.Sn)("design:returntype",void 0)],M.prototype,"firstScreenP2Start",null),(0,n.Cg)([(0,l.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Boolean]),(0,n.Sn)("design:returntype",void 0)],M.prototype,"setLiveGate",null),(0,n.Cg)([(0,l.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Boolean]),(0,n.Sn)("design:returntype",void 0)],M.prototype,"setNeedLogin",null),(0,n.Cg)([(0,l.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Boolean]),(0,n.Sn)("design:returntype",void 0)],M.prototype,"setIsAgeGateRoom",null),(0,n.Cg)([(0,l.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,String]),(0,n.Sn)("design:returntype",void 0)],M.prototype,"setTmpUniqueId",null),(0,n.Cg)([(0,l.HI)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Object]),(0,n.Sn)("design:returntype",Object)],M.prototype,"multiSetState",null),(0,n.Cg)([(0,l.Mj)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[h.c]),(0,n.Sn)("design:returntype",h.c)],M.prototype,"leaveRoom",null),(0,n.Cg)([(0,l.Mj)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[h.c]),(0,n.Sn)("design:returntype",h.c)],M.prototype,"enterRoom",null),(0,n.Cg)([(0,l.Mj)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[h.c]),(0,n.Sn)("design:returntype",h.c)],M.prototype,"handleMultiGuestUsers",null),(0,n.Cg)([(0,l.Mj)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[h.c]),(0,n.Sn)("design:returntype",h.c)],M.prototype,"getRecommendLive",null),(0,n.Cg)([(0,l.Mj)({payloadGetter:1}),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[h.c]),(0,n.Sn)("design:returntype",h.c)],M.prototype,"getUserInfo",null),(0,n.Cg)([(0,l.Mj)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[h.c]),(0,n.Sn)("design:returntype",h.c)],M.prototype,"getUserInfoV2",null),M=(0,n.Cg)([(0,a.n)("LiveRoom"),(0,n.Sn)("design:paramtypes",[T.z,I.Q,j.T,C.lJ,x.U,k.Y,R.c])],M)},25198:(e,t,o)=>{o.d(t,{z:()=>c});var i=o(11379),n=o(49610),r=o(69872),l=o(73766),a=o(90064),s=o(2070),d=o(15907);let c=class{constructor(e){this.fetch=e,this.getUserDetail=e=>this.fetch.get("/api/user/detail/",{query:e}),this.getUserRoomInfo=e=>this.fetch.get("/api-live/user/room/",{query:e,baseUrlType:2}),this.getSEOLiveDetail=e=>this.fetch.get("/api/live/detail/",{query:e}),this.getSEOUserRoomDetail=e=>this.fetch.get("/api-live/room/detail",{query:e,baseUrlType:2}),this.getSEOLiveEvent=e=>(0,l.of)({}),this.leaveRoom=e=>this.fetch.post("/webcast/room/leave/",{body:r.stringify(e),baseUrlType:4,headers:{"Content-Type":a.Ty.FORM_ENCODE}}),this.enterRoom=(e,t)=>{var o,i,n;return this.fetch.post("/webcast/room/enter/",{query:{device_type:null!==(o=t.device_type)&&void 0!==o?o:"web_h264"},body:r.stringify({room_id:e,enter_source:`${null!==(i=t.enter_from_merge)&&void 0!==i?i:"others"}-${null!==(n=t.enter_method)&&void 0!==n?n:"others"}`}),baseUrlType:4,headers:{"Content-Type":a.Ty.FORM_ENCODE}})},this.getRecommendLive=e=>this.fetch.get("/webcast/room/recommend_live/",{query:{room_id:e,device_type:(0,d.x)().streamDeviceType},baseUrlType:4}),this.shareLiveRoom=e=>this.fetch.post("/webcast/room/share/",{query:e,baseUrlType:4,headers:{"Content-Type":a.Ty.FORM_ENCODE}})}};c=(0,i.Cg)([(0,n._)(),(0,i.Sn)("design:paramtypes",[s.pM])],c)},65555:(e,t,o)=>{o.d(t,{a:()=>y});var i=o(34491),n=o(65622),r=o(88457),l=o(52602),a=o(90028),s=o(2576),d=o(15907),c=o(32884),u=o(65370),v=o(28143),m=o(12607),h=o(50645),g=o(68298),p=o(70091),f=o(3349),_=o(556);function y({isOBSAccessRecalled:e}){var t,o;const{selectedTab:y,topRoomSet:b}=(0,c.R)(),{user:x}=p.t,{hevcSupport:w,openH265:S}=(0,d.G)(),{currentDefinitionKey:C}=(0,i.Ph)(u.T,{selector:e=>({currentDefinitionKey:e.currentDefinitionKey}),dependencies:[]}),{isDark:I}=(0,_.u)(),j=(0,n.useRef)({isDark:I});j.current={isDark:I};const{followStatus:k,playMode:R,requestId:L,showLiveChat:T,liveType:A,roomInfo:P,isGuestConnection:E,reportLinkType:D}=(0,i.Ph)(v.Q,{selector:e=>{var t;return{roomInfo:e.roomInfo,playMode:e.playMode,requestId:e.requestId,showLiveChat:e.showLiveChat,isGuestConnection:e.isGuestConnection,reportLinkType:e.reportLinkType,liveType:e.liveType,followStatus:(null===(t=e.roomInfo)||void 0===t?void 0:t.id_str)?e.followStatusMap[e.roomInfo.id_str]:0}},dependencies:[]}),{liveRoomUserInfo:M}=(0,i.Ph)(f.W,{selector:e=>({liveRoomUserInfo:e.liveRoomUserInfo}),dependencies:[]}),O=(0,n.useMemo)((()=>(0,r.fU)()||"0"===(0,l._S)(a.Xc)?"off":"on"),[]),{vCodecType:F}=(0,i.Ph)(u.T,{selector:e=>{var t,o;return{vCodecType:null!==(o=null===(t=(0,m.J4)(e))||void 0===t?void 0:t.vCodecKey)&&void 0!==o?o:"null"}},dependencies:[]}),B=P?!!(null==P?void 0:P.multi_stream_url):1===(null===(t=null==M?void 0:M.liveRoom)||void 0===t?void 0:t.multiStreamScene)&&1===(null===(o=null==M?void 0:M.liveRoom)||void 0===o?void 0:o.multiStreamSource),q=(0,s.OB)(!0);return(0,n.useMemo)((()=>{var t,o,i,n,r,l,a,s,d,c,u,v,m,p,f,_,I,G,z;return Object.assign({is_auto_play:O,enter_type:"manual",current_definition:C,request_id:L,isSupportedH265:w?"1":"0",is_h265_open:S?"1":"0",live_chat:T?"on":"off",room_id:null!==(t=null==P?void 0:P.id_str)&&void 0!==t?t:null==M?void 0:M.user.roomId,anchor_id:null!==(i=null===(o=null==P?void 0:P.owner)||void 0===o?void 0:o.id_str)&&void 0!==i?i:null==M?void 0:M.user.id,live_type:A,play_mode:R,follow_status:k,action_type:"click",enter_method:"others",enter_from_merge:"others",is_revoked_end:e?1:0,user_id:null==x?void 0:x.uid,cover_type:"user_upload",codec_type:F,hashtag_id:String(null!==(a=null!==(r=null===(n=null==P?void 0:P.hashtag)||void 0===n?void 0:n.id)&&void 0!==r?r:null===(l=null==M?void 0:M.liveRoom)||void 0===l?void 0:l.hashTagId)&&void 0!==a?a:""),gametag_id:String(null!==(v=null!==(c=null===(d=null===(s=null==P?void 0:P.game_tag)||void 0===s?void 0:s[0])||void 0===d?void 0:d.id)&&void 0!==c?c:null===(u=null==M?void 0:M.liveRoom)||void 0===u?void 0:u.gameTagId)&&void 0!==v?v:""),room_orientation:null!==(p=null===(m=null==P?void 0:P.room_auth)||void 0===m?void 0:m.Landscape)&&void 0!==p?p:0,is_guest_connection:E?"1":"0",is_anchor_official:(null!==(_=null===(f=null==P?void 0:P.owner)||void 0===f?void 0:f.verified)&&void 0!==_?_:null===(I=null==M?void 0:M.user)||void 0===I?void 0:I.verified)?1:0,is_dark_mode:j.current.isDark?"1":"0",is_personalized:q?"1":"0",is_multi_stream_room:B?"1":"0",connection_type:D,is_top_room:b.has((null==P?void 0:P.id_str)||"")?g.qw.pin:g.qw.common,is_top_tab:(null===(G=null==y?void 0:y.teaParams)||void 0===G?void 0:G.is_top_tab)||g.qw.common,is_tab_icon:(null===(z=null==y?void 0:y.teaParams)||void 0===z?void 0:z.is_tab_icon)||g.qw.common},(0,h.Gc)())}),[k,e,L,C,T,P,M,R,null==x?void 0:x.uid,F,E,q,y,B,D])}},79385:(e,t,o)=>{e.exports=o.p+"5e831e7445d5c63e780b.png"}}]);