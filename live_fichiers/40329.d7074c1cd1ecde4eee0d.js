"use strict";(globalThis.__LOADABLE_LOADED_CHUNKS__=globalThis.__LOADABLE_LOADED_CHUNKS__||[]).push([[40329],{89322:(e,t,i)=>{i.d(t,{A:()=>u});var n,o,r,a,s,l,d=i(65622);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},c.apply(null,arguments)}const u=function(e){return d.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 200 200",width:"1em",height:"1em"},e),n||(n=d.createElement("path",{fill:"#161823",fillRule:"evenodd",d:"M189.562 1.164a9.278 9.278 0 019.279 9.279v11.546a1.031 1.031 0 01-2.062 0V10.443a7.217 7.217 0 00-7.217-7.217h-11.546a1.031 1.031 0 010-2.062h11.546z",clipRule:"evenodd"})),d.createElement("path",{fill:"#25F4E8",fillRule:"evenodd",d:"M188.394 0a9.278 9.278 0 019.279 9.278v11.547a1.031 1.031 0 01-2.062 0V9.278a7.217 7.217 0 00-7.217-7.216h-11.546a1.031 1.031 0 010-2.062h11.546z",clipRule:"evenodd",style:{mixBlendMode:"multiply"}}),d.createElement("path",{fill:"#FE2C55",fillRule:"evenodd",d:"M190.722 2.328A9.278 9.278 0 01200 11.606v11.547a1.03 1.03 0 11-2.061 0V11.606a7.217 7.217 0 00-7.217-7.216h-11.546a1.03 1.03 0 110-2.062h11.546z",clipRule:"evenodd",style:{mixBlendMode:"multiply"}}),o||(o=d.createElement("path",{fill:"url(#qr-code-wrapper_svg__pattern0)",d:"M12.675 12.674h174.656v174.651H12.675V12.674z"})),r||(r=d.createElement("path",{fill:"white",d:"M80.931 81.443h38.146v38.144H80.931V81.443z"})),a||(a=d.createElement("path",{fill:"#161823",fillRule:"evenodd",d:"M1.163 10.443a9.278 9.278 0 019.279-9.279h11.546a1.03 1.03 0 110 2.062H10.442a7.216 7.216 0 00-7.217 7.217v11.546a1.031 1.031 0 11-2.062 0V10.443z",clipRule:"evenodd"})),d.createElement("path",{fill:"#25F4E8",fillRule:"evenodd",d:"M0 9.278A9.278 9.278 0 019.277 0h11.546a1.031 1.031 0 110 2.062H9.278A7.216 7.216 0 002.06 9.278v11.547a1.03 1.03 0 01-2.062 0V9.278z",clipRule:"evenodd",style:{mixBlendMode:"multiply"}}),d.createElement("path",{fill:"#FE2C55",fillRule:"evenodd",d:"M2.327 11.606a9.278 9.278 0 019.279-9.278h11.546a1.031 1.031 0 110 2.062H11.606a7.216 7.216 0 00-7.217 7.216v11.547a1.03 1.03 0 01-2.062 0V11.606z",clipRule:"evenodd",style:{mixBlendMode:"multiply"}}),s||(s=d.createElement("path",{fill:"#161823",fillRule:"evenodd",d:"M198.841 189.558a9.278 9.278 0 01-9.279 9.278h-11.546a1.03 1.03 0 110-2.062h11.546a7.217 7.217 0 007.217-7.216v-11.547a1.03 1.03 0 012.062 0v11.547z",clipRule:"evenodd"})),d.createElement("path",{fill:"#25F4E8",fillRule:"evenodd",d:"M197.673 188.393a9.278 9.278 0 01-9.278 9.278h-11.547a1.03 1.03 0 110-2.061h11.547a7.217 7.217 0 007.216-7.217v-11.546a1.03 1.03 0 112.062 0v11.546z",clipRule:"evenodd",style:{mixBlendMode:"multiply"}}),d.createElement("path",{fill:"#FE2C55",fillRule:"evenodd",d:"M200.001 190.722a9.278 9.278 0 01-9.279 9.278h-11.546a1.032 1.032 0 010-2.062h11.546a7.217 7.217 0 007.217-7.216v-11.547a1.03 1.03 0 112.062 0v11.547z",clipRule:"evenodd",style:{mixBlendMode:"multiply"}}),l||(l=d.createElement("path",{fill:"#161823",fillRule:"evenodd",d:"M10.442 198.836a9.278 9.278 0 01-9.279-9.278v-11.546a1.03 1.03 0 112.062 0v11.546a7.216 7.216 0 007.217 7.216h11.546a1.031 1.031 0 010 2.062H10.442z",clipRule:"evenodd"})))}},74647:(e,t,i)=>{i.d(t,{A:()=>s});var n,o,r=i(65622);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a.apply(null,arguments)}const s=function(e){return r.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 48 48",width:"1em",height:"1em"},e),n||(n=r.createElement("path",{fillRule:"evenodd",d:"M15.83 4A3.83 3.83 0 0012 7.83V12H7.83A3.83 3.83 0 004 15.83v24.34A3.83 3.83 0 007.83 44h24.34A3.83 3.83 0 0036 40.17v-4.34h4.17A3.83 3.83 0 0044 32V7.83A3.83 3.83 0 0040.17 4H15.83zm16.34 8H16V8h24v23.83h-4v-16A3.83 3.83 0 0032.17 12zM8 40V16h24v24H8z",clipRule:"evenodd"})),o||(o=r.createElement("path",{fillRule:"evenodd",d:"M19.57 37h1.1c.42 0 .76-.32.76-.71v-1.11c1.5-.2 2.64-.74 3.41-1.52A4.09 4.09 0 0026 30.74c0-1.42-.63-2.39-1.56-3.05a9.05 9.05 0 00-3-1.23v-2.51c.65.2 1.28.5 1.81.95.33.26.85.25 1.13-.1l1.03-1.27c.23-.29.2-.7-.1-.95a7.76 7.76 0 00-3.88-1.69v-1.18c0-.4-.34-.71-.76-.71h-1.1c-.41 0-.76.32-.76.71v1.15c-2.65.36-4.44 2.04-4.44 4.22 0 1.38.6 2.32 1.51 2.96.84.6 1.92.93 2.93 1.19v2.95a5.68 5.68 0 01-2.47-1.31.8.8 0 00-1.16.09l-1.04 1.33c-.2.28-.19.67.09.92 1.1 1 2.63 1.75 4.58 1.97v1.1c0 .4.35.72.76.72zm2.97-6.04c0 .44-.27.97-1.1 1.23v-2.27c.34.13.6.27.79.42.2.18.3.37.3.62zm-4.7-6.06c0-.46.3-.87.97-1.07v1.94a2.59 2.59 0 01-.71-.37c-.19-.15-.26-.3-.26-.5z",clipRule:"evenodd"})))}},48470:(e,t,i)=>{i.d(t,{A:()=>d});var n=i(65622),o=i(22616),r=i(12688),a=i(29278),s=i(88457);const l={v0:8,v1:4,v2:2};function d(){const e=(0,o.W)((()=>["abTestVersion"]),[]),t=(0,n.useMemo)((()=>{if((0,s.fU)())return!1;const e=l.v1;return navigator.hardwareConcurrency>=e}),[]),i=(0,n.useMemo)((()=>(0,a.gc)()),[]),d=(0,n.useMemo)((()=>{var n;if((0,s.fU)())return"web_h264";const o=null!==(n=(0,r.V7)(null==e?void 0:e.abTestVersion,"live_player_codetype"))&&void 0!==n?n:"v0";return t&&"v1"===o&&i?"web_h265":"web_h264"}),[null==e?void 0:e.abTestVersion,i,t]);return{openH265:"web_h265"===d,streamDeviceType:d,hevcSupport:i}}},44748:(e,t,i)=>{i.d(t,{oD:()=>a,y_:()=>h});var n,o,r,a,s,l,d,c=i(11379),u=i(49610),p=i(50374);!function(e){e.LiveRechargeShow="livesdk_recharge_show",e.LiveRechargeClick="livesdk_recharge_click",e.LiveRechargeCashierShow="livesdk_web_cashier_show",e.LiveRechargePay="livesdk_recharge_pay",e.LiveRechargeSuccess="livesdk_recharge_success",e.LiveRechargeFailed="livesdk_recharge_failed",e.livesdkRechargeFailClick="livesdk_recharge_fail_click",e.LiveBillingAddressClick="livesdk_billing_address_click",e.LiveBillingAddressEntranceClick="livesdk_billing_address_entrance_click",e.LiveWebGetCoinShow="livesdk_web_getcoin_show",e.LiveWebGetCoinClick="livesdk_web_getcoin_click",e.LiveWebGetCoinBubbleShow="livesdk_audience_bubble_show",e.LiveWebGetCoinBubbleDuration="livesdk_bubble_duration",e.LiveWebPayFeedbackShow="livesdk_web_pay_feedback_show",e.LiveWebPayFeedbackClick="livesdk_web_pay_feedback_click",e.LiveWebPayMethodClick="livesdk_web_pay_method_click",e.LiveWebLinkEWalletShow="livesdk_link_ewallet_show",e.LiveWebLinkEWalletClick="livesdk_link_ewallet_click",e.LiveWebLinkEWalletSuccess="livesdk_link_ewallet_success",e.LiveWebLinkEWalletFailed="livesdk_link_ewallet_failed",e.LiveRechargeExchangeEntranceShow="livesdk_recharge_exchange_entrance_show",e.LiveRechargeExchangeEntranceClick="livesdk_recharge_exchange_entrance_click",e.LiveRechargeExchangeClick="livesdk_recharge_exchange_click",e.LiveRechargeExchangePopupShow="livesdk_recharge_exchange_popup_show",e.LiveRechargeExchangeConfirm="livesdk_recharge_exchange_confirm",e.LiveRechargeExchangeCancel="livesdk_recharge_exchange_cancel",e.LiveRechargeExchangeSuccess="livesdk_recharge_exchange_success",e.LiveRechargeExchangeFailed="livesdk_recharge_exchange_failed",e.LiveRechargeExchangePackageShow="livesdk_recharge_exchange_package_show",e.LiveRechargeExchangePreview="livesdk_recharge_exchange_preview",e.LiveRechargeExchangeLimitPopupShow="livesdk_wallet_limit_popup_show",e.LiveRechargeExchangeLimitPopupClick="livesdk_wallet_limit_popup_click",e.LiveRechargeLogoutClick="livesdk_logout_click",e.LiveBillingAddressShow="livesdk_billing_address_show",e.LiveBillingAddressConfirm="livesdk_billing_address_confirm",e.LiveBillingAddressCancel="livesdk_billing_address_cancel",e.LiveBillingAddressFailed="livesdk_billing_address_failed",e.LiveRechargeNoticeShow="livesdk_webapp_top_notice_show",e.LiveRechargeNoticeClick="livesdk_webapp_top_notice_click",e.LiveRechargeNoticeClose="livesdk_webapp_top_notice_close",e.LiveAbnormalFeatureToast="livesdk_feature_abnormal_toast",e.LiveKycReminderPopup="livesdk_kyc_reminder_popup",e.LiveKycReminderPopupClick="livesdk_kyc_reminder_popup_click",e.LiveKycPopupShow="livesdk_kyc_popup_show",e.LiveKycPopupClick="livesdk_kyc_popup_click",e.LivePaymentBindShow="livesdk_payment_bind_show",e.LivePaymentBindClick="livesdk_payment_bind_click",e.LivePaymentBindSuccess="livesdk_payment_bind_success",e.LivePaymentBindFail="livesdk_payment_bind_fail",e.LiveRechargePackageShow="livesdk_recharge_package_show",e.LiveRechargeBanPopupShow="livesdk_recharge_ban_popup_show",e.LiveRechargeBanPopupClick="livesdk_recharge_ban_popup_click",e.LiveRechargePackagePreview="livesdk_recharge_package_preview",e.LiveRechargeCompletedEducationPopupShow="livesdk_payment_completed_popup_show",e.LiveRechargeCompletedEducationPopupClick="livesdk_payment_completed_click",e.LiveRechargeNegativeBalancePopupShow="livesdk_negative_balance_popup_show",e.LiveRechargeNegativeBalancePopupClick="livesdk_negative_balance_click",e.LiveRechargeLimitToastShow="livesdk_wallet_limit_toast_show",e.LiveRechargeLimitPopupShow="livesdk_wallet_limit_popup_show",e.LiveRechargeLimitPopupClick="livesdk_wallet_limit_popup_click",e.LivePayMethodLoadSuccess="livesdk_pay_method_load_success",e.LivePayMethodLoadFail="livesdk_pay_method_load_fail",e.LiveRechargeShowV2="livesdk_recharge_show_v2",e.LiveRechargePackageShowV2="livesdk_recharge_package_show_v2",e.LiveRechargePackagePreviewV2="livesdk_recharge_package_preview_v2",e.LiveRechargeClickV2="livesdk_recharge_click_v2",e.LiveRechargeLoginClick="livesdk_recharge_click_to_login",e.LiveExchangeRetainFirstPopupShow="livesdk_recharge_retain_first_popup_show",e.LiveExchangeRetainFirstPopupClick="livesdk_recharge_retain_first_popup_click",e.LiveExchangeRetainSecondPopupShow="livesdk_recharge_retain_second_popup_show",e.LiveExchangeRetainSecondPopupClick="livesdk_recharge_retain_second_popup_click",e.EXCHANGE_ENTRANCE_SHOW="livesdk_exchange_entrance_show",e.EXCHANGE_ENTRANCE_CLICK="livesdk_exchange_entrance_click",e.EXCHANGE_SHOW="livesdk_exchange_show",e.EXCHANGE_CLICK="livesdk_exchange_click",e.EXCHANGE_CUSTOM_CLICK="livesdk_exchange_custom_click",e.EXCHANGE_CONFIRM_POPUP_SHOW="livesdk_exchange_confirm_popup_show",e.EXCHANGE_CONFIRM="livesdk_exchange_confirm",e.EXCHANGE_CONFIRM_CANCEL="livesdk_exchange_confirm_cancel",e.EXCHANGE_CANCEL="livesdk_exchange_cancel",e.EXCHANGE_SUCCESS="livesdk_exchange_success",e.EXCHANGE_FAIL="livesdk_exchange_fail",e.LiveLoginQRCodeShow="livesdk_login_qr_code_show",e.LiveLoginQRCodeInstructionShow="livesdk_login_qr_code_instruction_show",e.LiveLoginQRCodeScanResultShow="livesdk_login_qr_code_scan_result_show",e.LivePanelLCP="livesdk_recharge_panel_lcp",e.EmailConfirmPopupShow="livesdk_email_confirm_popup_show",e.EmailConfirmPopupClick="livesdk_email_confirm_popup_click",e.EmailEditPageShow="livesdk_email_edit_page_show",e.EmailEditPageTextBoxClick="livesdk_email_edit_page_text_box_click",e.EmailEditPageCodeError="livesdk_email_edit_page_code_error",e.EmailEditSuccess="livesdk_email_edit_success",e.HomeScreenV2TriggerPointShow="livesdk_add_homescreen_shortcut_guide_show",e.HomeScreenV2AddButtonClick="livesdk_add_homescreen_shortcut_guide_click",e.LiveRechargePageShow="livesdk_wallet_page_show",e.LiveRechargeClientShow="livesdk_wallet_client_show",e.LiveRechargeViewClick="livesdk_wallet_view_click"}(n||(n={})),function(e){e.TIKTOKM="1233",e.TIKTOKT="1180",e.LITE="1340",e.RESSO="1811",e.WEBAPP="1988"}(o||(o={})),function(e){e.Done="done",e.LEARN_MORE="learn_more",e.CONTACT_US="contact_us",e.CANCEL="cancel",e.PUSH_OPT_IN="push_opt_in"}(r||(r={})),function(e){e.top_bar="top_bar",e.avatar="avatar",e.buy_now="buy_now",e.top_list_feedback="top_list_feedback",e.feedback_icon="feedback_icon"}(a||(a={})),function(e){e.Success="success",e.Fail="fail"}(s||(s={})),function(e){e.Instruction="instruction",e.Package="package"}(l||(l={})),function(e){e.PackageEntrance="package_entrance",e.RechargeSuccess="recharge_success"}(d||(d={}));let h=class{constructor(){this.handleRechargeShow=e=>{p.f.event("livesdk_recharge_show",e)},this.handleRechargeClick=e=>{p.f.event("livesdk_recharge_click",e)},this.handleCashierShow=e=>{p.f.event("livesdk_web_cashier_show",e)},this.handlePayAction=e=>{p.f.event("livesdk_recharge_pay",e)},this.handleRechargeSuccess=e=>{p.f.event("livesdk_recharge_success",e)},this.handleRechargeFailed=e=>{p.f.event("livesdk_recharge_failed",e)},this.handleRechargeFailedClick=e=>{p.f.event("livesdk_recharge_fail_click",e)},this.handleBillingAddressClick=e=>{p.f.event("livesdk_billing_address_click",e)},this.handleBillingAddressEntranceClick=e=>{p.f.event("livesdk_billing_address_entrance_click",e)},this.handleLiveWebGetCoinShow=e=>{p.f.event("livesdk_web_getcoin_show",e)},this.handleLiveWebGetCoinClick=e=>{p.f.event("livesdk_web_getcoin_click",e)},this.handleLiveWebGetCoinBubbleShow=e=>{p.f.event("livesdk_audience_bubble_show",e)},this.handleLiveWebGetCoinBubbleDuration=e=>{p.f.event("livesdk_bubble_duration",e)},this.handleRechargeFeedbackShow=e=>{p.f.event("livesdk_web_pay_feedback_show",e)},this.handleRechargeFeedbackClick=e=>{p.f.event("livesdk_web_pay_feedback_click",e)},this.handleRechargeCashierSelectPaymentMethod=e=>{p.f.event("livesdk_web_pay_method_click",e)},this.handleRechargeCashierEWalletShow=e=>{p.f.event("livesdk_link_ewallet_show",e)},this.handleRechargeCashierEWalletClick=e=>{p.f.event("livesdk_link_ewallet_click",e)},this.handleRechargeCashierEWalletSuccess=e=>{p.f.event("livesdk_link_ewallet_success",e)},this.handleRechargeCashierEWalletFailed=e=>{p.f.event("livesdk_link_ewallet_failed",e)},this.handleExchangeEntranceShow=e=>{p.f.event("livesdk_exchange_entrance_show",e),p.f.event("livesdk_recharge_exchange_entrance_show",e)},this.handleExchangeEntranceClick=e=>{p.f.event("livesdk_exchange_entrance_click",e),p.f.event("livesdk_recharge_exchange_entrance_click",e)},this.handleExchangeClick=e=>{p.f.event("livesdk_exchange_click",e),p.f.event("livesdk_recharge_exchange_click",e)},this.handleExchangeShow=e=>{p.f.event("livesdk_exchange_show",e)},this.handleExchangeCustomClick=e=>{p.f.event("livesdk_exchange_custom_click",e)},this.handleExchangePopupShow=e=>{p.f.event("livesdk_exchange_confirm_popup_show",e),p.f.event("livesdk_recharge_exchange_popup_show",e)},this.handleExchangeConfirm=e=>{p.f.event("livesdk_exchange_confirm",e),p.f.event("livesdk_recharge_exchange_confirm",e)},this.handleExchangeCancel=e=>{p.f.event("livesdk_exchange_cancel",e)},this.handleExchangeConfirmCancel=e=>{p.f.event("livesdk_exchange_confirm_cancel",e),p.f.event("livesdk_recharge_exchange_cancel",e)},this.handleExchangeSuccess=e=>{p.f.event("livesdk_exchange_success",e),p.f.event("livesdk_recharge_exchange_success",e)},this.handleExchangeFailed=e=>{p.f.event("livesdk_exchange_fail",e),p.f.event("livesdk_recharge_exchange_failed",e)},this.handleExchangePackageShow=e=>{p.f.event("livesdk_recharge_exchange_package_show",e)},this.handleExchangePreview=e=>{p.f.event("livesdk_recharge_exchange_preview",e)},this.handleRechargeLogoutClick=e=>{p.f.event("livesdk_logout_click",e)},this.handleBillingAddressShow=e=>{p.f.event("livesdk_billing_address_show",e)},this.handleBillingAddressConfirm=e=>{p.f.event("livesdk_billing_address_confirm",e)},this.handleBillingAddressCancel=e=>{p.f.event("livesdk_billing_address_cancel",e)},this.handleBillingAddressFailed=e=>{p.f.event("livesdk_billing_address_failed",e)},this.handleNoticeShow=e=>{p.f.event("livesdk_webapp_top_notice_show",e)},this.handleNoticeClick=e=>{p.f.event("livesdk_webapp_top_notice_click",e)},this.handleNoticeClose=e=>{p.f.event("livesdk_webapp_top_notice_close",e)},this.handleAbnormalFeatureToast=e=>{p.f.event("livesdk_feature_abnormal_toast",e)},this.liveKycReminderPopup=e=>{p.f.event("livesdk_kyc_reminder_popup",e)},this.liveKycReminderPopupClick=e=>{p.f.event("livesdk_kyc_reminder_popup_click",e)},this.liveKycPopupShow=e=>{p.f.event("livesdk_kyc_popup_show",e)},this.liveKycPopupClick=e=>{p.f.event("livesdk_kyc_popup_click",e)},this.handlePaymentBindShow=e=>{p.f.event("livesdk_payment_bind_show",e)},this.handlePaymentBindClick=e=>{p.f.event("livesdk_payment_bind_click",e)},this.handlePaymentBindSuccess=e=>{p.f.event("livesdk_payment_bind_success",e)},this.handlePaymentBindFail=e=>{p.f.event("livesdk_payment_bind_fail",e)},this.handleRechargePackageShow=e=>{p.f.event("livesdk_recharge_package_show",e)},this.handleRechargeBanPopupShow=e=>{p.f.event("livesdk_recharge_ban_popup_show",e)},this.handleRechargeBanPopupClick=e=>{p.f.event("livesdk_recharge_ban_popup_click",e)},this.handleRechargePackagePreview=e=>{p.f.event("livesdk_recharge_package_preview",e)},this.handleRechargeCompletedEducationPopupShow=e=>{p.f.event("livesdk_payment_completed_popup_show",e)},this.handleRechargeCompletedEducationPopupClick=e=>{p.f.event("livesdk_payment_completed_click",e)},this.handleNegativeBalancePopupShow=e=>{p.f.event("livesdk_negative_balance_popup_show",e)},this.handleNegativeBalancePopupClick=e=>{p.f.event("livesdk_negative_balance_click",e)},this.handleRechargeLimitToastShow=e=>{p.f.event("livesdk_wallet_limit_toast_show",e)},this.handleRechargeLimitPopupShow=e=>{p.f.event("livesdk_wallet_limit_popup_show",e)},this.handleRechargeLimitPopupClick=e=>{p.f.event("livesdk_wallet_limit_popup_click",e)},this.incentiveBannerShow=e=>{p.f.event("livesdk_kyc_incentive_banner_show",e)},this.incentiveBannerClick=e=>{p.f.event("livesdk_kyc_incentive_banner_click",e)},this.kycCouponShow=e=>{p.f.event("livesdk_kyc_coupon_show",e)},this.kycCouponChoose=e=>{p.f.event("livesdk_kyc_coupon_choose",e)},this.kycCouponRuleShow=e=>{p.f.event("livesdk_kyc_coupon_rule_show",e)},this.kycCouponCashierShow=e=>{p.f.event("livesdk_kyc_coupon_cashier_show",e)},this.kycCouponFreezeFirstReminder=e=>{p.f.event("livesdk_kyc_coupon_freeze_first_reminder_popup_show",e)},this.kycCouponFreezeFirstReminderClick=e=>{p.f.event("livesdk_kyc_coupon_freeze_first_reminder_popup_click",e)},this.kycCouponFreezeSecondReminderClick=e=>{p.f.event("livesdk_kyc_coupon_freeze_second_reminder_popup_click",e)},this.kycCouponFreezeSecondReminderShow=e=>{p.f.event("livesdk_kyc_coupon_freeze_second_reminder_popup_show",e)},this.cashierClose=(e,{beacon:t}={})=>{t?p.f.beconEvent("livesdk_cashier_close",e):p.f.event("livesdk_cashier_close",e)},this.customRechargeShow=e=>{p.f.event("livesdk_custom_recharge_show",e)},this.customSwitchEntranceClick=e=>{p.f.event("livesdk_custom_switch_entrance_click",e)},this.customSwitchOptionsClick=e=>{p.f.event("livesdk_custom_switch_options_click",e)},this.customInputTotalFaqClick=e=>{p.f.event("livesdk_web_pay_total_info_click",e)},this.exchangeBillingAddressEntranceShow=e=>{p.f.event("livesdk_exchange_billing_address_entrance_show",e)},this.exchangeBillingAddressEntranceClick=e=>{p.f.event("livesdk_exchange_billing_address_entrance_click",e)},this.handleCashierPayMethodLoadSuccess=e=>{p.f.event("livesdk_pay_method_load_success",e)},this.handleCashierPayMethodLoadFail=e=>{p.f.event("livesdk_pay_method_load_fail",e)},this.handleRechargeLoginClick=e=>{p.f.event("livesdk_recharge_click_to_login",e)},this.handleLiveRechargeExchangeLimitPopupShow=e=>{p.f.event("livesdk_wallet_limit_popup_show",e)},this.handleLiveRechargeExchangeLimitPopupClick=e=>{p.f.event("livesdk_wallet_limit_popup_click",e)},this.exchangeRetainFirstPopupShow=e=>{p.f.event("livesdk_recharge_retain_first_popup_show",e)},this.handleExchangeRetainFirstPopupClick=e=>{p.f.event("livesdk_recharge_retain_first_popup_click",e)},this.exchangeRetainSecondPopupShow=e=>{p.f.event("livesdk_recharge_retain_second_popup_show",e)},this.handleExchangeRetainSecondPopupClick=e=>{p.f.event("livesdk_recharge_retain_second_popup_click",e)},this.handleLoginQRCodeShow=e=>{p.f.event("livesdk_login_qr_code_show",e)},this.handleLoginQRCodeInstructionShow=e=>{p.f.event("livesdk_login_qr_code_instruction_show",e)},this.handleLoginQRCodeScanResultShow=e=>{p.f.event("livesdk_login_qr_code_scan_result_show",e)},this.handleAddHomescreenShortcutGuideShow=e=>{p.f.event("livesdk_add_homescreen_shortcut_guide_show",e)},this.handleAddToHomescreenShortcutGuideClick=e=>{p.f.event("livesdk_add_homescreen_shortcut_guide_click",e)},this.handleAddHomescreenShortcutInstructionShow=e=>{p.f.event("livesdk_add_homescreen_shortcut_instruction_show",e)},this.handlePricePopupShow=e=>{p.f.event("livesdk_price_info_popup_show",e)},this.handleSecuritySignShow=e=>{p.f.event("livesdk_webapp_security_sign_show",e)},this.handleSecuritySignClick=e=>{p.f.event("livesdk_webapp_security_sign_click",e)},this.handleSecurityPageShow=e=>{p.f.event("livesdk_webapp_security_page_show",e)},this.handleSecurityPageClick=e=>{p.f.event("livesdk_webapp_security_page_click",e)},this.customExchangeCustomPanelShow=e=>{p.f.event("livesdk_custom_exchange_show",e)},this.customExchangeCustomPanelSwitchEntranceClick=e=>{p.f.event("livesdk_exchange_custom_switch_entrance_click",e)},this.customExchangeCustomPanelSwitchOptionClick=e=>{p.f.event("livesdk_exchange_custom_switch_options_click",e)},this.customExchangeCustomPanelTotalInfoClick=e=>{p.f.event("livesdk_exchange_custom_total_info_click",e)},this.switchIapRechargeButtonShow=e=>{p.f.event("livesdk_switch_iap_recharge_button_show",e)},this.switchIapRechargeButtonClick=e=>{p.f.event("livesdk_switch_iap_recharge_button_click",e)},this.switchIapRechargeBubbleShow=()=>{p.f.event("livesdk_panel_change_bubble_show")},this.handleLCPReport=e=>{p.f.event("livesdk_recharge_panel_lcp",e)},this.handleEmailConfirmPopupShow=e=>{p.f.event("livesdk_email_confirm_popup_show",e)},this.handleEmailConfirmPopupClick=e=>{p.f.event("livesdk_email_confirm_popup_click",e)},this.handleEmailEditPageShow=e=>{p.f.event("livesdk_email_edit_page_show",e)},this.handleEmailEditPageTextboxClick=e=>{p.f.event("livesdk_email_edit_page_text_box_click",e)},this.handleEmailEditCodeError=e=>{p.f.event("livesdk_email_edit_page_code_error",e)},this.handleEmailEditSuccess=e=>{p.f.event("livesdk_email_edit_success",e)},this.referralBannerShow=e=>{p.f.event("livesdk_promotion_get_gift_popup_show",e)},this.referralBannerClick=e=>{p.f.event("livesdk_promotion_get_gift_popup_click",e)},this.homeScreenV2TriggerPointShow=e=>{p.f.event("livesdk_add_homescreen_shortcut_guide_show",e)},this.homeScreenV2AddButtonClick=e=>{p.f.event("livesdk_add_homescreen_shortcut_guide_click",e)},this.handlePageShow=e=>{p.f.event("livesdk_wallet_page_show",e)},this.handleClientShow=e=>{p.f.event("livesdk_wallet_client_show",e)},this.handleViewClick=e=>{p.f.event("livesdk_wallet_view_click",e)}}};h=(0,c.Cg)([(0,u._)()],h)},18640:(e,t,i)=>{i.d(t,{AF:()=>h,AP:()=>v,CA:()=>p,a8:()=>_,hA:()=>u,uJ:()=>g});var n=i(18898),o=i(63161),r=i(38527),a=i(98281),s=i(12688),l=i(22616),d=i(54469);const c="abTestVersion",u=()=>{var e;const{abTestVersion:t}=(0,a.L$)((0,l.W)((()=>[c]),[])),i=null!==(e=(0,s.qt)(t,"search_bar_style_opt"))&&void 0!==e?e:"v1",n="v2"===i,o="v3"===i;return{isSearchBarStyleV1:"v1"===i,isSearchBarStyleV2:n,isSearchBarStyleV3:o,withNewStyle:n||o}},p=()=>{var e;const{pathname:t}=(0,o.zy)(),{abTestVersion:i}=(0,a.L$)((0,l.W)((()=>[c]),[])),n=null!==(e=(0,s.qt)(i,"search_remove_related_search"))&&void 0!==e?e:"v0";return{hasRelatedSearch:"v0"===n||(0,r.ie)(t),hasSugReport:!0,isNewSearchLayout:"v0"!==n}},h=()=>{var e;const{abTestVersion:t}=(0,a.L$)((0,l.W)((()=>[c]),[]));return"v2"===(null!==(e=(0,s.qt)(t,"search_keep_sug_show"))&&void 0!==e?e:"v1")};function g(){var e;const{abTestVersion:t}=(0,a.L$)((0,l.W)((()=>[c]),[])),i=null!==(e=(0,s.qt)(t,"search_add_non_personalized_switch"))&&void 0!==e?e:"v1",{user:o}=(0,n.P)(d.L,{selector:e=>{var t;return{user:null===(t=e.appContext)||void 0===t?void 0:t.user}},dependencies:[]}),r=Boolean(o);return{hasPersonalizedSwitch:"v2"===i&&r}}function _(){var e;const{abTestVersion:t}=(0,a.L$)((0,l.W)((()=>[c]),[]));return{shouldRecomReduceIconRisk:"v1"===(null!==(e=(0,s.qt)(t,"should_recom_reduce_icon_risk"))&&void 0!==e?e:"v0")}}function v(){var e;const{abTestVersion:t}=(0,a.L$)((0,l.W)((()=>[c]),[]));return{notificationShouldBeClickable:"v1"===(null!==(e=(0,s.qt)(t,"webapp_moderation"))&&void 0!==e?e:"v0")}}},33372:(e,t,i)=>{i.d(t,{v:()=>un});var n=i(27334),o=i(56139),r=i(18898),a=i(69872),s=i(65622),l=i(63161),d=i(79028),c=i(15474),u=i(53814),p=i(58677),h=i(23298),g=i(50374),_=i(21870),v=i(3954),m=i(38527),f=i(52528),y=i(52602),b=i(88149),x=i(98281),S=i(12688),k=i(14218),w=i(28986),C=i(6530),j=(i(27056),i(22616)),T=i(93122),I=i(84716),O=i(48470),L=i(9190),E=i(26895);function A(e){var t,i;const{keyword:n,enterMethod:r,searchSource:d,enterFrom:c,fromSearchSubTab:u,imprId:p,blankpageEnterFrom:g,blankpageEnterMethod:_,videoPageType:v,preClickId:m}=function(){var e;const{search:t,state:i}=(0,l.zy)(),{enterMethod:n,searchSource:o,enterFrom:r,fromSearchSubTab:s,imprId:d,blankpageEnterFrom:c,blankpageEnterMethod:u,videoPageType:p,preClickId:h}=null!=i?i:{},{q:g}=(0,a.parse)(t);return{enterMethod:n,searchSource:o,enterFrom:r,keyword:null!==(e=Array.isArray(g)?g.toString():g)&&void 0!==e?e:"",fromSearchSubTab:s,imprId:d,blankpageEnterFrom:c,blankpageEnterMethod:u,videoPageType:p,preClickId:h}}(),{user:f,language:y="en",abTestVersion:b}=null!==(t=(0,j.W)((()=>["user","language","abTestVersion"]),[]))&&void 0!==t?t:{},{searchVideoForLoggedin:x,searchLiveForLoggedin:k}=null!==(i=(0,T.U)((()=>["searchVideoForLoggedin","searchLiveForLoggedin"]),[]))&&void 0!==i?i:{},w=(0,l.zy)(),{streamDeviceType:C}=(0,O.A)(),{pathname:A}=w,P=Boolean(f),[{state:R,rootEnterFrom:D},M]=(0,o.S)(E.tq,{dependencies:[],selector:t=>{var i;return{state:null!==(i=t[e])&&void 0!==i?i:{},rootEnterFrom:t.searchGlobalParams.rootEnterFrom}}}),F=(0,o.w)(L.O),N=(0,o.w)(I.F),B=A===h.OZ.searchUser,z=function(){var e,t;const{abTestVersion:i,user:n}=null!==(e=(0,j.W)((()=>["abTestVersion","user"]),[]))&&void 0!==e?e:{};return"v2"===(0,S.qt)(i,"search_add_live")&&(null===(t=null==n?void 0:n.hasSearchLivePermission)||void 0===t||t)}();return(0,s.useCallback)(((t=!0,i=!1)=>{const o=n!==(null==R?void 0:R.keyword)||t,a=n!==(null==R?void 0:R.keyword)||i,s=!x||P,l=!k||P,S={search_source:null!=d?d:"search_outer",search_type:e,enter_method:r,from_search_subtab:u,enter_from:null!=c?c:D,pre_click_id:null!=p?p:m,pre_recom_show_id:p,blankpage_enter_from:g,blankpage_enter_method:_,video_page_type:v};switch(e){case"general":A===h.OZ.searchHome&&o&&s&&(a&&(M.setSearchResult({key:"general",result:E.I4}),F.resetItemList({key:"search_top",loading:!0})),M.getTopSearch({keyword:n,teaParams:S,user:f,language:y,abTestVersion:b,hasSearchLive:z,search_source:d,device_type:C}));break;case"user":B&&o&&(a&&M.setSearchResult({key:"user",result:E.Fy}),M.getUserSearch({keyword:n,teaParams:S,user:f,language:y,abTestVersion:b}));break;case"video":A===h.OZ.searchVideo&&o&&s&&(a&&(M.setSearchResult({key:"video",result:E.Fy}),F.resetItemList({key:"search_video",loading:!0})),M.getVideoSearch({keyword:n,teaParams:S,user:f,language:y,abTestVersion:b}));break;case"live":A===h.OZ.searchLive&&o&&l&&(a&&(M.setSearchResult({key:"live",result:E.Fy}),N.resetLiveList({key:"search_live",loading:!0})),M.getLiveSearch({keyword:n,teaParams:S,user:f,language:y,abTestVersion:b,device_type:C}))}}),[C,n,null==R?void 0:R.keyword,x,P,r,d,e,A,B,M,f,y,b,F,z,N,k,u,D,p,g,_,m,v])}h.OZ.searchHome,h.OZ.searchUser,h.OZ.searchVideo,h.OZ.searchLive;var P=i(25535),R=i(92328),D=i(11379),M=i(83238),F=i(68055),N=i(54954),B=i(33293),z=i(73766),U=i(90245),q=i(60057),V=i(91109),G=i(74895),H=i(72038),W=i(33152),$=i(45277);const K={historyNotSeenID:[132952,133061],historyDisappearID:[132953,133062],parentIDs:[132954,132955,132956,132957,133063,133064,133065,133066],otherID:[132958,133067]},Z=new Set([...K.otherID]),Q=new Set([...K.historyNotSeenID]),Y=new Set([...K.historyDisappearID]),J=new Set([...K.parentIDs]);var X=i(49610),ee=i(2070);let te=class{constructor(e){this.fetch=e}getFAQList(e){return this.fetch.get("/feedback/2/common_feedback_list/",{query:e})}postSubmitFaqList(e){return this.fetch.post("/feedback/2/post_message/",{query:e})}};te=(0,D.Cg)([(0,X._)(),(0,D.Sn)("design:paramtypes",[ee.pM])],te);let ie=class extends M.E{constructor(e,t){super(),this.service=e,this.search=t,this.defaultState={isOpenReport:!1,isOpenSuccessModal:!1,loading:!1,buttonLoading:!1,reportList:[],checkRadioId:void 0,otherText:"",historyNotSeenText:"",historyDisappearText:"",suggestedGroup:[],isSuccess:void 0,feedbackId:void 0}}setIsOpenReport(e,t){e.isOpenReport=t}setIsOpenSuccessModal(e,t){e.isOpenSuccessModal=t}setOtherText(e,t){e.otherText=t}setHistoryNotSeenText(e,t){e.historyNotSeenText=t}setHistoryDisappearText(e,t){e.historyDisappearText=t}setSuggestedGroup(e,t){e.suggestedGroup=t}setLoading(e,t){e.loading=t}setButtonLoading(e,t){e.buttonLoading=t}setCheckRadioId(e,t){e.checkRadioId=t}setData(e,t){e.reportList=t}setIsSuccess(e,t){e.isSuccess=t}setFeedbackId(e,t){e.feedbackId=t}resetData(e){e.loading=!1,e.buttonLoading=!1,e.checkRadioId=void 0,e.otherText="",e.historyNotSeenText="",e.historyDisappearText="",e.suggestedGroup=[],e.isSuccess=void 0,e.feedbackId=void 0}getReport(e){return e.pipe((0,q.n)((e=>this.service.getFAQList(e).pipe((0,V.T)((e=>{var t;const{message:i,list:n=[]}=e;let o=[];return"success"===i&&n.length&&(o=null===(t=n[0])||void 0===t?void 0:t.children),Object.assign(Object.assign({},e),{data:o})})),(0,B.Z)((e=>(0,z.of)(this.getActions().setData(null==e?void 0:e.data)))),(0,G.Z)(this.getActions().setLoading(!0)),(0,H.q)(this.getActions().setLoading(!1))))))}submitReport(e){return e.pipe((0,W.E)(this.search.state$,this.state$),(0,V.T)((([e,{searchGlobalParams:t},{checkRadioId:i,suggestedGroup:n,otherText:o}])=>({payload:e,rootEnterFrom:null==t?void 0:t.rootEnterFrom,checkRadioId:i,suggestedGroup:n,otherText:o}))),(0,q.n)((({payload:e,checkRadioId:t,rootEnterFrom:i,suggestedGroup:n,otherText:o})=>this.service.postSubmitFaqList(e).pipe((0,V.T)((e=>{const{err_code:t}=e,i=0===t;return{feedbackId:e.feedback_id,isSuccess:i}})),(0,$.M)((({feedbackId:e})=>{let r="";t&&(Z.has(t)&&(r=o),J.has(t)&&(r=String(n.filter((e=>e.checked)).map((e=>e.text)))),_.$G.handleSearchTextSubmit({enter_from:i,search_position:g.f.commonParams.page_name,text_type:"recom_search_feedback",question:t,answer:r,impr_id:String(e)}))})),(0,B.Z)((e=>(0,z.of)(this.getActions().setFeedbackId(e.feedbackId),this.getActions().setIsSuccess(e.isSuccess)))),(0,G.Z)(this.getActions().setButtonLoading(!0)),(0,H.q)(this.getActions().setButtonLoading(!1))))))}};(0,D.Cg)([(0,F.h5)(),(0,D.Sn)("design:type",Function),(0,D.Sn)("design:paramtypes",[Object,Boolean]),(0,D.Sn)("design:returntype",void 0)],ie.prototype,"setIsOpenReport",null),(0,D.Cg)([(0,F.h5)(),(0,D.Sn)("design:type",Function),(0,D.Sn)("design:paramtypes",[Object,Boolean]),(0,D.Sn)("design:returntype",void 0)],ie.prototype,"setIsOpenSuccessModal",null),(0,D.Cg)([(0,F.h5)(),(0,D.Sn)("design:type",Function),(0,D.Sn)("design:paramtypes",[Object,String]),(0,D.Sn)("design:returntype",void 0)],ie.prototype,"setOtherText",null),(0,D.Cg)([(0,F.h5)(),(0,D.Sn)("design:type",Function),(0,D.Sn)("design:paramtypes",[Object,String]),(0,D.Sn)("design:returntype",void 0)],ie.prototype,"setHistoryNotSeenText",null),(0,D.Cg)([(0,F.h5)(),(0,D.Sn)("design:type",Function),(0,D.Sn)("design:paramtypes",[Object,String]),(0,D.Sn)("design:returntype",void 0)],ie.prototype,"setHistoryDisappearText",null),(0,D.Cg)([(0,F.h5)(),(0,D.Sn)("design:type",Function),(0,D.Sn)("design:paramtypes",[Object,Array]),(0,D.Sn)("design:returntype",void 0)],ie.prototype,"setSuggestedGroup",null),(0,D.Cg)([(0,F.h5)(),(0,D.Sn)("design:type",Function),(0,D.Sn)("design:paramtypes",[Object,Boolean]),(0,D.Sn)("design:returntype",void 0)],ie.prototype,"setLoading",null),(0,D.Cg)([(0,F.h5)(),(0,D.Sn)("design:type",Function),(0,D.Sn)("design:paramtypes",[Object,Boolean]),(0,D.Sn)("design:returntype",void 0)],ie.prototype,"setButtonLoading",null),(0,D.Cg)([(0,F.h5)(),(0,D.Sn)("design:type",Function),(0,D.Sn)("design:paramtypes",[Object,Object]),(0,D.Sn)("design:returntype",void 0)],ie.prototype,"setCheckRadioId",null),(0,D.Cg)([(0,F.h5)(),(0,D.Sn)("design:type",Function),(0,D.Sn)("design:paramtypes",[Object,Array]),(0,D.Sn)("design:returntype",void 0)],ie.prototype,"setData",null),(0,D.Cg)([(0,F.h5)(),(0,D.Sn)("design:type",Function),(0,D.Sn)("design:paramtypes",[Object,Object]),(0,D.Sn)("design:returntype",void 0)],ie.prototype,"setIsSuccess",null),(0,D.Cg)([(0,F.h5)(),(0,D.Sn)("design:type",Function),(0,D.Sn)("design:paramtypes",[Object,Object]),(0,D.Sn)("design:returntype",void 0)],ie.prototype,"setFeedbackId",null),(0,D.Cg)([(0,F.h5)(),(0,D.Sn)("design:type",Function),(0,D.Sn)("design:paramtypes",[Object]),(0,D.Sn)("design:returntype",void 0)],ie.prototype,"resetData",null),(0,D.Cg)([(0,F.Mj)(),(0,D.Sn)("design:type",Function),(0,D.Sn)("design:paramtypes",[U.c]),(0,D.Sn)("design:returntype",void 0)],ie.prototype,"getReport",null),(0,D.Cg)([(0,F.Mj)(),(0,D.Sn)("design:type",Function),(0,D.Sn)("design:paramtypes",[U.c]),(0,D.Sn)("design:returntype",void 0)],ie.prototype,"submitReport",null),ie=(0,D.Cg)([(0,N.n)("searchReport"),(0,D.Sn)("design:paramtypes",[te,E.tq])],ie);var ne=i(54469),oe=i(71293),re=i(18993),ae=i(87497),se=i(18640);const le={[h.OZ.searchHome]:"general",[h.OZ.searchUser]:"user",[h.OZ.searchVideo]:"video",[h.OZ.searchLive]:"live"};h.OZ.searchHome,h.OZ.searchUser,h.OZ.searchVideo,h.OZ.searchLive;var de=i(556),ce=i(309),ue=i(13094),pe=i(17096);const he=()=>{var e;const{abTestVersion:t}=(0,x.L$)((0,j.W)((()=>["abTestVersion"]),[])),i="v2"===(null!==(e=(0,S.qt)(t,"search_transfer_guesssearch"))&&void 0!==e?e:"v1"),n=(0,pe.Ul)(),{count:r}=(0,b.gQ)(),[{historyList:a},{getTransferList:l}]=(0,o.S)(re._,{selector:e=>({historyList:e.historyList}),dependencies:[]}),d=(0,C.JD)((e=>e.showingBrowserMode));return(0,s.useCallback)((()=>{var e,t;i&&!d&&l({req_source:"web_blank_page",from_group_id:null!==(e=null==n?void 0:n.id)&&void 0!==e?e:"",history_list_v2:(t=a,encodeURIComponent(encodeURIComponent(JSON.stringify(t)))),count:r})}),[l,a,n,i,d,r])};var ge=i(2032),_e=i(47635),ve=i(53240);const me=(0,ge.default)("form",{target:"e14ntknm0"})((({theme:{colors:e,direction:t},isBrowserMode:i,isFullSideNav:n})=>[{display:"flex",flexDirection:"row",alignItems:"center",padding:"12px 16px",background:i?"":e.BGInput,borderRadius:"92px",position:"relative",overflow:"hidden",zIndex:1,margin:"0"},n?{paddingTop:"10px",paddingBottom:"10px",marginInlineEnd:"0.5rem"}:{},n?(0,ve.mp)({direction:t,paddingEnd:"4px"}):{}]),"label:FormElement;"),fe=(0,ge.default)("div",{target:"e14ntknm1"})((({theme:{colors:e},isFocused:t,withNewStyle:i})=>({display:"none",position:"absolute",left:"0",top:"0",right:"0",bottom:"0",border:t?`2px solid ${e.Negative}`:`${i?"1px":"1.5px"} solid ${i?e.LinePrimary2:e.LinePrimary}`,borderRadius:"92px",zIndex:-1})),"label:DivInputBorder;"),ye=(0,ge.default)("div",{target:"e14ntknm2"})((({theme:{colors:e}})=>({display:"block",position:"absolute",left:"0",top:"0",right:"0",bottom:"0",border:`1px solid ${e.ConstTextInverse4}`,borderRadius:"92px",zIndex:-1})),"label:DivBrowserModeInputBorder;"),be=(0,ge.default)("input",{target:"e14ntknm3"})((({theme:{colors:e,typography:t,fontFamilies:i,fontWeights:n},hovered:o,isBrowserMode:r,isFullSideNav:a})=>Object.assign(Object.assign(Object.assign({fontFamily:i.TikTokFont,fontWeight:r?n.semiBold:n.normal},t.P2),{border:"none",background:"transparent",outline:"none",padding:"0",width:"100%",color:r?e.ConstTextInverse:e.TextPrimary,caretColor:e.Primary,appearance:"textfield",[`:focus ~ ${fe}`]:{display:"block"},"::placeholder":{color:a&&e.UITextPlaceholder||r&&e.ConstTextInverse3||e.TextSecondary},":placeholder-shown":{textOverflow:"ellipsis"},[` ~ ${fe}`]:{display:!o||r||a?"none":"block"}}),a?{fontSize:"14px"}:{})),"label:InputElement;");be.defaultProps=Object.assign(Object.assign({},be.defaultProps),{"data-e2e":"search-user-input"});const xe=(0,ge.default)("div",{target:"e14ntknm4"})({fontSize:0},"label:DivIconWrapper;"),Se=(0,ge.default)(_e.A,{target:"e14ntknm5"})({animation:"loading-circle-anim linear 1s infinite","@keyframes loading-circle-anim":{"0%":{transform:"rotate(0)"},"100%":{transform:"rotate(360deg)"}}},"label:StyledLoadingCircle;"),ke=(0,ge.default)("span",{target:"e14ntknm6"})((({theme:{colors:e},isBrowserMode:t})=>({width:"1px",height:"28px",margin:"-3px 0",background:t?e.ConstTextInverse5:e.LineSecondary})),"label:SpanSpliter;"),we=(e,t,i)=>t?i?e.BGInput:e.BGView:"transparent",Ce=(0,ge.default)("button",{target:"e14ntknm7"})((({theme:{colors:e,direction:t},hovered:i,withNewStyle:n})=>[{padding:"11px 16px 11px 12px",margin:"-12px -16px",fontSize:"0",cursor:"pointer",outline:"none",border:"none",background:we(e,i,n),":active":{background:e.BGInput2},"&:focus, :focus-visible":{outline:"none!important"}},(0,ve.mp)({direction:t,marginStart:"0"})]),"label:ButtonSearch;");Ce.defaultProps=Object.assign(Object.assign({},Ce.defaultProps),{"data-e2e":"search-button"});const je=(0,ge.default)("div",{target:"e14ntknm8"})((({focused:e,theme:t})=>({outline:e?`2px solid ${t.colors.Negative}`:"none"})),"label:DivSearchIconContainer;"),Te=(0,s.memo)((0,s.forwardRef)((function({initialValue:e,hovered:t,isBrowserMode:i=!1,onEnter:r,onTab:a,onBlur:d,onMouseEnter:c,onMouseLeave:u,isMouseOnSearchBtn:p,isFullSideNav:v},m){var f;const[{searchValue:y,loading:b,activeIndex:k,inputFocus:w,sugList:T,queryId:I,videoPageType:O},{handleInputFocusChange:L,setSearchValue:A,setActiveUp:D,setActiveDown:M,setActiveIndex:F}]=(0,o.S)(R.C,{dependencies:[],selector:e=>({searchValue:e.searchValue,loading:e.loading,activeIndex:e.activeIndex,inputFocus:e.inputFocus,sugList:e.sugList,queryId:e.queryId,videoPageType:e.videoPageType})}),[{rootEnterFrom:N}]=(0,o.S)(E.tq,{selector:e=>({rootEnterFrom:e.searchGlobalParams.rootEnterFrom}),dependencies:[]}),[{historyList:B,shouldUpdateData:z},U]=(0,o.S)(re._,{dependencies:[],selector:e=>({historyList:e.historyList,shouldUpdateData:e.shouldUpdateData})}),q=(0,pe.Ul)(),{abTestVersion:V,user:G}=(0,x.L$)((0,j.W)((()=>["abTestVersion","user"]),[])),H=Boolean(G),W=(0,s.useRef)(null),$=(0,s.useCallback)((()=>{var e;null===(e=W.current)||void 0===e||e.blur()}),[]),K=(0,s.useCallback)((()=>{var e;null===(e=W.current)||void 0===e||e.focus()}),[]);(0,s.useImperativeHandle)(m,(()=>({onEnterBlur:$,onEnterFocus:K})),[$,K]);const{pathname:Z}=(0,l.zy)(),Q=(0,C.JD)((e=>e.showingBrowserMode)),Y=Boolean((0,l.B6)(Z,{path:h.OZ.searchHome})),{placeholder:J,hasVideoSugWord:X,word_id:ee}=(0,P.H1)(Q),{colors:te}=(0,de.u)(),ie="v2"===(null!==(f=(0,S.qt)(V,"search_transfer_history"))&&void 0!==f?f:"v1")&&H,ne=(0,s.useMemo)((()=>({fill:Q?te.ConstTextInverse4:te.TextQuaternary,width:16,height:16,style:{margin:"0 12px"}})),[te,Q]),oe=(0,s.useMemo)((()=>!b&&Boolean(y)&&T.length>0&&w),[w,b,y,T.length]);(0,s.useEffect)((()=>{A(e)}),[e,A]);const ae=he(),se=(0,s.useCallback)((()=>{ie&&B.length&&_.$G.handleSearchHistory({enter_from:N,search_entrance:N,search_position:g.f.commonParams.page_name,search_keyword:"",action_type:"show",order:-1})}),[B,ie,N]),le=(0,s.useCallback)((e=>{const t=e.target.value;(e=>!e.startsWith(" "))(t)&&(y&&""===t&&!i&&(U.setEnterMethod("cancel"),_.$G.handleEnterSearchBlankPage({enter_from:g.f.commonParams.page_name,enter_method:"cancel",search_keyword:"",is_from_video:"video_detail"===g.f.commonParams.page_name?"1":""}),se(),ae()),A(t))}),[A,y,se,ae,U,i]),ce=(({upHandler:e,downHandler:t,confirmHandler:i,tabHandler:n})=>(0,s.useCallback)((o=>{const{keyCode:r}=o;switch(r){case 38:o.preventDefault(),e();break;case 40:o.preventDefault(),t();break;case 13:null==i||i();break;case 9:null==n||n(o)}}),[i,t,n,e]))({upHandler:D,downHandler:M,confirmHandler:r,tabHandler:a}),ge=(0,s.useCallback)((()=>{var e;if(L(!0),z)if(y){const t={enter_from:N,raw_query:y,search_position:"browser_mode"===O?"video_detail":g.f.commonParams.page_name,video_page_type:O,enter_group_id:null!==(e=null==q?void 0:q.id)&&void 0!==e?e:""};_.$G.handleSugGroupImpression(Object.assign({words_source:"sug",words_num:String(T.length)},t)),T.forEach(((e,i)=>{var n;_.$G.handleSugImpression(Object.assign({impr_id:null!==(n=null==e?void 0:e.impr_id)&&void 0!==n?n:"",words_source:"sug",words_position:i,words_content:e.content,sug_type:e.extra_info.sug_user_id?"enrich_sug":"normal_sug",query_id:null!=I?I:"",group_id:e.word_record.group_id},t))}))}else i||(U.setEnterMethod("enter"),_.$G.handleEnterSearchBlankPage({enter_from:g.f.commonParams.page_name,enter_method:"enter",search_keyword:"",is_from_video:"video_detail"===g.f.commonParams.page_name?"1":""}),se(),ae());else U.setShouldUpdateData(!0)}),[L,y,T,I,se,ae,U,i,N,q,O,z]),_e=(0,s.useCallback)((()=>{X&&p?setTimeout((()=>{L(!1)}),200):L(!1),F(-1),null==d||d()}),[X,p,F,d,L]),ve=(0,s.useCallback)((()=>{null==c||c()}),[c]),me=(0,s.useCallback)((()=>{null==u||u()}),[u]),fe=(0,s.useCallback)((()=>{A(""),U.setEnterMethod("cancel"),_.$G.handleEnterSearchBlankPage({enter_from:g.f.commonParams.page_name,enter_method:"cancel",search_keyword:"",is_from_video:"video_detail"===g.f.commonParams.page_name?"1":""}),se(),setTimeout((()=>{var e;null===(e=W.current)||void 0===e||e.focus()}),0)}),[A,se,U]);(0,s.useEffect)((()=>{Y||A("")}),[Y,A]),(0,s.useEffect)((()=>{X?U.setVideoSuggestWord({word:J,word_id:ee}):U.setVideoSuggestWord(void 0)}),[X,J,U,ee]);const ye=(0,s.useCallback)((()=>b?(0,n.jsx)(xe,{children:(0,n.jsx)(Se,Object.assign({},ne))}):y?(0,n.jsx)(xe,{onClick:fe,"data-e2e":"reset-search-form",children:(0,n.jsx)(ue.A,Object.assign({},ne))}):null),[b,y,ne,fe]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(be,{ref:W,hovered:t,isBrowserMode:Q,isFullSideNav:v,value:y,onChange:le,onKeyDown:ce,onFocus:ge,onBlur:_e,onMouseEnter:ve,onMouseLeave:me,placeholder:J,name:"q",type:"search",autoComplete:"off",role:"combobox","aria-controls":oe?"header-sug-results":"","aria-label":J,"aria-expanded":oe,"aria-autocomplete":"list","aria-activedescendant":k>-1&&Boolean(y)?`sug-list-item-${k}`:void 0}),ye()]})}))),Ie=(0,s.memo)((0,s.forwardRef)((function({initialValue:e,isBrowserMode:t=!1,onSubmit:i,isFullSideNav:r=!1},d){const[{searchValue:c,activeIndex:u},p]=(0,o.S)(R.C,{dependencies:[],selector:e=>({searchValue:e.searchValue,activeIndex:e.activeIndex})}),[g,_]=(0,s.useState)(!1),{search:v}=(0,l.zy)(),{q:m}=(0,a.parse)(v),y=(0,f.s)(),{colors:b}=(0,de.u)(),{pathname:x}=(0,l.zy)(),S=(0,s.useRef)(!1),k=(0,s.useRef)(null),w=(0,s.useRef)(null),j=Boolean((0,l.B6)(x,{path:h.OZ.searchHome})),{isSearchBarStyleV1:T,isSearchBarStyleV3:I,withNewStyle:O}=(0,se.hA)(),[L,E]=(0,s.useState)(!1),[A,P]=(0,s.useState)(!1),[D,M]=(0,s.useState)(!1),[F,N]=(0,s.useState)(!1),[B,z]=(0,s.useState)(!1),[U,q]=(0,s.useState)(!1),V=(0,s.useCallback)((()=>{var e;null===(e=null==w?void 0:w.current)||void 0===e||e.onEnterBlur()}),[]),G=(0,s.useCallback)((()=>{var e;null===(e=null==w?void 0:w.current)||void 0===e||e.onEnterFocus()}),[]),H=(0,C.JD)((e=>e.showingBrowserMode));(0,s.useImperativeHandle)(d,(()=>({onEnterInputBlur:V,onEnterInputFocus:G})),[V,G]);const W=(0,s.useCallback)((()=>{S.current=!0}),[]),$=(0,s.useCallback)((e=>{e.preventDefault(),p.setInputFocus(!1),null==i||i(e,S.current),S.current=!1}),[p,i]),K=(0,s.useCallback)((e=>{u<0||(p.setInputFocus(!1),null==i||i(e,!0))}),[p,i,u]);(0,s.useEffect)((()=>{const e=()=>{document.hidden&&P(!0)};return window.addEventListener("visibilitychange",e),()=>{window.removeEventListener("visibilitychange",e)}}),[]);const Z=(0,s.useCallback)((e=>()=>{A&&e?P(!1):e&&D||E(e)}),[D,A]),Q=(0,s.useCallback)((()=>{I&&q(!0),z(!0),_(!0)}),[I]),Y=(0,s.useCallback)((()=>{I&&q(!1),z(!1),_(!1)}),[I]),J=(0,s.useCallback)((()=>{T||H||(I&&z(!0),q(!0))}),[H,T,I]),X=(0,s.useCallback)((()=>{T||H||(I&&z(!1),q(!1))}),[H,T,I]),ee=(0,s.useCallback)((()=>{M(!0),E(!1)}),[]),te=(0,s.useCallback)((()=>{M(!1)}),[]),ie=(0,s.useCallback)((e=>{13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),e.stopPropagation(),p.setInputFocus(!1),null==i||i(e,!0),S.current=!1)}),[p,i]),ne=(0,s.useCallback)((e=>{9===e.keyCode&&N(e.target!==k.current)}),[]),oe=(0,s.useCallback)((()=>{N(!1)}),[]),re=(0,s.useCallback)((()=>H?c?b.ConstTextInverse2:b.ConstTextInverse3:O&&(B||U)?b.TextPrimary:c?b.TextSecondary:b.TextQuaternary),[H,c,b,O,B,U]);return(0,n.jsxs)(me,{"data-e2e":"search-box",className:"search-input",action:"/search",onSubmit:$,onKeyUp:ne,isBrowserMode:H,isFullSideNav:r,children:[j&&(0,n.jsx)("h1",{style:{display:"none",alignItems:"center"},children:m}),(0,n.jsx)(Te,{"data-e2e":"search-box-input",initialValue:e,onEnter:W,onTab:K,onBlur:oe,onMouseEnter:J,onMouseLeave:X,hovered:U,ref:w,isMouseOnSearchBtn:g,isBrowserMode:t,isFullSideNav:r}),!r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ke,{isBrowserMode:H}),(0,n.jsx)(Ce,{"data-e2e":"search-box-button",type:"submit",hovered:B,withNewStyle:O,ref:k,onFocus:Z(!0),onBlur:Z(!1),onMouseEnter:Q,onMouseLeave:Y,onMouseDown:ee,onMouseUp:te,onKeyDown:ie,"aria-label":y("accessibilityLabels_search_button"),children:(0,n.jsx)(je,{focused:L&&!H,children:(0,n.jsx)(ce.A,{fill:re(),width:24,height:24})})})]}),H?(0,n.jsx)(ye,{}):(0,n.jsx)(fe,{isFocused:F,withNewStyle:O})]})})));var Oe,Le,Ee,Ae,Pe=i(6690),Re=i(52075);!function(e){e.GENERAL="general",e.TRANSFER_PAGE="transfer_page"}(Oe||(Oe={})),function(e){e.TIKTOK_SEARCH_PC="pc_tt_search_feedback-web"}(Le||(Le={})),function(e){e.TIKTOK_SEARCH_PC="pc_tt_search_feedback"}(Ee||(Ee={})),function(e){e[e.TIKTOK_SEARCH_PC=508044]="TIKTOK_SEARCH_PC"}(Ae||(Ae={}));const De=e=>e?e.toLocaleLowerCase().split("-")[0].replace("pt","pt_BR").replace("zh","zh-TW"):"en",Me=(0,ge.default)("form",{target:"e1vzkicp0"})((({theme:e})=>[(0,ve.zy)({theme:e,typography:"H6"}),{zIndex:2,background:e.colors.BGPrimary,borderRadius:"8px",overflow:"hidden",width:"700px",display:"flex",flexDirection:"column",margin:0}]),"label:FormReport;"),Fe=(0,ge.default)("div",{target:"e1vzkicp1"})({display:"flex",alignItems:"center",padding:"24px 24px 16px",height:"72px"},"label:DivFormHeader;"),Ne=(0,ge.default)("div",{target:"e1vzkicp3"})({cursor:"pointer",padding:"9px",height:"32px"},"label:DivCloseButton;"),Be=(0,ge.default)("h4",{target:"e1vzkicp4"})((({theme:e})=>({fontSize:"20px",lineHeight:"32px",color:e.colors.TextPrimary,fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.bold,textAlign:"rtl"===e.direction?"right":"left",flex:1})),"label:H4FormTitle;"),ze=(0,ge.default)("div",{target:"e1vzkicp5"})((({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,height:"450px",overflowY:"auto",overflowX:"hidden",padding:"16px 12px 0px"})),"label:DivContainer;"),Ue=(0,ge.default)("div",{target:"e1vzkicp6"})((({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,height:"534px",overflowY:"auto",overflowX:"hidden",padding:"0px 12px",display:"flex",alignItems:"center"})),"label:DivLoading;"),qe=(0,ge.default)("div",{target:"e1vzkicp7"})((({theme:e})=>({height:"32px",fontSize:"16px",lineHeight:"24px",padding:"0px 12px",color:e.colors.TextSecondary,fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,textAlign:"rtl"===e.direction?"right":"left",flex:1})),"label:DivTitle;"),Ve=(0,ge.default)("div",{target:"e1vzkicp8"})({flex:1},"label:DivItem;"),Ge=(0,ge.default)("div",{target:"e1vzkicp9"})((({theme:e})=>({height:"52px",padding:"14px 12px",textAlign:"rtl"===e.direction?"right":"left",flex:1,".TUXRadio-container .TUXRadio-label span":{fontWeight:e.fontWeights.semiBold,color:e.colors.TextPrimary,size:"16px",lineHeight:"24px"}})),"label:DivItemRadio;"),He=(0,ge.default)("div",{target:"e1vzkicp10"})((({theme:e})=>({borderRadius:"8px",backgroundColor:e.colors.BGView,flex:1})),"label:DivItemChildrenBox;"),We=(0,ge.default)("div",{target:"e1vzkicp11"})((({theme:e})=>({height:"48px",padding:"14px 12px",textAlign:"rtl"===e.direction?"right":"left",flex:1})),"label:DivItemChildren;"),$e=(0,ge.default)("div",{target:"e1vzkicp12"})((({theme:e})=>({backgroundColor:e.colors.BGPrimary,display:"flex",flexDirection:"row",alignItems:"center",margin:"0px 12px",position:"relative",overflow:"hidden",width:"calc(100% - 24px)",height:"48px",borderBottom:`1px solid ${e.colors.LineInput}`})),"label:DivInput;"),Ke=(0,ge.default)("input",{target:"e1vzkicp13"})((({theme:e})=>({backgroundColor:e.colors.BGPrimary,color:e.colors.TextPrimary,width:"100%",height:"48px",border:"none",outline:"none"})),"label:InputItem;"),Ze=(0,ge.default)("div",{target:"e1vzkicp14"})({width:"100%",height:"38px"},"label:DivBottom;"),Qe=(0,ge.default)("div",{target:"e1vzkicp15"})((({theme:e})=>({position:"relative",height:"84px",width:"100%",borderTop:`0.5px solid ${e.colors.LinePrimary2}`,backgroundColor:e.colors.BGPrimary})),"label:DivFooter;"),Ye=(0,ge.default)("div",{target:"e1vzkicp16"})({height:"36px",position:"absolute",cursor:"pointer",top:"24px",right:"24px"},"label:DivSubmit;"),Je=(0,ge.default)("div",{target:"e1vzkicp17"})((({theme:{direction:e}})=>[(0,ve.mp)({direction:e,paddingStart:"12px"}),{display:"flex",alignItems:"center"}]),"label:DivIconWrapper;"),Xe={minWidth:"120px",borderRadius:"4px"},et=(0,s.memo)((function(e){const{groupList:t}=e,i=(0,f.s)(),r=(0,s.useRef)(null),{colors:a}=(0,de.u)(),[{otherText:l,historyNotSeenText:d,historyDisappearText:u,suggestedGroup:p,checkRadioId:h},g]=(0,o.S)(ie,{dependencies:[],selector:e=>({otherText:e.otherText,historyNotSeenText:e.historyNotSeenText,historyDisappearText:e.historyDisappearText,suggestedGroup:e.suggestedGroup,checkRadioId:e.checkRadioId})}),_=(0,s.useMemo)((()=>({fill:a.TextQuaternary,width:16,height:16,style:{}})),[a]),v=(0,s.useCallback)((e=>()=>{g.setCheckRadioId(e)}),[g]),m=(0,s.useCallback)((e=>()=>{const t=p.map((t=>e===t.text?Object.assign(Object.assign({},t),{checked:!t.checked}):t));g.setSuggestedGroup(t)}),[g,p]),y=(0,s.useCallback)((e=>{const{name:t,value:i}=e.target;i.startsWith(" ")||("historyNotSeenText"===t?g.setHistoryNotSeenText(i):"historyDisappearText"===t?g.setHistoryDisappearText(i):g.setOtherText(i))}),[g]),b=(0,s.useCallback)((e=>()=>{var t;Q.has(e)?g.setHistoryNotSeenText(""):Y.has(e)?g.setHistoryDisappearText(""):Z.has(e)&&g.setOtherText(""),null===(t=r.current)||void 0===t||t.focus()}),[g]),x=(0,s.useCallback)(((e,t)=>e?(0,n.jsx)(Je,{onClick:b(t),children:(0,n.jsx)(ue.A,Object.assign({},_))}):null),[_,b]),S=(0,s.useCallback)((e=>{if(h===e.id)return(0,n.jsxs)(n.Fragment,{children:[Z.has(e.id)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)($e,{children:[(0,n.jsx)(Ke,{ref:r,value:l,maxLength:1500,placeholder:`(${i("suggested_search_feedback12")})`,onChange:y,name:"other",autoComplete:"off"}),x(l,e.id)]}),(0,n.jsx)(Ze,{})]}),Q.has(e.id)&&(0,n.jsxs)($e,{children:[(0,n.jsx)(Ke,{ref:r,value:d,maxLength:1500,onChange:y,name:"historyNotSeenText",autoComplete:"off"}),x(d,e.id)]}),Y.has(e.id)&&(0,n.jsxs)($e,{children:[(0,n.jsx)(Ke,{ref:r,value:u,maxLength:1500,onChange:y,name:"historyDisappearText",autoComplete:"off"}),x(u,e.id)]}),J.has(e.id)&&(0,n.jsx)(He,{children:p.map(((e,t)=>(0,n.jsx)(We,{children:(0,n.jsx)(c.h$,{label:e.text,checked:e.checked,onChange:m(e.text),labelPosition:"before"})},t)))})]})}),[i,y,x,h,l,d,u,p,m]);return(0,n.jsx)(n.Fragment,{children:t.map(((e,t)=>(0,n.jsxs)(Ve,{children:[(0,n.jsx)(Ge,{children:(0,n.jsx)(c.v3,{label:i(e.name),value:i(e.name),name:"question",labelPosition:"before",onChange:v(e.id)},t)}),S(e)]},t)))})})),tt=(0,s.memo)((function(e){const{onClose:t,onSubmitSuccess:i}=e,r=(0,f.s)(),a=(0,c.Ab)({zIndex:10010}),{wid:l}=(0,x.L$)((0,j.W)((()=>["wid"]),[])),[{loading:d,reportList:u,checkRadioId:p,historyNotSeenText:h,historyDisappearText:v,otherText:m,suggestedGroup:y,isSuccess:b,feedbackId:S,buttonLoading:k},w]=(0,o.S)(ie,{dependencies:[],selector:e=>({loading:e.loading,buttonLoading:e.buttonLoading,reportList:e.reportList,checkRadioId:e.checkRadioId,historyNotSeenText:e.historyNotSeenText,historyDisappearText:e.historyDisappearText,otherText:e.otherText,suggestedGroup:e.suggestedGroup,isSuccess:e.isSuccess,feedbackId:e.feedbackId})}),[{rootEnterFrom:C}]=(0,o.S)(E.tq,{dependencies:[],selector:e=>({rootEnterFrom:e.searchGlobalParams.rootEnterFrom})}),[{historyList:T,guessSearchList:I,logId:O}]=(0,o.S)(re._,{dependencies:[],selector:e=>({historyList:e.historyList,guessSearchList:e.guessSearchList,logId:e.logId})});(0,s.useEffect)((()=>{const e=[];I.forEach((t=>{var i;t.word&&e.push({text:t.word,value:null!==(i=t.group_id)&&void 0!==i?i:"",checked:!1})})),w.setSuggestedGroup(e)}),[I,w]),(0,s.useEffect)((()=>{if("boolean"==typeof b&&"number"==typeof S){if(_.$G.handleSearchFeedbackStatus({enter_from:C,search_position:g.f.commonParams.page_name,text_type:"recom_search_feedback",impr_id:String(S),is_success:b?1:0}),b)return void i();setTimeout((()=>{a.open({message:r("search_Submission_Failed_tips"),durationMS:3e3})}),0)}}),[b,S,r,i,w,C]);const L=(0,s.useMemo)((()=>{if(!p)return"";let e="";e=Y.has(p)?v:Q.has(p)?h:m;let t="";return e.length<=14&&(t="[Transfer page feedback]"),t+e}),[p,h,v,m]),A=(0,s.useMemo)((()=>{const e="a".charCodeAt(0),t=u.map(((t,i)=>{const n=String.fromCharCode(e+i);return{[`question_${n}`]:t.name,[`answer_${n}`]:t.children.filter((({id:e})=>e===p)).map((({name:e="",id:t})=>{let i=[];return J.has(t)&&(i=y.filter((e=>e.checked)).map((e=>({title:e.text,value:e.value})))),Z.has(t)&&(i=[{title:e,value:m}]),Y.has(t)&&(i=[{title:e,value:v}]),Q.has(t)&&(i=[{title:e,value:h}]),{title:e,id:t,subInfos:i}}))}}));return{userFeedbackDetail:JSON.stringify(t)}}),[u,p,m,v,h,y]),P=(0,s.useMemo)((()=>{const e=y.map((e=>e.text));return{aid:Ae.TIKTOK_SEARCH_PC,app_name:"pc_tt_search_feedback",webid:l,content:L,appkey:"pc_tt_search_feedback-web",qr_id:p,skip_duplicate_content_check:!0,extra_params:JSON.stringify(A),from:"transfer_page",biz_appid:Ae.TIKTOK_SEARCH_PC,extra_persistent_params:JSON.stringify({historyList:T,logId:O,suggestedWords:e})}}),[L,p,T,O,y,A,l]),R=(0,s.useCallback)((e=>{e.preventDefault()}),[]),D=(0,s.useCallback)((()=>{w.submitReport(P)}),[w,P]),M=(0,s.useMemo)((()=>{if(!p)return!1;let e=!1;return y.forEach((t=>{t.checked&&(e=!0)})),J.has(p)&&e||Z.has(p)&&""!==m.trim()||!Z.has(p)&&!J.has(p)}),[p,m,y]),F=(0,s.useCallback)((()=>(0,n.jsxs)(Fe,{children:[(0,n.jsx)(Be,{"data-e2e":"search-report-title",children:r("suggested_search_feedback10")}),(0,n.jsx)(Ne,{"data-e2e":"search-report-card-cancel",onClick:t,children:(0,n.jsx)(Pe.A,{width:14,height:14})})]})),[t,r]),N=(0,s.useCallback)((()=>d?(0,n.jsx)(Ue,{children:(0,n.jsx)(c.sg,{center:!0})}):(0,n.jsxs)(n.Fragment,{children:[u.map(((e,t)=>(0,n.jsxs)(ze,{children:[(0,n.jsx)(qe,{children:r(e.name)}),(0,n.jsx)(et,{groupList:e.children})]},t))),(0,n.jsx)(Qe,{children:(0,n.jsx)(Ye,{children:(0,n.jsx)(c.I0,{label:r("Submit"),loading:k,onClick:D,disabled:!M,variant:"primary",deprecatedStyle:Xe})})})]})),[r,d,u,M,D,k]);return(0,n.jsx)(Re.i,{compact:!0,isOpen:!0,onClose:t,children:(0,n.jsxs)(Me,{"data-e2e":"report-form",onSubmit:R,children:[F(),N()]})})})),it=(0,ge.default)("div",{target:"e1hi1cmj0"})((({showingBrowserMode:e,searchBarWidth:t})=>({position:"relative",width:e?t:"",maxWidth:e?"calc(56.25vh - 32px)":""})),"label:DivSearchFormContainer;"),nt=(0,ge.default)("button",{target:"e1hi1cmj1"})((({theme:e})=>({width:"100%",height:"48px",lineHeight:"22px",fontSize:"16px",cursor:"pointer",color:e.colors.ConstTextInverse,background:e.colors.Primary,border:"none",borderRadius:"8px"})),"label:ButtonSuccessModal;"),ot=(0,ge.default)("div",{target:"e1hi1cmj2"})({width:"100%",display:"flex",flexDirection:"column",alignItems:"center",flex:1},"label:DivModalBody;"),rt=(0,ge.default)("div",{target:"e1hi1cmj3"})((({theme:e})=>({width:"100%",fontWeight:e.fontWeights.bold,color:e.colors.TextPrimary,lineHeight:"36px",fontSize:"24px",textAlign:"center",padding:"0px 32px"})),"label:DivModalBodyTitle;"),at=(0,ge.default)("div",{target:"e1hi1cmj4"})((({theme:e})=>({marginTop:"18px",width:"100%",color:e.colors.TextSecondary,lineHeight:"18px",fontSize:"16px",textAlign:"center",padding:"0px 32px"})),"label:DivModalBodyText;"),st=(0,ge.default)("div",{target:"e1hi1cmj5"})((({theme:e})=>({width:"100%",color:e.colors.TextSecondary,textAlign:"center",padding:"24px 32px"})),"label:DivModalFooter;");var lt=i(92496),dt=i(23888);const ct=e=>{const[{activeIndex:t},i]=(0,o.S)(R.C),n=t===e,r=(0,s.useCallback)((()=>{n||i.setActiveIndex(e)}),[n,i,e]);return{active:n,handleMouseEnter:r}};var ut=i(52930),pt=i(69263),ht=i(54086),gt=i(48733),_t=i(22635),vt=i(35995);const mt=(0,ge.default)("div",{target:"e13mjih40"})((({theme:{direction:e}})=>[(0,ve.mp)({direction:e,marginStart:"8px"}),{width:"24px",flex:"0 0 24px",display:"flex",flexDirection:"column",alignItems:"center",marginLift:"auto",height:"22px"}]),"label:DivActionContainer;"),ft=(0,ge.default)("div",{target:"e13mjih41"})((({shouldShowMore:e})=>({position:"relative",display:e?"block":"none"})),"label:DivMoreContainer;"),yt=(0,ge.default)(vt.A,{target:"e13mjih42"})({width:"15.83px",height:"24px",cursor:"pointer",display:"block"},"label:StyledMoreIcon;");yt.defaultProps=Object.assign(Object.assign({},yt.defaultProps),{"data-e2e":"comment-more-icon"});const bt=(0,ge.default)("div",{target:"e13mjih43"})((({theme:e})=>(0,ve.zy)({theme:e,typography:"P2",fontWeight:"semiBold",fontFamily:"TikTokFont"})),{padding:"0 12px",minWidth:"150px"},"label:DivPopupContainer;"),xt=(0,ge.default)("p",{target:"e13mjih44"})((({theme:{colors:e}})=>({display:"flex",alignItems:"center",padding:"12px 0",whiteSpace:"nowrap",cursor:"pointer","&:not(:last-of-type)":{borderBottom:`1px solid ${e.LineSecondary}`},":hover":{color:e.Primary}})),"label:PActionItem;"),St=(e,t,i)=>i?e.Primary:t?"rgba(255, 255, 255, 0.9)":e.TextPrimary,kt=(0,ge.default)("span",{target:"e13mjih45"})((({theme:{direction:e,colors:t},isBrowserMode:i,hovered:n})=>[(0,ve.mp)({direction:e,marginStart:"12px"}),{color:St(t,i,n)}]),"label:SpanActionText;"),wt="rgba(255, 255, 255, 0.9)",Ct=function({shouldShowMore:e=!1,isBrowserMode:t=!1,parentRef:i,itemInfo:a={}}){var l,d,c,u;const p=(0,f.s)(),h=(0,s.useRef)(null),{direction:g}=(0,de.u)(),{active:v,handleMouseEnter:m,handleMouseLeave:b}=(0,gt.K)(300),{user:x}=null!==(l=(0,j.W)((()=>["user"]),[]))&&void 0!==l?l:{},[{searchValue:S},k]=(0,o.S)(R.C,{selector:e=>e,dependencies:[]}),[w,C]=(0,s.useState)(!1),[T,I]=(0,s.useState)(!1),[O,L]=(0,s.useState)(-1),[E,A]=(0,s.useState)(0),[P,D]=(0,s.useState)("initial"),M=function({suggestion:e,extra:t,onShow:i}){const n=(0,r.P)(ne.L,{selector:e=>e.lang,dependencies:[]}),{handleShowReport:o}=(0,dt.Ah)({onShow:i,reportTarget:{lang:n,report_type:"suggestion",object_id:e,item_id:e,suggestion_extra:t}});return o}({suggestion:encodeURI(a.content),extra:{sug_type:a.extra_info.sug_user_id?"enrich_sug":"normal_sug",raw_query:a.content,words_content:null!==(d=a.content)&&void 0!==d?d:"",words_position:a.index,words_source:"sug",feedback_id:`${(new Date).getTime()}`,group_id:null!==(c=a.word_record.group_id)&&void 0!==c?c:"",impr_id:null!==(u=a.impr_id)&&void 0!==u?u:""}}),F=(0,s.useCallback)((e=>()=>{0===e?C(!0):1===e&&I(!0)}),[h]),N=(0,s.useCallback)((e=>()=>{0===e?C(!1):1===e&&I(!1)}),[]),B=(0,s.useCallback)((e=>{13===e.keyCode||32===e.keyCode?((0,y.Gu)(e),v?b():m()):27===e.keyCode&&v&&((0,y.Gu)(e),b())}),[m,b,v]),z=(0,s.useCallback)((e=>t=>{13!==t.keyCode&&32!==t.keyCode||((0,y.Gu)(t),e(t))}),[]),U="ltr"===g?"bottomRight":"bottomLeft",{colors:q}=(0,de.u)(),V=(0,s.useCallback)((e=>{var t,i,n;e.preventDefault(),e.stopPropagation(),_.$G.handleSugReportConfirm({feedback_id:`${(new Date).getTime()}`,group_id:null!==(t=a.word_record.group_id)&&void 0!==t?t:"",words_content:null!==(i=a.content)&&void 0!==i?i:"",words_position:a.index,raw_query:S,impr_id:null!==(n=a.impr_id)&&void 0!==n?n:"",button_type:"not_relevant",words_source:"sug",sug_type:a.extra_info.sug_user_id?"enrich_sug":"normal_sug"}),b(),k.setActiveIndex(-1),ht.F.open({content:p("Thank you for your feedback"),duration:3})}),[p,x,a,k]),G=(0,s.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),M(e)}),[M]),H=(0,s.useCallback)((e=>0===e?w?q.Primary:t?wt:void 0:1===e?T?q.Primary:t?wt:void 0:void 0),[w,T,t,q]);(0,s.useEffect)((()=>{var e,t,i;v&&_.$G.handleSugReportLaunch({feedback_id:`${(new Date).getTime()}`,group_id:null!==(e=a.word_record.group_id)&&void 0!==e?e:"",words_content:null!==(t=a.content)&&void 0!==t?t:"",words_position:a.index,words_source:"sug",raw_query:S,impr_id:null!==(i=a.impr_id)&&void 0!==i?i:"",sug_type:a.extra_info.sug_user_id?"enrich_sug":"normal_sug"})}),[v]),(0,s.useEffect)((()=>{var e,t;if(h.current&&v){const n=h.current.getBoundingClientRect().top;O<0&&L(n);const o=null!==(t=null===(e=null==i?void 0:i.current)||void 0===e?void 0:e.scrollTop)&&void 0!==t?t:0;D(`${O-o<=0?"initial":O-o}px`),A(h.current.clientWidth)}}),[h.current,v,null==i?void 0:i.current]);const W=(0,s.useCallback)((()=>{const e=E-18-12+4;return"ltr"===g?`-${e}px`:`${e}px`}),[E,g]);return(0,n.jsx)(mt,{children:(0,n.jsxs)(ft,{"aria-label":p("pc_web_more_btn"),role:"button",shouldShowMore:e,onMouseEnter:m,onMouseLeave:b,tabIndex:0,onKeyDown:B,children:[(0,n.jsx)(yt,{fill:t?wt:void 0}),(0,n.jsx)(_t.z,{backgroundColor:t?"#252525":q.BGSecondary,active:v,placement:U,style:{position:"fixed",top:P,transform:`translateX(${W()})`},margin:"initial",children:(0,n.jsxs)(bt,{ref:h,children:[(0,n.jsxs)(xt,{"aria-label":p("Report"),role:"button",tabIndex:0,"data-e2e":"related-search-report",onMouseEnter:F(0),onMouseLeave:N(0),onMouseDown:G,onKeyDown:z(G),children:[(0,n.jsx)(ut.A,{width:24,height:24,fill:H(0)}),(0,n.jsx)(kt,{isBrowserMode:t,hovered:w,children:p("Report")})]}),(0,n.jsxs)(xt,{"aria-label":p("sug_report_relevant"),role:"button",onMouseDown:V,tabIndex:1,onKeyDown:z(V),"data-e2e":"sug-not-relevant",onMouseEnter:F(1),onMouseLeave:N(1),children:[(0,n.jsx)(pt.A,{width:24,height:24,fill:H(1)}),(0,n.jsx)(kt,{isBrowserMode:t,hovered:T,children:p("sug_report_relevant")})]})]})})]})})};var jt=i(20559);const Tt=(e,t,i)=>i?"0 2px 12px rgba(0, 0, 0, 0.12)":t?"":`0 2px 12px ${e.ShadowPrimary}`,It=(0,ge.default)("ul",{target:"e1gva98t0"})((({theme:{colors:e,isDark:t},isBrowserMode:i,isFullSideNav:n})=>[{position:"absolute",width:"100%",boxSizing:"border-box",maxHeight:(n?"min(calc(100vh - 150px), 734px)":i&&"210px")||`min(calc(100vh - 96px - ${ve.uF}px), 734px)`,overflowY:"auto",overflowX:"hidden",listStyleType:"none",paddingInlineStart:0},!n&&{paddingTop:"8px",marginTop:"8px",background:i?"rgba(18, 18, 18, 1)":e.BGSecondary,boxShadow:Tt(e,t,i),borderRadius:"8px"}]),"label:UlContainer;");It.defaultProps=Object.assign(Object.assign({},It.defaultProps),{"data-e2e":"sug-container"});const Ot=(0,ge.default)("li",{target:"e1gva98t1"})((({paddingVertical:e,active:t,theme:{colors:i}})=>({padding:`${e}px 16px`,cursor:"pointer",background:t?i.BGView:void 0,display:"flex",alignItems:"center"})),"label:LiItemContainer;"),Lt=(0,ge.default)("h4",{target:"e1gva98t2"})((({theme:{typography:e,fontWeights:t},isBrowserMode:i})=>Object.assign(Object.assign({},e.P2),{fontWeight:t.semiBold,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:i?"rgba(255, 255, 255, 0.9)":""})),"label:H4ItemTitle;"),Et=(0,ge.default)("p",{target:"e1gva98t3"})((({theme:{typography:e,fontWeights:t,colors:i},isBrowserMode:n})=>Object.assign(Object.assign({},e.P3),{color:n?"rgba(255,255,255,0.5)":i.TextTertiary,fontWeight:t.normal,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"})),"label:PItemDesc;"),At=(0,ge.default)("p",{target:"e1gva98t4"})((({theme:{fontFamilies:e,fontWeights:t,typography:i,colors:n},isBrowserMode:o})=>Object.assign(Object.assign({fontFamily:e.TikTokFont,fontWeight:t.semiBold},i.P2),{color:o?"rgba(255, 255, 255, 0.9)":n.TextPrimary,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"})),"label:PMoreText;"),Pt=(0,ge.default)("div",{target:"e1gva98t5"})((({theme:{direction:e}})=>Object.assign({height:"20px",flex:"0 0 20px",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"15px"},(0,ve.mp)({direction:e,marginEnd:"8px"}))),"label:DivSearchIconContainer;"),Rt=(0,ge.default)(jt.e,{target:"e1gva98t6"})((({theme:{direction:e}})=>Object.assign({},(0,ve.mp)({direction:e,marginEnd:"12px"}))),"label:StyledAvatar;"),Dt=(0,ge.default)("div",{target:"e1gva98t7"})({flex:"0 1 auto",minWidth:0,width:"100%"},"label:DivSugItemContent;"),Mt=(0,ge.default)("div",{target:"e1gva98t8"})((({theme:{fontWeights:e,typography:t,colors:i},isBrowserMode:n})=>Object.assign(Object.assign({height:"30px",padding:"5px 12px"},t.P3),{fontWeight:e.semiBold,color:n?"rgba(255, 255, 255, 0.5)":i.TextTertiary})),"label:DivSugAccountTitle;"),Ft=(0,ge.default)("div",{target:"e1gva98t9"})({display:"flex",justifyContent:"space-between",alignItems:"center"},"label:DivSugItemWrapper;"),Nt=(0,ge.default)("div",{target:"e1gva98t10"})({},"label:DivSugUserInfo;"),Bt=(0,s.memo)((function(e){const{item:t,index:i,onSelect:o,parentRef:a}=e,{user:l}=(0,r.P)(ne.L,{selector:e=>{var t;return{user:null===(t=e.appContext)||void 0===t?void 0:t.user}},dependencies:[]}),d=Boolean(l),{active:c,handleMouseEnter:u}=ct(i),p=(0,C.JD)((e=>e.showingBrowserMode)),{content:h,extra_info:g}=t,{nickname:_,unique_id:v,is_verified:m,rich_sug_avatar_uri:f}=g,{hasSugReport:y}=(0,se.CA)(),b=Boolean(v),x=(0,s.useCallback)((e=>{null==o||o(e,t,i)}),[i,t,o]),S=(0,s.useCallback)(((e,t)=>Object.assign({index:t},e)),[]),k=b?"user-sug-item":"content-sug-item";return(0,n.jsxs)(Ot,{id:`sug-list-item-${i}`,"data-e2e":k,paddingVertical:9,active:c,onMouseDown:x,onMouseMove:u,role:"option",children:[b?(0,n.jsx)(Rt,{"data-e2e":"sug-user-avatar",src:f,size:40}):(0,n.jsx)(Pt,{children:(0,n.jsx)(ce.A,{fill:p?"rgba(255, 255, 255, 0.9)":void 0})}),(0,n.jsx)(Dt,{children:b?(0,n.jsxs)(Ft,{children:[(0,n.jsxs)(Nt,{children:[(0,n.jsxs)(Lt,{"data-e2e":"sug-username",isBrowserMode:p,children:[v," ",m&&(0,n.jsx)(lt.s,{"data-e2e":"sug-bluev",width:14,height:14},"badge")]}),(0,n.jsx)(Et,{"data-e2e":"sug-nickname",isBrowserMode:p,children:_})]}),y&&d&&(0,n.jsx)(Ct,{shouldShowMore:c,isBrowserMode:p,parentRef:a,itemInfo:S(t,i)})]}):(0,n.jsxs)(Ft,{children:[(0,n.jsx)(Lt,{isBrowserMode:p,children:h}),y&&d&&(0,n.jsx)(Ct,{shouldShowMore:c,isBrowserMode:p,parentRef:a,itemInfo:S(t,i)})]})})]})})),zt=(0,s.memo)((function({index:e,onClick:t}){const i=(0,r.P)(R.C,{dependencies:[],selector:e=>e.searchValue}),{active:o,handleMouseEnter:a}=ct(e),l=(0,C.JD)((e=>e.showingBrowserMode)),d=(0,f.s)()("view_all_results",{keyword:i}),c=(0,s.useCallback)((e=>{null==t||t(e,"click_view_all")}),[t]);return(0,n.jsx)(Ot,{id:`sug-list-item-${e}`,"data-e2e":"sug-more",paddingVertical:15,active:o,onMouseMove:a,onMouseDown:c,role:"option",children:(0,n.jsx)(At,{isBrowserMode:l,children:d})})})),Ut=(0,s.memo)((function(e){const t=(0,f.s)(),i=(0,s.useRef)(null),[r,a]=(0,o.S)(R.C,{selector:e=>e.sugList,dependencies:[]}),l=(0,s.useCallback)((()=>{a.setActiveIndex(-1)}),[a]),[d,c]=(0,s.useMemo)((()=>r.reduce((([e,t],i)=>(i.extra_info.sug_user_id?e.push(i):t.push(i),[e,t])),[[],[]])),[r]),u=(0,C.JD)((e=>e.showingBrowserMode)),p=(t,o=0)=>t.map(((t,r)=>(0,n.jsx)(Bt,{item:t,index:r+o,onSelect:e.onSelect,parentRef:i},t.content)));return(0,n.jsxs)(It,{id:"header-sug-results",onMouseLeave:l,role:"listbox","aria-label":t("accessibilityLabels_search_suggestions"),isBrowserMode:u,onScroll:y.dG,onWheel:y.dG,isFullSideNav:e.isFullSideNav,ref:i,children:[p(c),0===d.length?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Mt,{"data-e2e":"sug-account",isBrowserMode:u,children:t("search_account")}),p(d,c.length)]}),(0,n.jsx)(zt,{index:r.length,onClick:e.onSelectMore})]})}));var qt=i(31887),Vt=i(86765),Gt=i(2576),Ht=i(56471);const Wt=e=>{const[{activeIndex:t},i]=(0,o.S)(re._),n=t===e,r=(0,s.useCallback)((()=>{n||i.setActiveIndex(e)}),[n,i,e]);return{active:n,handleMouseEnter:r}};var $t;function Kt(){return Kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Kt.apply(null,arguments)}const Zt=function(e){return s.createElement("svg",Kt({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 12 12",width:"1em",height:"1em"},e),$t||($t=s.createElement("path",{fill:"#161823",fillOpacity:.6,fillRule:"evenodd",d:"M5.47 8.28L1.896 4.707a.25.25 0 010-.353l.708-.708a.25.25 0 01.353 0L6 6.69l3.043-3.043a.25.25 0 01.353 0l.708.708a.25.25 0 010 .353L6.53 8.28a.75.75 0 01-1.06 0z",clipRule:"evenodd"})))};var Qt;function Yt(){return Yt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Yt.apply(null,arguments)}const Jt=function(e){return s.createElement("svg",Yt({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 12 12",width:"1em",height:"1em"},e),Qt||(Qt=s.createElement("path",{fill:"white",fillOpacity:.6,fillRule:"evenodd",d:"M5.47 8.28L1.896 4.707a.25.25 0 010-.353l.708-.708a.25.25 0 01.353 0L6 6.69l3.043-3.043a.25.25 0 01.353 0l.708.708a.25.25 0 010 .353L6.53 8.28a.75.75 0 01-1.06 0z",clipRule:"evenodd"})))};var Xt,ei;function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ti.apply(null,arguments)}const ii=function(e){return s.createElement("svg",ti({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},e),Xt||(Xt=s.createElement("g",{clipPath:"url(#clock_fill_svg__clip0_337_7905)"},s.createElement("path",{fill:"#161823",fillOpacity:.34,d:"M.8 8a7.2 7.2 0 1114.4 0A7.2 7.2 0 01.8 8zm9.764 2.853c.15.106.359.069.464-.082l.612-.874a.333.333 0 00-.082-.464L9.01 7.65a.333.333 0 01-.143-.273V4.334a.333.333 0 00-.333-.333H7.467a.333.333 0 00-.333.333v3.771c0 .218.106.421.284.546l3.146 2.202z"}))),ei||(ei=s.createElement("defs",null,s.createElement("clipPath",{id:"clock_fill_svg__clip0_337_7905"},s.createElement("path",{fill:"white",d:"M0 0h16v16H0z"})))))};var ni,oi;function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ri.apply(null,arguments)}const ai=function(e){return s.createElement("svg",ri({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},e),ni||(ni=s.createElement("g",{clipPath:"url(#clock_fill_dark_svg__clip0_337_7817)"},s.createElement("path",{fill:"white",fillOpacity:.34,d:"M.8 8a7.2 7.2 0 1114.4 0A7.2 7.2 0 01.8 8zm9.764 2.853c.15.106.358.069.464-.082l.611-.874a.333.333 0 00-.082-.464L9.01 7.65a.333.333 0 01-.142-.273V4.334a.333.333 0 00-.333-.333H7.467a.333.333 0 00-.333.333v3.771c0 .218.106.421.284.546l3.145 2.202z"}))),oi||(oi=s.createElement("defs",null,s.createElement("clipPath",{id:"clock_fill_dark_svg__clip0_337_7817"},s.createElement("path",{fill:"white",d:"M0 0h16v16H0z"})))))};var si;function li(){return li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},li.apply(null,arguments)}const di=function(e){return s.createElement("svg",li({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},e),si||(si=s.createElement("path",{fill:"#FE2C55",fillRule:"evenodd",d:"M13.942 10.338c.196-1.164-.017-3.798-2.031-5.434-.165-.134-.408-.073-.515.11-.457.785-1.2 1.741-2.11 2.08.556-1.91.833-5.2-2.108-6.871a.327.327 0 00-.486.26c-.128 1.212-.275 2.216-2.227 4.18C3.3 6.093 1.7 8.096 2.05 10.337 2.44 12.853 4.647 15 8.039 15c3.393 0 5.49-2.201 5.903-4.662z",clipRule:"evenodd"})))};var ci;function ui(){return ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ui.apply(null,arguments)}const pi=function(e){return s.createElement("svg",ui({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},e),ci||(ci=s.createElement("path",{fill:"#FF3B5C",fillRule:"evenodd",d:"M13.942 10.338c.196-1.164-.017-3.798-2.031-5.434-.165-.134-.408-.073-.515.11-.457.785-1.2 1.741-2.11 2.08.556-1.91.833-5.2-2.108-6.871a.327.327 0 00-.486.26c-.128 1.212-.275 2.216-2.227 4.18C3.3 6.093 1.7 8.096 2.05 10.337 2.44 12.853 4.647 15 8.039 15c3.393 0 5.49-2.201 5.903-4.662z",clipRule:"evenodd"})))};var hi;function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},gi.apply(null,arguments)}const _i=function(e){return s.createElement("svg",gi({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},e),hi||(hi=s.createElement("path",{fill:"#FE2C55",d:"M13.667 1.401v9.933a2.333 2.333 0 11-2.334-2.333h1.2V3.147L6 3.997v8.337a2.333 2.333 0 11-2.334-2.333h1.2V2.462c0-.167.125-.309.291-.33L13.29 1.07c.2-.026.377.129.377.33z"})))};var vi;function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},mi.apply(null,arguments)}const fi=function(e){return s.createElement("svg",mi({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},e),vi||(vi=s.createElement("path",{fill:"#FF3B5C",d:"M13.667 1.401v9.933a2.333 2.333 0 11-2.333-2.333h1.2V3.147l-6.533.85v8.337a2.333 2.333 0 11-2.334-2.333h1.2V2.462c0-.167.125-.309.29-.33l8.134-1.061c.2-.026.376.129.376.33z"})))};var yi;function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},bi.apply(null,arguments)}const xi=function(e){return s.createElement("svg",bi({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},e),yi||(yi=s.createElement("path",{fill:"#FE2C55",fillRule:"evenodd",d:"M8.333.507a.437.437 0 00-.666 0L1.105 8.209a.437.437 0 00.333.721h3.529v5.86c0 .24.196.437.437.437H10.6a.437.437 0 00.437-.438V8.93h3.526a.437.437 0 00.333-.72L8.333.506z",clipRule:"evenodd"})))};var Si;function ki(){return ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ki.apply(null,arguments)}const wi=function(e){return s.createElement("svg",ki({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},e),Si||(Si=s.createElement("path",{fill:"#FF3B5C",fillRule:"evenodd",d:"M8.333.507a.437.437 0 00-.666 0L1.105 8.209a.437.437 0 00.333.721h3.528v5.86c0 .24.196.437.438.437h5.194a.437.437 0 00.438-.438V8.93h3.525a.437.437 0 00.333-.72L8.333.506z",clipRule:"evenodd"})))};var Ci;function ji(){return ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},ji.apply(null,arguments)}const Ti=function(e){return s.createElement("svg",ji({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},e),Ci||(Ci=s.createElement("path",{fill:"#161823",fillOpacity:.34,d:"M7.057 8L3.431 4.374a.333.333 0 010-.472l.472-.471c.13-.13.34-.13.47 0L8 7.057l3.626-3.626c.13-.13.342-.13.472 0l.471.471c.13.13.13.342 0 .472L8.943 8l3.626 3.626c.13.13.13.341 0 .472l-.471.471a.333.333 0 01-.472 0L8 8.943l-3.626 3.626a.333.333 0 01-.471 0l-.472-.471a.333.333 0 010-.472L7.057 8z"})))};var Ii;function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Oi.apply(null,arguments)}const Li=function(e){return s.createElement("svg",Oi({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",width:"1em",height:"1em"},e),Ii||(Ii=s.createElement("path",{fill:"white",fillOpacity:.34,d:"M7.057 8L3.431 4.374a.333.333 0 010-.472l.472-.471c.13-.13.34-.13.47 0L8 7.057l3.626-3.626c.13-.13.342-.13.472 0l.471.471c.13.13.13.342 0 .472L8.943 8l3.626 3.626c.13.13.13.341 0 .472l-.471.471a.333.333 0 01-.472 0L8 8.943l-3.626 3.626a.333.333 0 01-.471 0l-.472-.471a.333.333 0 010-.472L7.057 8z"})))};var Ei,Ai;function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Pi.apply(null,arguments)}const Ri=function(e){return s.createElement("svg",Pi({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 14",width:"1em",height:"1em"},e),Ei||(Ei=s.createElement("path",{fill:"#FE2C55",fillRule:"evenodd",d:"M5.461 5.026a.833.833 0 01.642.098l3.61 2.221 3.879-6.57 1.148.679a.333.333 0 01.118.456l-4.14 7.014a.833.833 0 01-1.155.286L5.961 6.993l-3.906 6.8a.333.333 0 01-.455.123l-.867-.498a.333.333 0 01-.123-.455l4.334-7.545a.833.833 0 01.517-.392z",clipRule:"evenodd"})),Ai||(Ai=s.createElement("path",{fill:"#FE2C55",fillRule:"evenodd",d:"M10.585 1.86L14.555.09a.358.358 0 01.49.282l.453 4.327a.258.258 0 01-.387.25L10.557 2.32a.256.256 0 01.028-.46z",clipRule:"evenodd"})))},Di=(0,ge.default)("ul",{target:"e1ysk6kp0"})((({theme:{colors:e,isDark:t},isFullSideNav:i})=>[{position:"absolute",width:"100%",boxSizing:"border-box",maxHeight:i?"min(calc(100vh - 150px), 734px)":`min(calc(100vh - 96px - ${ve.uF}px), 760px)`,overflowY:"auto",overflowX:"hidden",listStyleType:"none",paddingInlineStart:0},!i&&{paddingTop:"8px",marginTop:"8px",background:e.BGSecondary,boxShadow:t?"":`0 2px 12px ${e.ShadowPrimary}`,borderRadius:"8px"}]),"label:UlContainer;");Di.defaultProps=Object.assign(Object.assign({},Di.defaultProps),{"data-e2e":"transfer-container"});const Mi=(0,ge.default)("div",{target:"e1ysk6kp1"})((({theme:e,theme:{colors:t}})=>[(0,ve.zy)({theme:e,fontWeight:"semiBold",fontFamily:"TikTokFont"}),{fontSize:"14px",lineHeight:"22px",color:t.TextSecondary,padding:"5px 12px 3px"}]),"label:DivHeader;"),Fi=(0,ge.default)("li",{target:"e1ysk6kp2"})((({active:e,theme:{colors:t}})=>({padding:"9px 16px",cursor:"pointer",background:e?t.BGView:void 0,display:"flex",alignItems:"center"})),"label:LiItemContainer;"),Ni=(0,ge.default)("h4",{target:"e1ysk6kp3"})((({theme:e,theme:{direction:t}})=>[(0,ve.zy)({theme:e,fontWeight:"semiBold",fontFamily:"TikTokFont"}),{fontSize:"16px",lineHeight:"24px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},(0,ve.mp)({direction:t,paddingStart:"8px",paddingEnd:"12px"})]),"label:H4ItemText;"),Bi=(0,ge.default)("div",{target:"e1ysk6kp4"})((({theme:{direction:e}})=>[(0,ve.mp)({direction:e}),{width:"100%",padding:"12px 0px",cursor:"pointer",display:"flex",justifyContent:"center",textAlign:"center",alignItems:"center"}]),"label:DivFooter;"),zi=(0,ge.default)("div",{target:"e1ysk6kp5"})((({theme:e,theme:{direction:t,colors:i}})=>[(0,ve.zy)({theme:e,fontWeight:"semiBold",fontFamily:"TikTokFont"}),(0,ve.mp)({direction:t,marginStart:"2px"}),{color:i.TextTertiaryAlt,fontSize:"15px",lineHeight:"18px"}]),"label:DivFooterText;"),Ui=(0,ge.default)("div",{target:"e1ysk6kp6"})((({theme:e,theme:{colors:t}})=>[(0,ve.zy)({theme:e,fontWeight:"semiBold",fontFamily:"TikTokFont"}),{fontSize:"15px",lineHeight:"18px",color:t.TextTertiaryAlt}]),"label:DivFeedback;"),qi=(0,ge.default)(Zt,{target:"e1ysk6kp7"})((({theme:{direction:e}})=>[(0,ve.mp)({direction:e,marginStart:"2px"}),{width:"12px",height:"12px"}]),"label:StyledChevronDown;"),Vi=(0,ge.default)(Jt,{target:"e1ysk6kp8"})((({theme:{direction:e}})=>[(0,ve.mp)({direction:e,marginStart:"2px"}),{width:"12px",height:"12px"}]),"label:StyledChevronDownDark;"),Gi={width:"16px",height:"16px",flexShrink:0},Hi=(0,ge.default)(ii,{target:"e1ysk6kp9"})(Gi,"label:StyledClockFill;"),Wi=(0,ge.default)(ai,{target:"e1ysk6kp10"})(Gi,"label:StyledClockFillDark;"),$i=(0,ge.default)(Ti,{target:"e1ysk6kp11"})((({theme:{direction:e}})=>[(0,ve.mp)({direction:e,marginStart:"auto"}),Gi]),"label:StyledXMark;"),Ki=(0,ge.default)(Li,{target:"e1ysk6kp12"})((({theme:{direction:e}})=>[(0,ve.mp)({direction:e,marginStart:"auto"}),Gi]),"label:StyledXMarkDark;"),Zi=(0,ge.default)("div",{target:"e1ysk6kp13"})({width:"16px",height:"16px",display:"flex",flexShrink:0,justifyContent:"center",alignItems:"center"},"label:DivMark;"),Qi=(0,ge.default)("div",{target:"e1ysk6kp14"})((({theme:{colors:e}})=>({width:"6px",height:"6px",borderRadius:"50%",background:e.TextQuaternary})),"label:DivMarkDot;"),Yi={2:(0,ge.default)(di,{target:"e1ysk6kp16"})(Gi),17:(0,ge.default)(xi,{target:"e1ysk6kp17"})(Gi),18:(0,ge.default)(_i,{target:"e1ysk6kp18"})(Gi)},Ji={2:(0,ge.default)(pi,{target:"e1ysk6kp19"})(Gi),17:(0,ge.default)(wi,{target:"e1ysk6kp20"})(Gi),18:(0,ge.default)(fi,{target:"e1ysk6kp21"})(Gi)},Xi={2:(0,ge.default)(Ri,{target:"e1ysk6kp22"})(Gi)},en={2:(0,ge.default)(Ri,{target:"e1ysk6kp23"})(Gi)},tn=(0,ge.default)("div",{target:"e1ysk6kp24"})({display:"flex",justifyContent:"center",alignItems:"center",height:"18px",marginTop:"11.5px",marginBottom:"20.5px"},"label:DivTransferFooter;"),nn=(0,ge.default)("div",{target:"e1ysk6kp25"})((({theme:{colors:e}})=>({cursor:"pointer",fontSize:"14px",fontWeight:500,lineHeight:"18px",color:e.TextTertiaryAlt,display:"flex"})),"label:DivFooterButton;"),on=(0,ge.default)("div",{target:"e1ysk6kp26"})((({theme:{colors:e}})=>({height:"12px",color:e.LineSecondary,margin:"0 16px",display:"flex",alignItems:"center"})),"label:DivFooterSeparator;"),rn=(0,ge.default)("div",{target:"e1ysk6kp27"})((({theme:{colors:e,direction:t}})=>[{display:"flex",width:"16px",height:"16px",justifyContent:"center",alignItems:"center","*":{fill:e.TextTertiaryAlt}},(0,ve.mp)({direction:t,marginEnd:"4px"})]),"label:DivFooterIconWrapper;"),an=(0,s.memo)((function(e){const{offset:t,index:i,item:r,onSelect:a}=e,{isDark:l}=(0,de.u)(),{active:d,handleMouseEnter:c}=Wt(t+i),[{rootEnterFrom:u}]=(0,o.S)(E.tq,{selector:e=>({rootEnterFrom:e.searchGlobalParams.rootEnterFrom}),dependencies:[]}),[{videoPageType:p}]=(0,o.S)(R.C,{selector:e=>({videoPageType:e.videoPageType}),dependencies:[]}),h=(0,pe.Ul)(),{shouldRecomReduceIconRisk:v}=(0,se.a8)(),m=(0,s.useCallback)((e=>{var t,n,o,s,l;e.preventDefault(),(null==r?void 0:r.word)&&(_.$G.handleTrendingWordsClick({enter_from:u,words_source:"recom_search",words_position:i,words_content:null==r?void 0:r.word,search_position:g.f.commonParams.page_name,words_type:null!==(n=Ht._[null!==(t=null==r?void 0:r.word_type)&&void 0!==t?t:""])&&void 0!==n?n:"",group_id:null!==(o=null==r?void 0:r.group_id)&&void 0!==o?o:"",impr_id:null!==(s=null==r?void 0:r.impr_id)&&void 0!==s?s:"",enter_group_id:null!==(l=null==h?void 0:h.id)&&void 0!==l?l:"",video_page_type:p}),null==a||a(e,null==r?void 0:r.word,"recom_search",null==r?void 0:r.impr_id,!1))}),[r,i,a,u,h,p]);return(0,n.jsxs)(Fi,{"data-e2e":"search-transfer-guess-search-item",id:`transfer-list-item-${i}`,active:d,onMouseMove:c,onMouseDown:m,children:[(()=>{var e,t;if(null==r?void 0:r.word_type){let i=Yi[null==r?void 0:r.word_type],o=Ji[null==r?void 0:r.word_type];if(v&&(i=null!==(e=Xi[null==r?void 0:r.word_type])&&void 0!==e?e:i,o=null!==(t=en[null==r?void 0:r.word_type])&&void 0!==t?t:o),l&&o)return(0,n.jsx)(o,{});if(i)return(0,n.jsx)(i,{})}return(0,n.jsx)(Zi,{children:(0,n.jsx)(Qi,{})})})(),(0,n.jsx)(Ni,{children:r.word})]})})),sn=(0,s.memo)((function(e){const{index:t,item:i,onSelect:r,onDeleteHistory:a}=e,{isDark:l}=(0,de.u)(),{active:d,handleMouseEnter:c}=Wt(t),[{rootEnterFrom:u}]=(0,o.S)(E.tq,{selector:e=>({rootEnterFrom:e.searchGlobalParams.rootEnterFrom}),dependencies:[]}),p=(0,s.useCallback)((e=>{e.preventDefault(),_.$G.handleSearchHistory({enter_from:u,search_entrance:u,search_position:g.f.commonParams.page_name,search_keyword:i,action_type:"click",order:t}),null==r||r(e,i,"search_history")}),[i,t,r,u]),h=(0,s.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),null==a||a(i,t)}),[i,t,a]);return(0,n.jsxs)(Fi,{"data-e2e":"search-transfer-history-item",id:`transfer-list-item-${t}`,active:d,onMouseMove:c,onMouseDown:p,children:[l?(0,n.jsx)(Wi,{}):(0,n.jsx)(Hi,{}),(0,n.jsx)(Ni,{children:i}),l?(0,n.jsx)(Ki,{onMouseDown:h}):(0,n.jsx)($i,{onMouseDown:h})]})})),ln=(0,s.memo)((function(e){var t,i;const{hasHistory:a,hasGuessSearch:d,onSelect:c,isFullSideNav:u}=e,p=(0,f.s)(),{isDark:v}=(0,de.u)(),[m,b]=(0,s.useState)(!0),{language:C}=null!==(t=(0,j.W)((()=>["language"]),[]))&&void 0!==t?t:{},[{rootEnterFrom:T,preSearchId:I}]=(0,o.S)(E.tq,{selector:e=>({rootEnterFrom:e.searchGlobalParams.rootEnterFrom,preSearchId:e.searchGlobalParams.preSearchId}),dependencies:[]}),[{historyList:O,guessSearchList:L},A]=(0,o.S)(re._,{dependencies:[],selector:e=>({historyList:e.historyList,guessSearchList:e.guessSearchList})}),P=(0,o.w)(ie),D=(0,o.w)(R.C),{user:M}=(0,r.P)(ne.L,{selector:e=>{var t;return{user:null===(t=e.appContext)||void 0===t?void 0:t.user}},dependencies:[]}),F=null==M?void 0:M.uid,N=Boolean(M),{abTestVersion:B}=(0,x.L$)((0,j.W)((()=>["abTestVersion"]),[])),z="v2"===(null!==(i=(0,S.qt)(B,"search_report"))&&void 0!==i?i:"v1")&&N,{hasPersonalizedSwitch:U}=(0,se.uJ)(),q=(0,s.useCallback)((()=>{A.setShouldRemainOpen(!1),D.handleInputFocusChange(!0)}),[A,D]),V=he(),G=(()=>{const e=(0,l.zy)(),{pathname:t,search:i}=e,n=(0,l.W6)(),r=Boolean((0,l.B6)(t,{path:h.OZ.searchHome})),{resetSearchResult:a}=(0,o.w)(E.tq);return(0,s.useCallback)((()=>{r&&(a(),n.push({pathname:h.OZ.searchHome,search:i,state:{enterMethod:"manage_personalise"}}))}),[r,a,i,n])})(),{PersonalizedModal:H,handleOpenModal:W}=(0,Gt.D0)({beforeModalCloseCallback:q,afterStatusChangeCallback:()=>{V(),G()},preSearchId:I,showToastRightAfterChange:!0});(0,s.useEffect)((()=>{var e;if(F){const t=(0,y._S)(k.Z3);let i=[];i=null!==(e=w.LU.getItem(F))&&void 0!==e?e:[],0===i.length&&t&&(i=JSON.parse(t)),A.setHistoryList(null!=i?i:[])}}),[A,F]);const $=(0,s.useCallback)((()=>{A.setActiveIndex(-1)}),[A]),K=(0,s.useCallback)((e=>{e.preventDefault(),_.$G.handleSearchHistory({enter_from:T,search_entrance:T,search_position:g.f.commonParams.page_name,search_keyword:"",action_type:"show_all",order:-1}),b(!1)}),[b,T]),Z=(0,s.useCallback)((e=>{e.preventDefault(),_.$G.handleSearchHistory({enter_from:T,search_entrance:T,search_position:g.f.commonParams.page_name,search_keyword:"",action_type:"clear_all",order:-1}),A.setHistoryList([]),w.LU.removeAll()}),[A,T]),Q=(0,s.useCallback)((()=>{P.getReport({aid:Ae.TIKTOK_SEARCH_PC,app_name:"pc_tt_search_feedback",lang:De(null!=C?C:"en"),entrance:"transfer_page",faq_type:"",appkey:"pc_tt_search_feedback-web"}),P.setIsOpenReport(!0),A.setShouldUpdateData(!1),A.setShouldRemainOpen(!0),_.$G.handleClickSearchFeedback({enter_from:T,search_position:g.f.commonParams.page_name,button_type:"open",text_type:"recom_search_feedback"})}),[P,A,C,T]),Y=()=>{if(m&&!(O.length<=5))return(0,n.jsxs)(Bi,{"data-e2e":"search-transfer-history-see-more",onMouseDown:K,children:[(0,n.jsx)(zi,{children:p("embed_music_card_see_more")}),v?(0,n.jsx)(Vi,{}):(0,n.jsx)(qi,{})]})},J=()=>{if(!(m||O.length<=5))return(0,n.jsx)(Bi,{"data-e2e":"search-transfer-history-clear-all",onMouseDown:Z,children:(0,n.jsx)(zi,{children:p("web_search_clear_btn")})})},X=(0,s.useCallback)(((e,t)=>{if(F){_.$G.handleSearchHistory({enter_from:T,search_entrance:T,search_position:g.f.commonParams.page_name,search_keyword:"",action_type:"clear",order:t});const i=O.filter((t=>t!==e));A.setHistoryList(i),w.LU.setItem(F,i)}}),[O,A,T,F]),ee=()=>{if(z&&!U)return(0,n.jsx)(Bi,{"data-e2e":"search-transfer-feedback",onMouseDown:Q,children:(0,n.jsx)(Ui,{children:p("suggested_search_feedback9")})})},te=(0,s.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),A.setShouldRemainOpen(!0),A.setShouldUpdateData(!1),W()}),[W,A]),oe=()=>{if(!U)return;let e=[{name:p("searchquerycomment_feedbackpanel_header"),event:Q,icon:(0,n.jsx)(rn,{children:(0,n.jsx)(qt.O,{size:13})})},{name:p("personalisedSearch_searchResults_searchBlankPage_manageSearchLabel"),event:te,icon:(0,n.jsx)(rn,{children:(0,n.jsx)(Vt.K,{size:13})})}];return z||(e=e.slice(1)),(0,n.jsx)(tn,{children:e.map(((t,i)=>(0,n.jsxs)(s.Fragment,{children:[(0,n.jsxs)(nn,{onMouseDown:t.event,children:[t.icon,t.name]}),i<e.length-1&&(0,n.jsx)(on,{children:"|"})]},i)))})};return(0,n.jsxs)(Di,{"data-e2e":"search-transfer",id:"header-transfer",onMouseLeave:$,isFullSideNav:u,children:[(()=>{if(!O.length||!a)return;let e=O;return O.length>5&&m&&(e=O.slice(0,5)),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Mi,{"data-e2e":"search-transfer-history-title",children:p("web_search_recent_header")}),e.map(((e,t)=>(0,n.jsx)(sn,{item:e,index:t,onDeleteHistory:X,onSelect:c},e))),Y(),J()]})})(),(()=>{var e;if(!d||!L.length)return;let t=null!==(e=Number(O.length))&&void 0!==e?e:0;return O.length>5&&m&&(t=5),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Mi,{"data-e2e":"search-transfer-guess-search-title",children:p("pc_web_you_may_like")}),L.map(((e,i)=>(0,n.jsx)(an,{item:e,offset:t,index:i,onSelect:c},e.word))),ee(),oe()]})})(),U?H:null]})})),{getPureUserPath:dn}=u.h,cn=h.OZ.searchReminder,un=(0,s.memo)((function({onBrowserModeClose:e,isBrowserMode:t=!1,isFullSideNav:i=!1,onSubmitSuccess:u}){var T,I,O;const{search:L,pathname:D}=(0,l.zy)(),M=(0,c.eb)(),{q:F}=(0,a.parse)(L),{withNewStyle:N}=(0,se.hA)(),B=(0,C.JD)((e=>e.showingBrowserMode)),[z,U]=(0,s.useState)(""),q=(0,s.useMemo)((()=>B?"browser_mode":"video"===(0,m.sn)(D)?"video_detail":""),[D,B]),V=A(le[D]),G=(0,s.useRef)(null),{placeholder:H,hasVideoSugWord:W,word_id:$,logId:K,videoId:Z}=(0,P.H1)(B),[{searchValue:Q,loading:Y,sugList:J,inputFocus:X,activeIndex:ee},te]=(0,o.S)(R.C,{dependencies:[],selector:e=>({searchValue:e.searchValue,loading:e.loading,sugList:e.sugList,inputFocus:e.inputFocus,activeIndex:e.activeIndex})}),[{isOpenReport:de,isOpenSuccessModal:ce},ue]=(0,o.S)(ie,{dependencies:[],selector:e=>({isOpenReport:e.isOpenReport,isOpenSuccessModal:e.isOpenSuccessModal})}),{lang:pe,user:he}=(0,r.P)(ne.L,{selector:e=>{var t;return{lang:e.lang,user:null===(t=e.appContext)||void 0===t?void 0:t.user}},dependencies:[]}),ge=null==he?void 0:he.uid,{searchVideoForLoggedin:_e}=(0,r.P)(oe.$,{selector:e=>{var t,i;return{searchVideoForLoggedin:null!==(i=null===(t=e.bizContext)||void 0===t?void 0:t.searchVideoForLoggedin)&&void 0!==i?i:[]}},dependencies:[]}),{isOpenNewTab:ve}=(0,b.M4)(),[{currentKeyword:me,rootEnterFrom:fe},ye]=(0,o.S)(E.tq,{selector:e=>{var t,i;return{currentKeyword:null!==(i=null===(t=e[le[D]])||void 0===t?void 0:t.keyword)&&void 0!==i?i:"",rootEnterFrom:e.searchGlobalParams.rootEnterFrom}},dependencies:[D]}),[{transferHistoryList:be,guessSearchList:xe,blankpageEnterMethod:Se,shouldRemainOpen:ke},we]=(0,o.S)(re._,{dependencies:[],selector:e=>({transferHistoryList:e.historyList,guessSearchList:e.guessSearchList,blankpageEnterMethod:e.blankpageEnterMethod,shouldRemainOpen:e.shouldRemainOpen})}),Ce=Boolean(he),je=null===(T=null==he?void 0:he.hasSearchPermission)||void 0===T||T,Te=(0,s.useRef)([]),{abTestVersion:Oe}=(0,x.L$)((0,j.W)((()=>["abTestVersion"]),[])),Le=null!==(I=(0,S.qt)(Oe,"search_transfer_history"))&&void 0!==I?I:"v1",Ee=null!==(O=(0,S.qt)(Oe,"search_transfer_guesssearch"))&&void 0!==O?O:"v1",Ae="v2"===Le&&Ce,Pe="v2"===Ee,Re=(0,s.useMemo)((()=>Ae&&be.length||Pe&&xe.length),[Ae,be,Pe,xe]),De=(0,l.W6)(),Me=(0,l.zy)(),Fe=(0,s.useCallback)((()=>{te.getSugList({app_language:(0,p.uk)(pe),history_list:encodeURIComponent(JSON.stringify(Te.current)),keyword:Q,abTestVersion:Oe})}),[te,pe,Q]),Ne=(0,s.useMemo)((()=>{var e;if(ge){let t=[];const i=(0,y._S)(k.Z3),n=w.LU.getItem(ge);return n?(t=null!=n?n:[],t):(0===t.length&&i&&(t=null!==(e=JSON.parse(i))&&void 0!==e?e:[],w.LU.setItem(ge,t),(0,y.sc)(k.Z3)),t)}}),[ge]),Be=(0,s.useCallback)((()=>{we.setHistoryList(null!=Ne?Ne:[])}),[we,Ne]),ze=!Boolean((0,l.B6)(D,{path:cn}))&&Boolean((0,l.B6)(D,{path:h.OZ.searchHome})),Ue=(0,s.useCallback)((e=>{if(ge){let t=[];const i=w.LU.getItem(ge);i&&(t=i.filter((t=>t!==e))),t.unshift(e),t.length>10&&(t=t.slice(0,10)),we.setHistoryList(t),w.LU.setItem(ge,t)}}),[we,ge]);(0,s.useEffect)((()=>{te.setVideoPageType(q)}),[te,q]),(0,s.useEffect)((()=>{ze&&F&&te.setSearchValue(String(F))}),[F,ze]),(0,s.useEffect)((()=>{Ae&&F&&Ue(String(F))}),[F,Ae]),(0,s.useEffect)((()=>{Fe()}),[Fe]),(0,s.useEffect)((()=>{B||Be()}),[Be,B]),(0,s.useEffect)((()=>{fe||ye.setSearchGlobalParams({rootEnterFrom:ze?"search_outer":g.f.commonParams.page_name})}),[fe,ze,ye]),(0,s.useEffect)((()=>{var e,t,i,n;if(B){const o=20,r=84,a=16,s=null!==(t=null===(e=document.getElementById("browser-mode-logo-icon"))||void 0===e?void 0:e.clientWidth)&&void 0!==t?t:0,l=null!==(n=null===(i=document.getElementById("browser-mode-report-btn"))||void 0===i?void 0:i.clientWidth)&&void 0!==n?n:0,d=2*Math.max(o+l,r+s);U(`calc(100% - ${a+d}px)`)}}),[B]),(0,s.useEffect)((()=>{X||ke||we.setNewGuessSearchWord(void 0)}),[X,ke,we]),(0,s.useEffect)((()=>{t&&B||!W||B&&!N||_.$G.handleTrendingWordsShow({enter_from:fe,search_position:B?"video_detail":g.f.commonParams.page_name,words_source:"related_search_anchor_v2",words_position:0,words_content:H,words_type:"search_bar_outer",group_id:null!=$?$:"",impr_id:null!=K?K:"",previous_page:g.f.commonParams.previous_page,video_page_type:q,enter_group_id:Z})}),[Z,W,B,K,H,fe,$,N,q,t]);const qe=(0,s.useCallback)(((t,i,n,o)=>{var r;te.setInputFocus(!1);const s=Date.now();let l=ze?Me.pathname:h.$T.searchHome();if(null===(r=null==G?void 0:G.current)||void 0===r||r.onEnterInputBlur(),ze&&i===me)return void V(!0,!0);!Ce&&_e&&void 0===o&&(l=h.$T.searchUser());let d=(0,m.p5)(Me.pathname);const c=(0,m.sM)(Me.pathname);d&&(l=h.$T.searchLive());const u=(0,ae.F)({location:Me,to:{pathname:l,search:{q:i,t:s}}});B&&ve?window.open((0,a.stringifyUrl)({url:u,query:Object.assign({searchSource:"normal_search",videoPageType:q},n)})):d||c?window.location.href=(0,a.stringifyUrl)({url:u,query:Object.assign({searchSource:"normal_search",videoPageType:q},n)}):(null==e||e(t,!0),De.push(u,Object.assign({searchSource:"normal_search",videoPageType:q},n)))}),[ze,Me,Ce,V,De,te,_e,me,e,B,ve,q]),Ve=(0,s.useCallback)(((e,t,i)=>{const{extra_info:{unique_id:n,sug_user_id:o},word_record:{words_content:r,group_id:s},content:l,impr_id:d}=t;Te.current.push(l);const c=Boolean(o);_.$G.handleSugClick({impr_id:d,words_source:"sug",words_position:i,words_content:r,raw_query:Q,sug_type:c?"enrich_sug":"normal_sug",query_id:"",group_id:s,video_page_type:q,search_position:B?"video_detail":g.f.commonParams.page_name,enter_group_id:Z}),c?(v.q.handleEnterUser({enter_from:"search_sug",search_keyword:Q,to_user_id:o,search_id:d,impr_id:d,rank:i,search_type:le[D]}),window.location.href=(0,a.stringifyUrl)({url:dn({uniqueId:n}),query:{lang:pe}})):(ye.resetSearchResult(),qe(e,l,{enterMethod:"click_icon",searchSource:"search_sug",imprId:d,blankpageEnterFrom:g.f.commonParams.page_name,blankpageEnterMethod:Se}))}),[Q,q,B,D,pe,ye,qe,Se,Z]),Ge=(0,s.useCallback)(((e,t,i,n,o)=>{Te.current.push(t),te.setSearchValue(t),qe(e,t,{enterMethod:"click_icon",searchSource:i,imprId:n,blankpageEnterFrom:g.f.commonParams.page_name,blankpageEnterMethod:Se},o)}),[qe,te,Se]),He=(0,s.useCallback)(((e,t)=>{ye.resetSearchResult(),qe(e,Q,{enterMethod:t})}),[qe,ye,Q]),We=(0,s.useCallback)(((e,t)=>{te.setSearchValue(H),ye.resetSearchResult(),_.$G.handleTrendingWordsClick({enter_from:fe,search_position:B?"video_detail":g.f.commonParams.page_name,words_source:"related_search_anchor_v2",words_position:0,words_content:H,words_type:"search_bar_outer",group_id:null!=$?$:"",impr_id:null!=K?K:"",previous_page:g.f.commonParams.previous_page,video_page_type:q,enter_group_id:Z}),qe(e,H,{enterMethod:t,searchSource:"default_search_keyword",preClickId:K})}),[te,H,ye,fe,B,$,K,q,Z,qe]),$e=(0,s.useCallback)((()=>{te.setInputFocus(!0),ue.setIsOpenReport(!1),we.setShouldRemainOpen(!1),_.$G.handleClickSearchFeedback({enter_from:fe,search_position:g.f.commonParams.page_name,button_type:"close",text_type:"recom_search_feedback"}),ue.resetData()}),[ue,te]),Ke=(0,s.useCallback)((()=>{ue.setIsOpenReport(!1),M.open(),ue.setIsOpenSuccessModal(!0),ue.resetData()}),[ue,te]),Ze=(0,s.useCallback)((()=>{ue.setIsOpenSuccessModal(!1),we.setShouldUpdateData(!1),setTimeout((()=>{var e;null===(e=null==G?void 0:G.current)||void 0===e||e.onEnterInputFocus(),we.setShouldRemainOpen(!1)}),0)}),[ue,te,fe]),Qe=(0,s.useCallback)(((e,t)=>{if(Q){if(t&&J[ee])return Ve(e,J[ee],ee),void(null==u||u());He(e,t?"click_enter":"click_icon"),null==u||u()}else W&&We(e,t?"click_enter":"click_icon")}),[Q,J,ee,He,W,We,Ve]),Ye=(0,se.AF)(),Je=(0,s.useMemo)((()=>(Ye||!Y)&&Boolean(Q)&&J.length>0&&(X||i)),[Ye,Y,Q,J.length,X,i]),Xe=(0,s.useMemo)((()=>!B&&!Q.length&&(X||i)&&Re||ke),[B,Q,X,Re,ke,i]),[et,lt]=(0,s.useState)("");(0,s.useEffect)((()=>{var e;i&&(null===(e=null==G?void 0:G.current)||void 0===e||e.onEnterInputFocus(),Q&&lt(Q))}),[i]);const dt=(0,f.s)();return je?(0,n.jsxs)(it,{showingBrowserMode:B,onClick:y.dG,searchBarWidth:z,children:[(0,n.jsx)(Ie,{initialValue:et,onSubmit:Qe,ref:G,isBrowserMode:t,isFullSideNav:i}),Je&&(0,n.jsx)(Ut,{onSelect:Ve,onSelectMore:He,isFullSideNav:i}),Xe&&(0,n.jsx)(ln,{onSelect:Ge,hasHistory:Ae,hasGuessSearch:Pe,isFullSideNav:i}),de&&(0,n.jsx)(tt,{onClose:$e,onSubmitSuccess:Ke}),(()=>{if(ce)return(0,n.jsxs)(c.nO,Object.assign({},M,{width:"Small",height:"Compact",children:[(0,n.jsx)(c.ND,{children:(0,n.jsx)(c.Ft,{icon:d.A,size:72})}),(0,n.jsxs)(ot,{children:[(0,n.jsx)(rt,{children:dt("search_feedback_success_tips1")}),(0,n.jsx)(at,{children:dt("suggested_search_feedback13")})]}),(0,n.jsx)(st,{children:(0,n.jsx)(nt,{onClick:Ze,children:dt("OK")})})]}))})()]}):null}))},34462:(e,t,i)=>{i.d(t,{o:()=>a});var n=i(11379),o=i(49610),r=i(2070);let a=class{constructor(e){this.fetch=e}getReportNotices(e){return this.fetch.get("/aweme/v1/report/inbox/notice",{query:e,baseUrlType:2})}getReportList(e){return this.fetch.get("/node/report/inbox/list",{query:e,baseUrlType:2})}getDeleteReport(e){return this.fetch.get("/tns-api/report/delete",{query:e,baseUrlType:2})}getBlockUser(e){return this.fetch.get("/tns-api/report/block",{query:e,baseUrlType:2})}getReportDetail(e){return this.fetch.get("/node/report/inbox/detail",{query:e,baseUrlType:2})}};a=(0,n.Cg)([(0,o._)(),(0,n.Sn)("design:paramtypes",[r.pM])],a)},44295:(e,t,i)=>{i.d(t,{s:()=>s});var n=i(11379),o=i(83238),r=i(68055),a=i(54954);let s=class extends o.E{constructor(){super(),this.defaultState={visible:!1,violationAppealInfo:{objectId:void 0,objectType:void 0,punishKey:void 0,penaltyDetails:void 0}}}setVisible(e,t){e.visible=t}setViolationAppealInfo(e,t){e.violationAppealInfo=t}};(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Boolean]),(0,n.Sn)("design:returntype",void 0)],s.prototype,"setVisible",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Object]),(0,n.Sn)("design:returntype",void 0)],s.prototype,"setViolationAppealInfo",null),s=(0,n.Cg)([(0,a.n)("ViolationAppealModal"),(0,n.Sn)("design:paramtypes",[])],s)},47475:(e,t,i)=>{i.d(t,{K:()=>u});var n=i(12883),o=i.n(n),r=i(65622),a=i(65669),s=i.n(a),l=i(5726),d=i(95164),c=i(1114);function u(){const{isElectronApp:e}=(0,c.B)();return(0,r.useCallback)((({lang:t,url:i,currentLang:n,isMobile:r})=>{!function({lang:e,url:t,currentLang:i,isMobile:n}){d.j.handleLanguageChange({language:i,to_language:e,enter_method:n?"top_bar":void 0}),o().remove(l.WU),o().set(l.WU,e,{secure:!0,expires:300,domain:".tiktok.com"}),window.location.replace(t)}({lang:t,url:i,currentLang:n,isMobile:r}),e&&s().app.langChange({lang:t})}),[e])}},47251:(e,t,i)=>{i.d(t,{w:()=>r});var n=i(65622),o=i(63161);function r(){const e=(0,o.W6)();return(0,n.useCallback)(((t,{href:i,state:n,shouldUsePush:o})=>{o&&(t.preventDefault(),e.push(i,n))}),[e])}},70853:(e,t,i)=>{i.d(t,{Zy:()=>a,zW:()=>r});var n=i(74760),o=i(87749);const r=e=>{var t;if(!e)return;const i=null!==(t=e.log_extra)&&void 0!==t?t:"";try{const e=JSON.parse(i);return{charge_type:e.charge_type,req_id:e.req_id,system_origin:e.system_origin}}catch(e){return}},a=({adInfo:e,refer:t,tag:i})=>{if(!e.web_url)return;const{web_url:r}=e,a=(0,n.n5)({ad_info:e,play_mode:"one_column"});window.open(r,"_blank"),o.pg.handleRealtimeClick(Object.assign(Object.assign({},a),{refer:t,tag:i}))}},91679:(e,t,i)=>{i.d(t,{CW:()=>r,Y:()=>o});var n=i(17096);const o=()=>{var e,t,i;return null!==(i=null===(t=null===(e=(0,n.LM)().getStaticPlayerState())||void 0===e?void 0:e.currentVideo)||void 0===t?void 0:t.id)&&void 0!==i?i:"0"},r=()=>{var e,t,i;return null!==(i=null===(t=null===(e=(0,n.LM)().getStaticPlayerState())||void 0===e?void 0:e.prevVideo)||void 0===t?void 0:t.id)&&void 0!==i?i:"0"}},24742:(e,t,i)=>{var n;i.d(t,{w4:()=>c}),function(e){e.Apple="apple",e.Amazon="amazon",e.Google="google",e.Download="download",e.Microsoft="microsoft"}(n||(n={}));const o=["ast","de","en","fr","it","ja","pt"],r="en",a=["microsoft","apple","amazon","google","download"],s={apple:"ios_app_store",google:"google_play",amazon:"amazon_store",download:"download_apk",microsoft:"microsoft_store"},l="officewebshare",d="normal";function c({lang:e,downloadLink:t={},isIOS:i=!1,isAndroid:n=!1}){var c;const u=e.split("-")[0],p=o.includes(u)&&!(null===(c=t.download)||void 0===c?void 0:c.visible)?u:r;return{iconLanguage:p,iconConfig:a.reduce(((e,o)=>{const r=t[o];return(null==r?void 0:r.visible)&&function({platform:e,isIOS:t,isAndroid:i}){switch(e){case"apple":return!i;case"google":case"download":case"amazon":return!t;default:return!0}}({platform:o,isAndroid:n,isIOS:i})&&e.push({platform:o,language:p,href:r[l]||r[d],alt:`${o}-store`,target:s[o]||o}),e}),[])}}},52141:(e,t,i)=>{i.d(t,{OS:()=>g,h5:()=>p,j5:()=>_,Rv:()=>v,ZR:()=>f});var n=i(2032),o=i(53240);const r=i.p+"25b0d4f3e6779acb114f.png",a=i.p+"1db62e2b736e1cc835a3.png",s=i.p+"f1596f39e85631c052c4.png",l=i.p+"b5b0c8fab7d18dff2e2a.png",d=i.p+"2097820e1be2c7a06bf8.png",c=i.p+"a028a67e740da091b89b.png",u=i.p+"0433f99adc0a040142f6.png",p=(0,n.default)("div",{target:"e1obx3ji0"})((({region:e})=>({marginTop:"US"===e?"40px":"16px",display:"flex",flexDirection:"row",width:"288px",flexWrap:"wrap",justifyContent:"space-between"})),"label:DivDownloadContainer;"),h={amazon:{backgroundPosition:"0 0"},apple:{backgroundPosition:"0 -43px"},google:{backgroundPosition:"0 -86px"}},g=(0,n.default)("a",{target:"e1obx3ji1"})({":nth-of-type(-n+2)":{marginBottom:"8px"}},"label:AIconContainer;"),_=(0,n.default)("img",{target:"e1obx3ji2"})((({platform:e,lang:t})=>function(e,t){return"download"===e?{backgroundImage:"url('https://p16-ttug-sg.tiktokcdn.com/img/ttfe-malisg/tiktok_web/store-badge/download.png~296x0.image')"}:"microsoft"!==e?Object.assign(Object.assign({},h[e]),{backgroundImage:`url(https://p16-ttug-sg.tiktokcdn.com/img/ttfe-malisg/tiktok_web/store-badge/${t}.png~296x0.image)`}):void 0}(e,t)),{width:"138px",height:"40px",backgroundSize:"138px",objectFit:"cover",borderRadius:"4px"},"label:ImgIcon;"),v=(0,n.default)("p",{target:"e1obx3ji3"})((({theme:e})=>(0,o.zy)({theme:e,typography:"P1",fontWeight:"semiBold"})),"label:PSubTitle;"),m={ast:r,de:a,en:s,fr:l,it:d,ja:c,pt:u},f=e=>m[e]},7306:(e,t,i)=>{i.d(t,{t:()=>h});var n=i(27334),o=i(18649),r=i(65622),a=i(8819),s=i(20741),l=i(35999),d=i(99325),c=i(81050),u=i(93295);const p=(0,i(2032).default)("div",{target:"e1dc6dvj0"})({height:"100vh",display:"flex",flexDirection:"column"},"label:DivErrorBoundaryContainer;");class h extends r.Component{constructor(){super(...arguments),this.state={isNetOffline:!1,hasError:!1},this._slardar=o.l.getInstance(d.V),this.handleOnlineStatusChange=()=>{this.setState({isNetOffline:!navigator.onLine})}}get iconElem(){const{hasError:e}=this.state;return e?(0,n.jsx)(a.A,{width:90,height:90,fill:"rgba(128, 130, 133, 1)"}):(0,n.jsx)(s.A,{width:90,height:90,fill:"rgba(128, 130, 133, 1)"})}get text(){const{hasError:e}=this.state;return e?{title:"server_error_title",desc:"server_error_sub",button:"try_again_btn"}:{title:"network_error_title",desc:"network_error_sub",button:"try_again_btn"}}componentDidMount(){window.addEventListener("online",this.handleOnlineStatusChange),window.addEventListener("offline",this.handleOnlineStatusChange)}componentWillUnmount(){window.removeEventListener("online",this.handleOnlineStatusChange),window.removeEventListener("offline",this.handleOnlineStatusChange)}handleRetry(){window.location.reload()}componentDidCatch(e,t){const{onCatchError:i,componentName:n}=this.props,o=window.location.pathname,r=(0,c.oN)(o);i&&i();try{this._slardar.captureMessage(`Component render Error: ${e.message}`,"fatal",{page:r,component:null!=n?n:""})}catch(e){console.error("Error occurs when reporting error:",e)}this.setState({hasError:!0})}render(){const{isNetOffline:e,hasError:t}=this.state,{children:i,isMobile:o,customTitle:r,customDesc:a,customButtonText:s,onClickRetry:l,useButton:d=!1,containerStyle:c}=this.props,{t:h}=this.context;if(e||t){const{title:e,desc:t,button:i}=this.text;return o?(0,n.jsx)(p,{children:(0,n.jsx)(u.W,{brightness:0,isFullScreen:!0,iconElem:this.iconElem,title:null!=r?r:h(e),desc:null!=a?a:h(t),buttonText:d?null!=s?s:h(i):void 0,onButtonClick:null!=l?l:this.handleRetry})}):(0,n.jsx)(u.W,{isFullScreen:!0,onButtonClick:null!=l?l:this.handleRetry,iconElem:this.iconElem,title:null!=r?r:h(e),desc:null!=a?a:h(t),buttonText:d?null!=s?s:h(i):void 0,style:c})}return i}}h.contextType=l.Ss},14767:(e,t,i)=>{i.d(t,{S:()=>P});var n=i(27334),o=i(45372),r=i.n(o),a=i(65622),s=i(60168),l=i(20073),d=i(23225),c=i(52970),u=i(60895),p=i(20639),h=i(30367),g=i(40357),_=i(52528),v=i(88149),m=i(22616),f=i(38527),y=i(28986),b=i(2032),x=i(53240);const S=(0,b.default)("div",{target:"e1l04njg0"})((({isModal:e=!1,theme:t})=>[{marginBottom:e?"0":"12px",minWidth:e?"400px":"300px",minHeight:e?"280px":"258px",padding:e?"40px 32px 32px":"44px 24px 16px",display:"flex",boxSizing:"border-box",flexDirection:"column",alignItems:"center",backgroundColor:t.colors.BGSecondary,borderRadius:"8px",border:`1px solid ${t.colors.LineSecondary3}`,boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.06)"}]),"label:DivKeyboardShortcutContainer;"),k=(0,b.default)("div",{target:"e1l04njg1"})((({isModal:e=!1,theme:t})=>[(0,x.zy)({theme:t,typography:e?"P0":"P1",fontWeight:"bold",fontFamily:"TikTokFont"}),{width:"100%",height:"22px",lineHeight:"22px",textAlign:"center",color:t.colors.TextPrimary,whiteSpace:"nowrap"}]),"label:DivKeyboardShortcutTitle;"),w=(0,b.default)("div",{target:"e1l04njg2"})((({theme:e})=>[{marginTop:"16px",width:"100%",display:"flex",boxSizing:"border-box",flexDirection:"column",alignItems:"center",borderTop:`1px solid ${e.colors.LineSecondary}`}]),"label:DivKeyboardShortcutContent;"),C=(0,b.default)("div",{target:"e1l04njg3"})((({theme:e})=>[(0,x.zy)({theme:e,typography:"P3",fontWeight:"normal",fontFamily:"TikTokFont"}),{width:"100%",height:"40px",textAlign:"left",color:e.colors.TextPrimary,display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:`1px solid ${e.colors.LineSecondary}`}]),"label:DivKeyboardShortcutContentItem;"),j=(0,b.default)("div",{target:"e1l04njg4"})((({theme:{direction:e}})=>(0,x.mp)({direction:e,end:"16px"})),{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:16,cursor:"pointer"},"label:DivXMarkWrapper;"),T=(0,b.default)(j,{target:"e1l04njg5"})((({theme:{colors:e}})=>({width:"24px",height:"24px",borderRadius:"100px",backgroundColor:e.BGView})),"label:StyledModalXMarkWrapper;"),I=(0,b.default)(l.A,{target:"e1l04njg6"})((({theme:{direction:e}})=>({transform:`rotateZ(${"rtl"===e?90:-90}deg)`})),"label:StyledForward;"),O=(0,b.default)(l.A,{target:"e1l04njg7"})((({theme:{direction:e}})=>({transform:`rotateZ(${"rtl"===e?-90:90}deg)`})),"label:StyledBackward;"),L={width:24,height:24},E=[{content:"desktop_kb_shortcuts_tooltip_previous",icon:(0,n.jsx)(s.A,Object.assign({},L))},{content:"desktop_kb_shortcuts_tooltip_next",icon:(0,n.jsx)(l.A,Object.assign({},L))},{content:"desktop_kb_shortcuts_tooltip_like_vid",icon:(0,n.jsx)(d.A,Object.assign({},L))},{content:"desktop_kb_shortcuts_tooltip_mute_unmute_vid",icon:(0,n.jsx)(c.A,Object.assign({},L))}],A=[{content:"pc_web_playpause_btn",icon:(0,n.jsx)(u.A,Object.assign({},L))},{content:"pc_web_skip_forward_5_sec_btn",icon:(0,n.jsx)(I,Object.assign({},L))},{content:"pc_web_skip_back_5_sec_btn",icon:(0,n.jsx)(O,Object.assign({},L))},{content:"pc_web_fullscreen_btn",icon:(0,n.jsx)(p.A,Object.assign({},L))}],P=(0,a.memo)((function({isModal:e=!1,onClose:t=r()}){const i=(0,_.s)(),{isVideoDetailPlayerExperiment:o}=(0,v.ac)(),s=(0,a.useMemo)((()=>o?[...E,...A]:E),[o]),l=(0,m.W)((()=>["abTestVersion","wid"]),[]),{showKeyboardShortcut:d,handleClose:c}=((e=!1,t,i)=>{const n=y.Bv.getItem("webid"),[o,r]=(0,a.useState)(!0),[s,l]=(0,a.useState)(e),d=(0,a.useCallback)((()=>{e?t():(y.Bv.setItem("hasCloseKeyboardShortcut",!0),r(!1))}),[e,t]);return(0,a.useEffect)((()=>{var t;if(!e)if((null==i?void 0:i.wid)!==n)l(!0),y.Bv.setItem("webid",null!==(t=null==i?void 0:i.wid)&&void 0!==t?t:""),y.Bv.setItem("hasCloseKeyboardShortcut",!1);else{const e=y.Bv.getItem("hasCloseKeyboardShortcut");l(!e)}}),[]),(0,a.useEffect)((()=>{const{pathname:t=""}=location;e||(0,f.tO)(t)||t.startsWith("/following")||/^\/@.*\/video\/\d+/.test(t)||l(!1)}),[]),{showKeyboardShortcut:o&&s,handleClose:d}})(e,t,l),u=i(e?"desktop_kb_shortcuts_modal":"desktop_kb_shortcuts_tooltip_title"),p=(0,a.useMemo)((()=>s.map((({content:t,icon:o})=>(0,n.jsxs)(C,{isModal:e,children:[i(t),o]},t)))),[e,s,i]);return(0,a.useEffect)((()=>{d&&g.U.handlePopupShow({enter_method:"keyboard_shortcut_pop"})}),[d]),d?(0,n.jsxs)(S,{isModal:e,children:[e?(0,n.jsx)(T,{onClick:c,children:(0,n.jsx)(h.A,{width:20,height:20})}):(0,n.jsx)(j,{onClick:c,children:(0,n.jsx)(h.A,{width:20,height:20})}),(0,n.jsx)(k,{isModal:e,children:u}),(0,n.jsx)(w,{children:p})]}):null}));P.defaultProps=Object.assign(Object.assign({},P.defaultProps),{"data-e2e":"keyboard-shortcut"})},83458:(e,t,i)=>{i.d(t,{E:()=>b});var n=i(11379),o=i(27334),r=i(65622),a=i(73471),s=i(3954),l=i(74760),d=i(87749),c=i(56295),u=i(52602),p=i(75935),h=i(70853),g=i(25972),_=i(53376),v=i(74073),m=i(54353),f=i(55148),y=i(56139);const b=(0,r.memo)((0,r.forwardRef)((function(e,t){var{uniqueId:i,secUid:b,extraQuery:x={},children:S,replace:k=!1,isInBrowserMode:w=!1,teaParams:C,shouldStopPropagation:j=!0,reportTea:T=!0,onClick:I,onLinkClick:O,adInfo:L,style:E}=e,A=(0,n.Tt)(e,["uniqueId","secUid","extraQuery","children","replace","isInBrowserMode","teaParams","shouldStopPropagation","reportTea","onClick","onLinkClick","adInfo","style"]);const P=(0,_.U)({pathname:(0,c.fJR)({uniqueId:i,secUid:b}),search:x}),R=(0,m.yS)(i),D=(0,p.Ig)(),M=(0,r.useRef)(null),F=(0,y.w)(f.k),{playMode:N,ttamRefer:B=a.Hq.Photo}=C,z=null==L?void 0:L.is_normal,U=(0,r.useCallback)((e=>{if(L&&!z&&L.web_url)return(0,u.Gu)(e),void(0,h.Zy)({adInfo:L,refer:B,tag:N&&a.EM[N]||a.xY.OneColumn});if(D)return(0,u.Gu)(e),void(0,g.Hz)("user-select",{uid:null==R?void 0:R.id,uniqueId:i,from:"user-link"});if(j&&e.stopPropagation(),T&&s.q.handleEnterUser(C),null==L?void 0:L.is_normal){const e=(0,l.n5)({ad_info:L,play_mode:null!=N?N:"one_column"});d.pg.handleOtherclick(Object.assign(Object.assign({},e),{refer:B}))}(C.group_id||C.from_group_id)&&F.addMlModelTrainData({id:C.group_id||C.from_group_id,action:"head"}),null==I||I(e),null==O||O(e,P,"user")}),[F,L,D,j,T,C,I,O,P,null==R?void 0:R.id,i,N,B]),q=(0,r.useCallback)((e=>{var t;13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),null===(t=M.current)||void 0===t||t.click())}),[]);return(0,r.useImperativeHandle)(t,(()=>({linkClick:()=>{var e;null===(e=M.current)||void 0===e||e.click()}}))),L&&!z&&L.web_url?(0,o.jsx)("a",Object.assign({href:L.web_url},A,{ref:M,onClick:U,onKeyDown:q,style:E,target:"_blank",rel:"noreferrer",children:S})):(0,o.jsx)(v.N_,Object.assign({to:P},A,{replace:k||w,ref:M,onClick:U,onKeyDown:q,style:E,children:S}))})))},48733:(e,t,i)=>{i.d(t,{K:()=>r});var n=i(65622),o=i(88149);function r(e=0){const t=(0,n.useRef)(0),[i,r]=(0,n.useState)(!1),[a,s]=(0,n.useState)(!1),{shouldOptimizeCta:l}=(0,o.kb)(),d=(0,n.useRef)(null),c=(0,n.useRef)(null),u=(0,n.useCallback)((()=>{r(!0),window.clearTimeout(t.current)}),[]),p=(0,n.useCallback)((()=>{window.clearTimeout(t.current),a||(t.current=window.setTimeout((()=>{r(!1)}),e))}),[e,a]),h=(0,n.useCallback)((e=>{s(e)}),[]),g=(0,n.useCallback)((()=>{a||window.setTimeout((()=>{var e,t,n;i&&(l?(null===(e=d.current)||void 0===e?void 0:e.hasFocusForChildren())||p():(null===(n=Array.from(null===(t=c.current)||void 0===t?void 0:t.querySelectorAll("*")))||void 0===n?void 0:n.includes(document.activeElement))||p())}),e)}),[a,e,i,l,p]);return{active:i,timeoutRef:t,setActive:r,handleMouseEnter:u,handleMouseLeave:p,handleOtherModalOpen:h,actionItemRef:d,buttonShareRef:c,handleButtonShareOnBlur:g}}},22635:(e,t,i)=>{i.d(t,{z:()=>g});var n=i(27334),o=i(65622),r=i(99628),a=i(2032),s=i(36530);function l(e,t){return e||t?t?e?{left:"50%",transform:`translate(-50%, ${t}px)`}:{transform:`translateY(${t}px)`}:{left:"50%",transform:"translateX(-50%)"}:null}const d=(0,a.default)("div",{target:"e2ipgxl0"})((({zIndex2:e,state:t,duration:i=300,theme:n,centered:o,verticalPropKey:r,verticalOffset:a})=>[{position:"absolute",zIndex:e?2:1,background:n.colors.BGPrimary,borderRadius:"8px",[r]:"calc(100% + 12px)",boxShadow:"0 4px 16px rgba(0, 0, 0, .12)",transition:`opacity ${i}ms`,opacity:Number("entering"===t||"entered"===t),overscrollBehavior:"contain"},l(o,a)]),"label:DivContainer;"),c=(0,a.default)(s.A,{shouldForwardProp:e=>"verticalPropKey"!==e&&"centered"!==e,target:"e2ipgxl1"})([{display:"block",width:"24px",height:"8px",position:"absolute"},({centered:e})=>e?{left:"50%"}:null,({verticalPropKey:e})=>"top"===e?{top:"-8px"}:{bottom:"-8px"},({centered:e,verticalPropKey:t})=>{const i=[];return e&&i.push("translateX(-50%)"),t&&"bottom"===t&&i.push("rotate(180deg)"),{transform:i.length>0?i.join(" "):void 0}}],"label:StyledTopArrow;");var u=i(88149);const p={topRight:"right",topLeft:"left",top:null,bottomRight:"right",bottomLeft:"left",bottom:null},h={topRight:"bottom",topLeft:"bottom",top:"bottom",bottomRight:"top",bottomLeft:"top",bottom:"top"},g=function({placement:e,margin:t="-2px",arrowMargin:i=6,duration:a=300,backgroundColor:s="#fff",active:l=!1,verticalOffset:g=0,style:_,hideArrow:v=!1,id:m,onKeyDown:f,ariaLabel:y,ariaLabelledBy:b,children:x}){const S=(0,o.useRef)(null),k=p[e],w=h[e],{allowRightPanelScroll:C,shouldOptimizeReply:j}=(0,u.kb)(),T=Object.assign({backgroundColor:s},_),I={};return k&&(I[k]=i,T[k]=t),(0,n.jsx)(r.Ay,{in:l,timeout:a,unmountOnExit:!0,nodeRef:S,children:e=>(0,n.jsxs)(d,{zIndex2:j||C,verticalPropKey:w,state:e,duration:a,ref:S,style:T,centered:!k,verticalOffset:g,id:m,tabIndex:-1,onKeyDown:f,"aria-label":y,"aria-labelledby":b,children:[!v&&(0,n.jsx)(c,{fill:s,style:I,centered:!k,verticalPropKey:w}),x]})})}},58333:(e,t,i)=>{i.d(t,{Eq:()=>S});var n=i(11379),o=i(83238),r=i(68055),a=i(54954),s=i(60842),l=i(95831),d=i(33293),c=i(73766),u=i(94488),p=i(90245),h=i(54086),g=i(35999),_=i(49610),v=i(2070);let m=class{constructor(e){this.fetch=e}checkUserStatusBeforeSwitchout(){return this.fetch.post("/api/ba/business/suite/account/quitcheck",{baseUrlType:2})}switchOutBusinessAccount(){return this.fetch.post("/api/ba/business/suite/account/off",{baseUrlType:2})}};var f,y;m=(0,n.Cg)([(0,_._)(),(0,n.Sn)("design:paramtypes",[v.pM])],m),function(e){e.None="none",e.PersonalAccount="personal_account",e.ProAccount="pro_account"}(f||(f={})),function(e){e.None="none",e.SwitchConfirmModal="switch_confirm_modal",e.InvalidModal="invalid_modal"}(y||(y={}));const b=[3019001,3019002,3019003,3019018],x="Sorry, something wrong with the server, please try again.";let S=class extends o.E{constructor(e,t){super(),this.service=e,this.t=t,this.defaultState={switchedType:"none",businessAccountModalType:"none",invalidCode:0}}checkSwitchOut(e){return e.pipe((0,l.p)((()=>this.service.checkUserStatusBeforeSwitchout().pipe((0,d.Z)((({statusCode:e})=>{if(!b.includes(e)&&0!==e)return h.F.open({content:this.t(x),duration:3}),(0,c.of)(this.noop());const t=0===e?"switch_confirm_modal":"invalid_modal";return(0,c.of)(this.getActions().setInvalidCode(e),this.getActions().setBusinessAccountModalType(t))})),this.catchError()))))}switchBusinessAccount(e){return e.pipe((0,l.p)((({action_type:e})=>this.service.switchOutBusinessAccount().pipe((0,d.Z)((({statusCode:t})=>0===t?(h.F.open({content:this.t("switched_to_personal"),duration:3}),(0,c.of)(this.getActions().setSwitchedType(0===e?"personal_account":"pro_account"),this.getActions().setBusinessAccountModalType("none"))):(h.F.open({content:this.t(x),duration:3}),(0,c.of)(this.noop())))),this.catchError()))))}setBusinessAccountModalType(e,t){e.businessAccountModalType=t}setInvalidCode(e,t){e.invalidCode=t}setSwitchedType(e,t){e.switchedType=t}catchError(){return(0,u.W)((()=>(h.F.open({content:this.t(x),duration:3}),(0,c.of)(this.noop()))))}};(0,n.Cg)([(0,r.Mj)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[p.c]),(0,n.Sn)("design:returntype",void 0)],S.prototype,"checkSwitchOut",null),(0,n.Cg)([(0,r.Mj)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[p.c]),(0,n.Sn)("design:returntype",void 0)],S.prototype,"switchBusinessAccount",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,String]),(0,n.Sn)("design:returntype",void 0)],S.prototype,"setBusinessAccountModalType",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Number]),(0,n.Sn)("design:returntype",void 0)],S.prototype,"setInvalidCode",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,String]),(0,n.Sn)("design:returntype",void 0)],S.prototype,"setSwitchedType",null),S=(0,n.Cg)([(0,a.n)("BusinessAccountModule"),(0,n.Qj)(1,(0,s.y)(g.hp)),(0,n.Sn)("design:paramtypes",[m,Function])],S)},13257:(e,t,i)=>{i.d(t,{i:()=>J});var n,o,r,a,s,l,d,c,u=i(11379),p=i(83238),h=i(68055),g=i(54954),_=i(45489),v=i.n(_),m=i(21438),f=i(73766),y=i(90245),b=i(60057),x=i(74895),S=i(45277),k=i(91109),w=i(33293),C=i(94488),j=i(33152),T=i(95831),I=i(72038),O=i(68443),L=i(95763);!function(e){e.General="",e.Account="account",e.Common="common",e.Bug="bug",e.Feat="feature"}(n||(n={})),function(e){e[e.HideStillReport=2048]="HideStillReport",e[e.Account=4096]="Account"}(o||(o={})),function(e){e[e.ImageAnswer=1]="ImageAnswer",e[e.CategoryName=2]="CategoryName",e[e.Link=3]="Link"}(r||(r={})),function(e){e[e.NotEntranceShowType=0]="NotEntranceShowType",e[e.NotSolveAfterShow=1]="NotSolveAfterShow",e[e.NotSolveBeforeShow=2]="NotSolveBeforeShow",e[e.NotSolveAfterNotShow=3]="NotSolveAfterNotShow"}(a||(a={})),function(e){e[e.AlwaysShow=0]="AlwaysShow"}(s||(s={})),function(e){e.General="general"}(l||(l={})),function(e){e.V2="v2",e.V3="v3"}(d||(d={})),function(e){e.Yes="yes",e.No="no"}(c||(c={}));const E={5678:"login_page",9190:"login_page_lite",13e3:"abnor_live_purch",13417:"eg_referral",12043:"th_referral",10541:"br_referral",10561:"id_referral",11087:"Creator_Fund_EU",10960:"Creator_Fund",15376:"ca_referral",15375:"au_referral",15048:"BA_registration",13186:"TikTok_shoutouts",12996:"balance_page",13053:"br_referral_lite"};function A(e){return e?e.toLocaleLowerCase().split("-")[0].replace("pt","pt_BR").replace("zh","zh-TW"):"en"}function P(e){var t;const i=e.EntranceShowType;return{id:e.FaqId,name:e.Name,value:e.Value,url:e.Url,children:(null!==(t=e.Children)&&void 0!==t?t:[]).map(P),knowledgeType:e.KnowledgeType,entranceShowType:i,imageUrl:e.ImageUrl,originLabelId:e.OriginLabelId,ticketAppId:e.TicketAppId,ticketCategoryId:e.TicketCategoryId,flags:2===i?0:2048,neverShowNeedMoreHelp:3===i}}function R(e){const{statusCode:t,statusMessage:i,faqInfoMap:n,entranceMap:o}=e;return{statusCode:t,statusMessage:i,faqInfoMap:Object.entries(null!=n?n:{}).reduce(((e,[t,i])=>e?(e[t]=(i||[]).map(P),e):e),{}),entranceMap:o}}function D({faqInfoMap:e,entranceMap:t,faqType:i,entrance:n}){var o;const r=("common"===i?"common":n===(null==t?void 0:t.general)&&"general")||"general";return null!==(o=null==e?void 0:e[r])&&void 0!==o?o:[]}function M(e){var t;return null!==(t=Array.isArray(e)?e[0]:e)&&void 0!==t?t:""}function F(e){return E[M(e)]||""}function N(e,t,i={flattened:{},levels:[]}){return(e||[]).reduce(((e,i)=>{const n=(t?[...(null==t?void 0:t.__parents)||[],t.id]:[]).length,o=Object.assign(Object.assign({},i),{level:n,__parents:t?[...(null==t?void 0:t.__parents)||[],t.id]:[]});return e.flattened[o.id]=o,e.levels[n]=e.levels[n]||{},e.levels[n][i.id]=o,N(i.children,o,e),e}),i)}function B(e,t,i=""){return`<a\n    style="color: #00C6E9;"\n    href="mailto:${e}?subject=TikTok-Web&body=Username: ${t}   Country/Region: ${i}">${e}</a>`}const z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},U="privacy@tiktok.com",q="feedback@tiktok.com",V=new RegExp(U,"g"),G=new RegExp(q,"g");var H=i(71293),W=i(49610),$=i(69872),K=i(2070),Z=i(90064);const Q={appkey:"tiktok-web",app_key:"tiktok-web",aid:1284,app_name:"tiktok_web",iid:"0"};let Y=class{constructor(e){this.fetch=e}getNewestReply(){return this.fetch.get("/api/feedback/v1/newest_reply/",{query:Object.assign({},Q),baseUrlType:2})}getFaqList(e){const{language:t,faqType:i,entrance:n="general"}=e,o=Object.assign(Object.assign({},Q),{lang:A(t),entrance:n,faqType:i,faqTypes:i});return this.fetch.get("/feedback/3/common_feedback_list/",{query:o}).pipe((0,k.T)((e=>({statusCode:e.status_code,statusMessage:e.status_message,faqInfoMap:e.faq_info_map,entranceMap:e.entrance_map}))))}getReportRecords(e){const{language:t,minId:i,maxId:n}=e,o=(0,u.Tt)(e,["language","minId","maxId"]),r=Object.assign(Object.assign(Object.assign({},Q),{lang:A(t),min_id:i,max_id:n}),o);return this.fetch.get("/feedback/3/list/",{query:r,baseUrlType:2})}uploadImage(e){const t=new FormData;for(let i=0;i<e.length;i++){const{file:n,height:o,width:r}=e[i];t.append("type",n.type),t.append("size",String(n.size)),t.append("name",n.name),t.append("height",String(o)),t.append("width",String(r)),t.append(`file${i}`,n)}return this.fetch.post("/node/feedback/upload_image/",{query:{tt_csrf_token:this.fetch.csrfToken},headers:{[Z.nk]:this.fetch.csrfToken},omitContentType:!0,body:t}).pipe((0,k.T)((e=>{const{data:t,statusCode:i,isPrivateImage:n}=e;return{data:(t||[]).map((e=>({image_width:e.width,image_height:e.height,image_uri:e.url}))),isPrivateImage:n,statusCode:i}})),(0,C.W)((()=>(0,f.of)({data:[],statusCode:-1}))))}reportFeedback(e){var t;return this.fetch.post("/feedback/2/post_message/",{query:Object.assign(Object.assign({},Q),e),withCredentials:!0,body:$.stringify({entrance:null!==(t=e.entrance)&&void 0!==t?t:""}),headers:{[Z.nk]:this.fetch.csrfToken}})}};Y=(0,u.Cg)([(0,W._)(),(0,u.Sn)("design:paramtypes",[K.pM])],Y);let J=class extends p.E{constructor(e,t){super(),this.service=e,this.bizContext=t,this.defaultState={hasNewFeedbackReply:!1,lastFeedbackReplyId:0,faq:{},records:{list:[],map:{},loading:!1,firstLoad:!1,hasMore:!0,hasDeleteData:!1,error:!1},form:{submitting:!1,success:!1,error:!1,uploadError:!1}}}setReply(e,t){e.lastFeedbackReplyId=t.feedback_id,e.hasNewFeedbackReply=t.has_reply}setFaqState(e,t){var i,n,o,r,a,s,l,d,c,u;const{faqType:p,data:h,loading:g,statusCode:_}=t,{flattened:v,levels:m}=h?N(h):{flattened:null,levels:null};e.faq[p]={data:null!==(n=null!=h?h:null===(i=e.faq[p])||void 0===i?void 0:i.data)&&void 0!==n?n:[],flattened:null!==(r=null!=v?v:null===(o=e.faq[p])||void 0===o?void 0:o.flattened)&&void 0!==r?r:{},levels:null!==(s=null!=m?m:null===(a=e.faq[p])||void 0===a?void 0:a.levels)&&void 0!==s?s:[],loading:null!==(d=null!=g?g:null===(l=e.faq[p])||void 0===l?void 0:l.loading)&&void 0!==d&&d,statusCode:null!==(u=null!=_?_:null===(c=e.faq[p])||void 0===c?void 0:c.statusCode)&&void 0!==u?u:null}}setFormState(e,t){e.form=Object.assign(Object.assign({},e.form),t)}setRecordsState(e,t){var i;e.records=Object.assign(Object.assign({},e.records),t),t.refreshRecords&&(e.records.list=[],e.records.map={}),null===(i=t.records)||void 0===i||i.forEach((({record:t,displayTime:i})=>{const n=Object.assign(Object.assign({},t),{displayTime:i});e.records.list.unshift(n),e.records.map[i]=e.records.map[i]||[],e.records.map[i].unshift(n)}))}addRecords(e,t){t.forEach((({record:t,displayTime:i})=>{const n=Object.assign(Object.assign({},t),{displayTime:i});e.records.list.unshift(n),e.records.map[i]=e.records.map[i]||[],e.records.map[i].unshift(n)}))}getNewestReply(e){return e.pipe((0,b.n)((()=>(0,m.Y)(6e5).pipe((0,x.Z)(0)).pipe((0,b.n)((()=>this.service.getNewestReply().pipe((0,S.M)((e=>{e.data||console.warn("There is no data in response.")})),(0,k.T)((e=>e.data?this.getActions().setReply(e.data):this.noop())),(0,L.n)({}))))))))}submitFeedback(e){return e.pipe((0,w.Z)((e=>{const{files:t}=e;return(null==t?void 0:t.length)?this.service.uploadImage(t).pipe((0,w.Z)((t=>{const{data:i,statusCode:n}=t;return(0,f.of)(Object.assign(Object.assign({},e),{submitting:!1,imageData:i,imageError:0!==n||!(null==i?void 0:i.length)}))})),(0,C.W)((()=>(0,f.of)(Object.assign(Object.assign({},e),{submitting:!1,imageData:[],imageError:!0}))))):(0,f.of)(Object.assign(Object.assign({},e),{imageData:[],imageError:!1}))})),(0,j.E)(this.bizContext.state$),(0,w.Z)((([e,{bizContext:t}])=>{const{content:i,feedbackId:n,imageData:o,imageError:r,isMobile:a,language:s="",region:l="",entrance:d}=e,{os:c=""}=null!=t?t:{},u=a?"webapp_mobile":"webapp_pc";if(r)return(0,f.of)(this.getActions().setFormState({submitting:!1,error:!1,success:!1,uploadError:!0}));const p={};(null==o?void 0:o.length)&&(p.is_private_image=1);const h={content:i,image_list:JSON.stringify(o||[]),qr_id:n,from:u,channel:u,sys_region:l,device:c,country:l,entrance:d,language:A(s),multi_image:1,extra_params:JSON.stringify(p)};return this.service.reportFeedback(h).pipe((0,k.T)((e=>{const{err_code:t}=e;if(0===t)return this.getActions().setFormState({submitting:!1,error:!1,success:!0,uploadError:!1});throw new Error})),(0,C.W)((()=>(0,f.of)(this.getActions().setFormState({submitting:!1,error:!0,success:!1,uploadError:!1})))))})))}getReportRecords(e){return e.pipe((0,j.E)(this.state$),(0,T.p)((([{maxId:e,minId:t=0,count:i=15,language:n="",user:o,region:r},{records:a}])=>{var s;const l=o?(0,O.l3)({uniqueId:o.uniqueId,secUid:o.secUid}):"",{list:d,hasMore:c}=a,u=null!=e?e:(null===(s=d[0])||void 0===s?void 0:s.id)||0,p=0===u;return p||c?this.service.getReportRecords({language:A(n),count:i,minId:t,maxId:u}).pipe((0,k.T)((e=>{const{data:t}=e,n=[];return t.forEach((e=>{const{content:t,status:i,pub_date:o,type:a}=e;if(""===t&&0===i)return this.getActions().setRecordsState({hasDeleteData:!0,loading:!1});const s=v()(1e3*o).format("YYYY-MM-DD HH:mm");e.content=function(e,t,i,n){let o=e;return o=o.replace(/[&<>"'/]/g,(e=>z[e]||"")),1===t&&(o=o.replace(V,(()=>B(U,null!=i?i:"",n))).replace(G,(()=>B(q,null!=i?i:"",n)))),o}(t,a,l,r),n.push({record:e,displayTime:s})})),this.getActions().setRecordsState({firstLoad:!0,hasMore:Boolean(t.length&&t.length===i),records:n,refreshRecords:p})})),(0,x.Z)(this.getActions().setRecordsState({loading:!0,firstLoad:!p})),(0,I.q)(this.getActions().setRecordsState({loading:!1}))):(0,f.of)(this.noop())})),(0,C.W)((()=>(0,f.of)(this.getActions().setRecordsState({loading:!1,error:!0})))))}getFaqList(e){return e.pipe((0,w.Z)((({entrance:e,id:t,language:i})=>{const n=M(e)||F(t);return this.service.getFaqList({language:A(i),entrance:n,faqType:""}).pipe((0,k.T)((e=>{const{statusMessage:t,faqInfoMap:i,entranceMap:o}=R(e);if("success"!==t)throw new Error;return{statusCode:0,data:D({faqInfoMap:i,entranceMap:o,faqType:"",entrance:n})}})),(0,C.W)((()=>(0,f.of)(this.getActions().setFaqState({faqType:"",data:[],statusCode:-1,loading:!1})))),(0,k.T)((e=>this.getActions().setFaqState(Object.assign({faqType:"",loading:!1},e)))),(0,x.Z)(this.getActions().setFaqState({loading:!0,faqType:""})),(0,I.q)(this.getActions().setFaqState({loading:!1,faqType:""}),this.terminate()))})))}getCommonFaqList(e){return e.pipe((0,w.Z)((({entrance:e,id:t,language:i})=>{const n=M(e)||F(t),o="common";return this.service.getFaqList({language:A(i),entrance:n,faqType:o}).pipe((0,k.T)((e=>{const{statusMessage:t,faqInfoMap:i,entranceMap:r}=R(e);if("success"!==t)throw new Error;return{statusCode:0,data:D({faqInfoMap:i,entranceMap:r,faqType:o,entrance:n})}})),(0,C.W)((()=>(0,f.of)(this.getActions().setFaqState({faqType:o,data:[],statusCode:-1,loading:!1})))),(0,k.T)((e=>this.getActions().setFaqState(Object.assign({faqType:o,loading:!1},e)))),(0,x.Z)(this.getActions().setFaqState({loading:!0,faqType:o})),(0,I.q)(this.getActions().setFaqState({loading:!1,faqType:o}),this.terminate()))})))}};(0,u.Cg)([(0,h.h5)(),(0,u.Sn)("design:type",Function),(0,u.Sn)("design:paramtypes",[Object,Object]),(0,u.Sn)("design:returntype",void 0)],J.prototype,"setReply",null),(0,u.Cg)([(0,h.h5)(),(0,u.Sn)("design:type",Function),(0,u.Sn)("design:paramtypes",[Object,Object]),(0,u.Sn)("design:returntype",void 0)],J.prototype,"setFaqState",null),(0,u.Cg)([(0,h.h5)(),(0,u.Sn)("design:type",Function),(0,u.Sn)("design:paramtypes",[Object,Object]),(0,u.Sn)("design:returntype",void 0)],J.prototype,"setFormState",null),(0,u.Cg)([(0,h.h5)(),(0,u.Sn)("design:type",Function),(0,u.Sn)("design:paramtypes",[Object,Object]),(0,u.Sn)("design:returntype",void 0)],J.prototype,"setRecordsState",null),(0,u.Cg)([(0,h.h5)(),(0,u.Sn)("design:type",Function),(0,u.Sn)("design:paramtypes",[Object,Array]),(0,u.Sn)("design:returntype",void 0)],J.prototype,"addRecords",null),(0,u.Cg)([(0,h.Mj)(),(0,u.Sn)("design:type",Function),(0,u.Sn)("design:paramtypes",[y.c]),(0,u.Sn)("design:returntype",void 0)],J.prototype,"getNewestReply",null),(0,u.Cg)([(0,h.Mj)(),(0,u.Sn)("design:type",Function),(0,u.Sn)("design:paramtypes",[y.c]),(0,u.Sn)("design:returntype",void 0)],J.prototype,"submitFeedback",null),(0,u.Cg)([(0,h.Mj)(),(0,u.Sn)("design:type",Function),(0,u.Sn)("design:paramtypes",[y.c]),(0,u.Sn)("design:returntype",void 0)],J.prototype,"getReportRecords",null),(0,u.Cg)([(0,h.Mj)({payloadGetter:1}),(0,u.Sn)("design:type",Function),(0,u.Sn)("design:paramtypes",[y.c]),(0,u.Sn)("design:returntype",void 0)],J.prototype,"getFaqList",null),(0,u.Cg)([(0,h.Mj)({payloadGetter:1}),(0,u.Sn)("design:type",Function),(0,u.Sn)("design:paramtypes",[y.c]),(0,u.Sn)("design:returntype",void 0)],J.prototype,"getCommonFaqList",null),J=(0,u.Cg)([(0,g.n)("Feedback"),(0,u.Sn)("design:paramtypes",[Y,H.$])],J)},54341:(e,t,i)=>{i.d(t,{ur:()=>x});var n=i(11379),o=i(83238),r=i(68055),a=i(54954),s=i(59158),l=i(13919),d=i(90245),c=i(45277),u=i(91109),p=i(49312),h=i(33293),g=i(53611);let _=class extends o.E{constructor(){super(...arguments),this.defaultState={isPwaInstallable:!1,isModalShow:!1,isExpand:!1}}storeDeferredPrompt(e){return e.pipe((0,c.M)((e=>{this.deferredPrompt=e})),(0,u.T)((()=>this.noop())))}setIsPwaInstallable(e,t){e.isPwaInstallable=t}setIsModalShow(e,t){e.isModalShow=t}setIsExpand(e,t){e.isExpand=t}handleShowSnack(e){return e.pipe((0,c.M)((e=>g.R.handleShowSnack(e))),(0,u.T)((()=>this.noop())))}handleClickDownload(e){return e.pipe((0,c.M)((()=>g.R.handleClickDownload())),(0,u.T)((()=>this.noop())))}handleInstallationClick(e){return e.pipe((0,c.M)((()=>g.R.handleGetForPC())),(0,p.c)(0),(0,h.Z)((()=>this.deferredPrompt?(this.deferredPrompt.prompt(),(0,l.H)(this.deferredPrompt.userChoice).pipe((0,c.M)((e=>{"accepted"===e.outcome?g.R.handleInstallApp():console.warn("choice result outcome is not accepted")})),(0,u.T)((e=>"accepted"===e.outcome?this.getActions().setIsPwaInstallable(!1):this.noop())))):s.w)))}};(0,n.Cg)([(0,r.Mj)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[d.c]),(0,n.Sn)("design:returntype",void 0)],_.prototype,"storeDeferredPrompt",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Boolean]),(0,n.Sn)("design:returntype",void 0)],_.prototype,"setIsPwaInstallable",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Boolean]),(0,n.Sn)("design:returntype",void 0)],_.prototype,"setIsModalShow",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Boolean]),(0,n.Sn)("design:returntype",void 0)],_.prototype,"setIsExpand",null),(0,n.Cg)([(0,r.Mj)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[d.c]),(0,n.Sn)("design:returntype",void 0)],_.prototype,"handleShowSnack",null),(0,n.Cg)([(0,r.Mj)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[d.c]),(0,n.Sn)("design:returntype",void 0)],_.prototype,"handleClickDownload",null),(0,n.Cg)([(0,r.Mj)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[d.c]),(0,n.Sn)("design:returntype",void 0)],_.prototype,"handleInstallationClick",null),_=(0,n.Cg)([(0,a.n)("AppPromotion")],_);var v=i(2162),m=i(67093),f=i(88149);const{useSigiOrJotaiService:y,useSigiOrJotaiState:b,useSigiOrJotaiDispatchers:x}=(0,m.K)((()=>(0,f.IX)().foryou.isAppPromotionJotai),_,{useServiceState:v.vn,useServiceDispatchers:v.ur})},4479:(e,t,i)=>{i.d(t,{M:()=>d});var n=i(11379),o=i(68055),r=i(54954),a=i(58475),s=i(22310),l=i(88489);let d=class extends a.E{constructor(){super(),this.defaultState={redDotCount:0,hasVisitedFollowing:!1}}setRedDotCount(e,t){(0,s.yX)().setRedDotCount(t)}setHasVisitedFollowing(e,t){(0,s.yX)().setHasVisitedFollowing(t)}};d.jotaiAtom=s.VH,(0,n.Cg)([(0,o.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Number]),(0,n.Sn)("design:returntype",void 0)],d.prototype,"setRedDotCount",null),(0,n.Cg)([(0,o.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Boolean]),(0,n.Sn)("design:returntype",void 0)],d.prototype,"setHasVisitedFollowing",null),d=(0,n.Cg)([(0,r.n)("FollowingRedDotModule"),(0,n.Sn)("design:paramtypes",[])],d),s.VH.__SIGI_MODULE__=d,(0,l.y)(d)},53391:(e,t,i)=>{i.d(t,{kK:()=>j,Tu:()=>C});var n=i(11379),o=i(68055),r=i(54954),a=i(58475),s=i(73766),l=i(90245),d=i(33293),c=i(45277),u=i(33152),p=i(95831),h=i(9310),g=i(88489),_=i(34111),v=i(95763),m=i(34462),f=i(88149),y=i(71293),b=i(4479),x=i(26679),S=i(49610),k=i(2070);let w=class{constructor(e){this.fetch=e}getNoticeCount(){return this.fetch.get("/api/notice/count/",{query:{source:7},baseUrlType:2})}getWebNoticeCount(){return this.fetch.get("/api/inbox/notice_count/",{baseUrlType:2})}};w=(0,n.Cg)([(0,S._)(),(0,n.Sn)("design:paramtypes",[k.pM])],w);const C=509;let j=class extends a.E{constructor(e,t,i,n){super(),this.service=e,this.reportInboxService=t,this.bizContext=i,this.followingRedDotModule=n,this.defaultState={noticeCount:[],reportInbox:{noticeList:[],count:0},isFooterRequest:!1}}setNoticeCount(e,t){(0,h.wU)().setNoticeCount(t)}setIsFooterRequest(e,t){(0,h.wU)().setIsFooterRequest(t)}setReportInboxNoticeList(e,t){(0,h.wU)().setReportInboxNoticeList(t)}setReportInboxNoticeCount(e,t){(0,h.wU)().setReportInboxNoticeCount(t)}updateNoticeList(e){var t;if(0===e.status_code){let i=0;const{isRepostNoticeEnabled:n}=(0,f.Fl)(),o=(null!==(t=e.notice_count)&&void 0!==t?t:[]).filter((e=>(5===e.group&&e.count>0&&(i=e.count),!!(661===e.group||n&&e.group===C)||(0,x.Bl)().indexOf(e.group)>=0&&500!==e.group)));return(0,s.of)(this.getActions().setNoticeCount(o),this.getActions().setIsFooterRequest(!0),this.followingRedDotModule.getActions().setRedDotCount(i))}return(0,s.of)(this.noop())}fetchNoticeCount(e){return e.pipe((0,d.Z)((()=>this.service.getWebNoticeCount().pipe((0,c.M)((e=>{(0,_.G)(e.status_code,[0])})),(0,d.Z)((e=>this.updateNoticeList(e))),(0,v.n)({})))))}fetchReportInbox(e){return e.pipe((0,u.E)(this.bizContext.state$),(0,p.p)((([{region:e="",language:t=""},{bizContext:i}])=>this.reportInboxService.getReportNotices({request_tag_from:(null==i?void 0:i.isMobile)?"h5":"pc",carrier_region:e,sys_region:e,current_region:e,locale:t}).pipe((0,d.Z)((({notice_lists:e})=>{var t;if(!e)return[this.noop()];const{notice_list:i}=e[0];if(!i)return[this.noop()];const n=!1===(null===(t=i[0])||void 0===t?void 0:t.has_read)?1:0;return[this.getActions().setReportInboxNoticeList(i),this.getActions().setReportInboxNoticeCount(n)]})),(0,v.n)({})))))}};j.jotaiAtom=h.pz,(0,n.Cg)([(0,o.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Array]),(0,n.Sn)("design:returntype",void 0)],j.prototype,"setNoticeCount",null),(0,n.Cg)([(0,o.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Boolean]),(0,n.Sn)("design:returntype",void 0)],j.prototype,"setIsFooterRequest",null),(0,n.Cg)([(0,o.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Array]),(0,n.Sn)("design:returntype",void 0)],j.prototype,"setReportInboxNoticeList",null),(0,n.Cg)([(0,o.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Number]),(0,n.Sn)("design:returntype",void 0)],j.prototype,"setReportInboxNoticeCount",null),(0,n.Cg)([(0,o.Mj)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[l.c]),(0,n.Sn)("design:returntype",void 0)],j.prototype,"fetchNoticeCount",null),(0,n.Cg)([(0,o.Mj)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[l.c]),(0,n.Sn)("design:returntype",void 0)],j.prototype,"fetchReportInbox",null),j=(0,n.Cg)([(0,r.n)("InboxTooltip"),(0,n.Sn)("design:paramtypes",[w,m.o,y.$,b.M])],j),h.pz.__SIGI_MODULE__=j,(0,g.y)(j)},84716:(e,t,i)=>{i.d(t,{F:()=>b});var n=i(11379),o=i(83238),r=i(68055),a=i(54954),s=i(45845),l=i.n(s),d=i(91528),c=i.n(d),u=i(73766),p=i(90245),h=i(33152),g=i(33293),_=i(19994),v=i.n(_),m=i(73021),f=i(35219);let y=class extends o.E{constructor(e){super(),this.userModule=e,this.defaultState={}}setItem(e,t){t.id_str&&(e[t.id_str]=t)}updateItem(e,t){t.id_str&&e[t.id_str]&&(e[t.id_str]=v()(e[t.id_str],t))}multiSetItem(e,t){t.forEach((t=>this.setItem(e,t)))}addItems(e){const t=e.filter((e=>Boolean(e.owner))).map((e=>{var t,i;return(0,m.bg)(Object.assign(Object.assign({},e.owner),{unique_id:null===(t=e.owner)||void 0===t?void 0:t.display_id,custom_verify:null===(i=e.owner)||void 0===i?void 0:i.authentication_info,room_id:e.id_str}))}));return[this.userModule.getActions().multiSetUser(t),this.getActions().multiSetItem(e)]}setDeleteVideo(e,t){e[t]&&(e[t]=void 0)}};(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Object]),(0,n.Sn)("design:returntype",void 0)],y.prototype,"setItem",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Object]),(0,n.Sn)("design:returntype",void 0)],y.prototype,"updateItem",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Array]),(0,n.Sn)("design:returntype",void 0)],y.prototype,"multiSetItem",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,String]),(0,n.Sn)("design:returntype",void 0)],y.prototype,"setDeleteVideo",null),y=(0,n.Cg)([(0,a.n)("LiveModule"),(0,n.Sn)("design:paramtypes",[f.U])],y),Object.freeze({statusCode:0,loading:!0,list:[],browserList:[],hasMore:!0,cursor:"0"});let b=class extends o.E{constructor(e){super(),this.live=e,this.defaultState={}}resetLiveList(e,t){const{key:i,hasMore:n=!0,loading:o=!0,cursor:r="0"}=t;e[i]={list:[],browserList:[],loading:o,statusCode:0,hasMore:n,cursor:r}}addLiveList(e,t){const{key:i,list:n,statusCode:o=0,hasMore:r,cursor:a}=t;e[i]||(e[i]={list:[],browserList:[],loading:!1,statusCode:o,hasMore:Boolean(r),cursor:a}),e[i].list=l()(e[i].list,c()(n,"id_str").map((({id_str:e})=>e))),e[i].statusCode=o,e[i].hasMore=r,e[i].cursor=a}setLoading(e,t){const{loading:i,key:n}=t;e[n]||(e[n]={list:[],browserList:[],loading:i,statusCode:0,hasMore:!0,cursor:"0"}),e[n].loading=i}setListKeyword(e,t){const{keyword:i,key:n}=t;e[n]||(e[n]={keyword:i,list:[],browserList:[],loading:!1,statusCode:0,hasMore:!0,cursor:"0"}),e[n].keyword=i}setList(e){return e.pipe((0,h.E)(this.state$),(0,g.Z)((([{key:e,response:t}])=>{const{liveList:i=[],statusCode:n=0,hasMore:o=!1,cursor:r="0"}=t;return 0===n?(0,u.of)(...this.live.addItems(i),this.getActions().addLiveList({key:e,list:i,statusCode:n,hasMore:o,cursor:r})):(0,u.of)(this.getActions().addLiveList({key:e,list:[],statusCode:n,hasMore:!0}))})))}};(0,n.Cg)([(0,r.uk)(),(0,n.Sn)("design:type",p.c)],b.prototype,"dispose$",void 0),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Object]),(0,n.Sn)("design:returntype",void 0)],b.prototype,"resetLiveList",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Object]),(0,n.Sn)("design:returntype",void 0)],b.prototype,"addLiveList",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Object]),(0,n.Sn)("design:returntype",void 0)],b.prototype,"setLoading",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Object]),(0,n.Sn)("design:returntype",void 0)],b.prototype,"setListKeyword",null),(0,n.Cg)([(0,r.Mj)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[p.c]),(0,n.Sn)("design:returntype",void 0)],b.prototype,"setList",null),b=(0,n.Cg)([(0,a.n)("LiveList"),(0,n.Sn)("design:paramtypes",[y])],b)},46062:(e,t,i)=>{i.d(t,{iM:()=>r});var n=i(28986),o=i(74078);const r=(e,t)=>{n.LU.removeAll(),o.z.logoutSubmit(null!=t?t:{});let i="https://www.tiktok.com/logout";e&&(i+=`?redirect_url=${encodeURIComponent(e)}`),window.location.href=i}},37523:(e,t,i)=>{i.d(t,{$:()=>v,q:()=>f});var n=i(11379),o=i(18898),r=i(65622),a=i(48420),s=i(25972),l=i(2070),d=i(60690),c=i(54469),u=i(53391),p=i(48717),h=i(25448),g=i(61942),_=i(12688);function v(){var e,t,i,d;const u=(0,a.V)(),{user:g,encryptedWebid:v,lang:m,appType:f,abTestVersion:y,env:b,wid:x,$apiUrl:S,$wsUrl:k}=(0,o.P)(c.L,{dependencies:[],selector:e=>{var t,i,n,o,r,a;return{user:null===(t=e.appContext)||void 0===t?void 0:t.user,wid:null===(i=e.appContext)||void 0===i?void 0:i.wid,encryptedWebid:null===(n=e.appContext)||void 0===n?void 0:n.encryptedWebid,appType:null===(o=e.appContext)||void 0===o?void 0:o.appType,lang:e.lang,env:null===(r=e.appContext)||void 0===r?void 0:r.env,$apiUrl:u.imApi,$wsUrl:u.imFrontier,abTestVersion:null===(a=e.appContext)||void 0===a?void 0:a.abTestVersion}}}),w=(0,p.rp)(),C=(0,h._q)(),j="v2"===(null!==(e=(0,_.qt)(y,"web_dm_test_force_http"))&&void 0!==e?e:"v1"),T="v2"===(null!==(t=(0,_.qt)(y,"web_dm_group_chat"))&&void 0!==t?t:"v1"),I="v2"===(null!==(i=(0,_.qt)(y,"web_dm_enable_debug"))&&void 0!==i?i:"v1"),O="v2"===(null!==(d=(0,_.qt)(y,"web_dm_decrease_lcp"))&&void 0!==d?d:"v1");(0,r.useEffect)((()=>{(()=>{(0,n.sH)(this,void 0,void 0,(function*(){var e;yield l.hd.init(m);const t=l.hd.getRiskParams(0),i=(0,s.Ri)("msToken")||"";Object.keys(t).forEach((e=>{void 0!==t[e]?t[e]=String(t[e]):t[e]=""})),t.referer||(t.referer=window.location.href);const o={appId:1459,userId:null!==(e=null==g?void 0:g.uid)&&void 0!==e?e:"",secUid:null==g?void 0:g.secUid,deviceId:null!=x?x:"",appKey:"e1bd35ec9db7b8d846de66ed140b1ad9",fpId:9,method:1,apiUrl:S,inboxType:T?[0,1,3]:[0,3],acceptIncorrectInboxType:!0,frontierUrl:k,headers:Object.assign(Object.assign({},t),{from_appID:"1988",app_language:m,app_name:"tiktok_web",channel:"web",user_agent:navigator.userAgent,"Web-Sdk-Ms-Token":i}),whaleQueryParams:{aid:"1988",version_code:"1.0.0",app_name:"tiktok_web",device_platform:"web_pc"},extended:{device_id:void 0,ttwid:window.decodeURIComponent(null!=v?v:""),"Web-Sdk-Ms-Token":i},timeout:5e3,disableInitPull:!0,serialSendFileMessage:!0,autoFetchUploadConfig:!0,sortByLocalIndex:!0,eventListener:e=>(0,n.sH)(this,void 0,void 0,(function*(){yield C.handleIMEvent(Object.assign(Object.assign({},e),{abTestVersion:y}))})),monitor:{emitMetrics(e,t={},i={}){if(!window.SlardarClient||"network.request"!==e||"1"!==i.inbox_type)return;const{imsdk_cmd:n,conversation_id:o,error_code:r,inbox_type:a,logid:s}=i;window.SlardarClient.sendEvent({name:"im_request",categories:{imsdk_cmd:n,conversation_id:o,error_code:r,inbox_type:a,logid:s},metrics:Object.assign({count:1},t)})}}};Object.assign(o,{debug:!1,service:5,withCredentials:!0}),j&&(o.webSocketLevel=3),yield w.initSdk(o,O),yield C.startConversationChange(),C.initWebDMLocalStorage(o.secUid)}))})()}),[f,null==b?void 0:b.name,null==g?void 0:g.secUid,null==g?void 0:g.uid,x,v,m,S,k,y,C,w,j,T,I,O])}const m=/^\(\d+\+?\)/;function f(){const e=(0,h.VB)((e=>e.messageCount),g.bN),t=(0,o.P)(u.kK,{dependencies:[],selector:e=>e.noticeCount.reduce(((e,{count:t})=>e+t),0)}),i=(0,r.useMemo)((()=>e+t),[e,t]);(0,r.useEffect)((()=>{if(i>0){const e=(0,d.lH)(i);m.test(document.title)?document.title=document.title.replace(m,`(${e})`):document.title=`(${e})${document.title}`}else document.title=document.title.replace(m,"")}),[i])}},95848:(e,t,i)=>{i.d(t,{oL:()=>j});var n=i(27334),o=i(65622),r=i(63161),a=i(52528),s=i(50374),l=i(39190),d=i(23298),c=i(15474),u=i(63216),p=i(28037),h=i(2032);const g=h.default.div`
  padding: 1.5rem; /* 24px */
  display: flex;
  justify-content: space-between;
  gap: 0.75rem; /* 12px */
`,_=h.default.div`
  flex-shrink: 0;
  width: 2rem; /* 32px */
  height: 2rem; /* 32px */
  cursor: pointer;

  & > svg {
    width: 100%;
    height: 100%;
  }
`,v=h.default.div`
  display: flex;
  flex-direction: column;
  gap: 0.25rem; /* 4px */
  font-size: 24px !important;
  line-height: 1.2 !important;
  font-weight: 500 !important;
  font-family: TikTokDisplayFont !important;
`,m=h.default.div`
  color: rgba(22, 24, 35, 1);
  font-size: var(--text-h6-font-size); /* Assuming H6-Medium maps to a custom property */
  font-weight: medium;
  line-height: var(--text-h6-line-height);
  font-family: TikTokFont;
  flex: 1;
`,f=h.default.div`
  color: rgba(22, 24, 35, 0.75);
  font-size: 16px;
  line-height: 1.5;
  font-weight: normal;
  font-family: TikTokFont;
`,y=h.default.div`
  display: flex;
  justify-content: space-between;
  padding: 1.5rem;
`,b=h.default.div`
  display: flex;
  align-items: center;
  gap: 1rem; /* 16px */
`;function x(e){const{visible:t,title:i,subTitle:r,returnable:a,onReturn:s,closable:l=!0,onClose:d,children:h,footer:x,renderLeftFooter:S,renderRightFooter:k,okText:w,onCancel:C,onOk:j,cancelText:T,okButtonProps:I={},cancelButtonProps:O={}}=e,{isOpen:L,transitionStatus:E,open:A,close:P}=(0,c.eb)({onClose:d});return(0,o.useEffect)((()=>{t?A():P()}),[t]),(0,n.jsxs)(c.nO,{isOpen:L,transitionStatus:E,open:A,close:P,width:"Medium",height:"Compact",children:[(0,n.jsxs)(g,{children:[a&&(0,n.jsx)(_,{onClick:s,children:(0,n.jsx)(u.A,{})}),(0,n.jsxs)(v,{children:[(0,n.jsx)(m,{children:i}),!!r&&(0,n.jsx)(f,{children:r})]}),l&&(0,n.jsx)(_,{onClick:()=>P(),children:(0,n.jsx)(p.A,{})})]}),(0,n.jsx)(c.Qx,{color:"LineSecondary"}),h,x||(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Qx,{color:"LineSecondary"}),(0,n.jsxs)(y,{children:[(0,n.jsx)("div",{children:S}),(0,n.jsx)(b,{children:k||(0,n.jsxs)(n.Fragment,{children:[T&&(0,n.jsx)(c.I0,Object.assign({size:"medium",label:T,onClick:C},O)),w&&(0,n.jsx)(c.I0,Object.assign({size:"medium",label:w,onClick:j},I))]})})]})]})]})}var S=i(1350),k=i(80045),w=i(97614),C=i(61942);const j=function({canUseBcVisible:e,setCanUseBcVisible:t}){const{pathname:i}=(0,r.zy)(),u=(0,a.s)(),p=(0,w.VR)((e=>e.businessAccountInfoResponse),C.bN),h=(0,o.useMemo)((()=>[{icon:S.A,title:u("wbs_goto_bc_modal_feature3_title"),description:u("wbs_goto_bc_modal_feature3_content")},{icon:k.A,title:u("wbs_goto_bc_modal_feature1_title"),description:u("wbs_goto_bc_modal_feature1_content")}]),[u]);return(0,n.jsx)(x,{visible:e,onClose:()=>t(!1),title:u("wbs_goto_bc_modal_title"),renderRightFooter:(0,n.jsx)(c.I0,{variant:"primary",size:"medium",label:u("wbs_goto_bc_modal_btn"),onClick:()=>{(()=>{var e;const n=i===d.OZ.messages,o=null===(e=p.data)||void 0===e?void 0:e.redirect_url;o&&(n?location.href=o:window.open(o),t(!1))})(),s.f.event("webtt_bc_dm_go_to_biz_center")}}),children:(0,n.jsx)(l.$m,{children:h.map(((e,t)=>(0,n.jsxs)(l.iS,{children:[(0,n.jsx)("div",{children:(0,o.createElement)(e.icon,{fontSize:24})}),(0,n.jsxs)(l.bP,{children:[(0,n.jsx)(l.Gq,{children:u(e.title)}),(0,n.jsx)(l.k5,{children:u(e.description)})]})]},t)))})})}},39190:(e,t,i)=>{i.d(t,{$m:()=>h,F3:()=>u,Gq:()=>v,Nk:()=>c,bP:()=>_,iS:()=>g,k5:()=>m,n5:()=>p,pS:()=>s,vE:()=>d});var n=i(2032),o=i(45368),r=i(22477),a=i(53240);const s=(0,n.default)("div",{target:"e1nx07zo0"})((({theme:{direction:e},removeMarginLeft:t})=>(0,a.mp)({direction:e,marginStart:t?"0px":"16px"})),{cursor:"pointer",height:"32px",padding:"3px 3px 0",position:"relative",WebkitAppRegion:"no-drag"},"label:DivMessageIconContainer;");s.defaultProps=Object.assign(Object.assign({},s.defaultProps),{"data-e2e":"top-dm-icon"});const l=({theme:{direction:e}})=>({width:"26px",height:"26px",transform:"rtl"===e?"rotateY(180deg)":"none"}),d=(0,n.default)(o.A,{target:"e1nx07zo1"})(l,"label:StyledIcon;"),c=(0,n.default)(r.A,{target:"e1nx07zo2"})(l,"label:StyledActiveIcon;"),u=(0,n.default)("sup",{target:"e1nx07zo3"})((({theme:e,long:t})=>[(0,a.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",color:"ConstTextInverse",fontWeight:"semiBold"}),(0,a.mp)({direction:e.direction,start:"16px"}),{position:"absolute",top:"-7px",minWidth:"20px",borderRadius:"10px",height:"20px",background:e.colors.Primary,textAlign:"center",padding:t?"0 6px":"0"}]),"label:SupMsgBadge;"),p=n.default.div`
  display: flex;
  align-items: center;
  gap: 1rem; /* 16px */
  padding-inline-start: 1rem; /* 16px */
`,h=n.default.div`
  padding: 1.5rem; /* 24px */
  display: flex;
  flex-direction: column;
  gap: 1.5rem; /* 24px */
`,g=n.default.div`
  display: flex;
  gap: 0.75rem; /* 12px */
`,_=n.default.div`
  display: flex;
  flex-direction: column;
  gap: 0.375rem; /* 6px */
`,v=(0,n.default)("div",{target:"e1nx07zo4"})((({theme:{colors:e}})=>({lineHeight:"1.5",fontSize:"16px",fontWeight:"600",fontFamily:"TiktokFont",color:e.TextPrimary})),"label:TextPrimary;"),m=(0,n.default)("div",{target:"e1nx07zo5"})((({theme:{colors:e}})=>({lineHeight:"1.5",fontSize:"16px",fontFamily:"TiktokFont",color:e.TextSecondary})),"label:TextSecondary;")},25972:(e,t,i)=>{i.d(t,{Hz:()=>n,Ri:()=>o});const n=(e,t)=>{try{if("business"!==new URLSearchParams(window.location.search).get("scene"))return;window.parent.postMessage({type:e,params:t},window.location.origin)}catch(e){console.error("postMessage error",e)}},o=e=>{var t;const i=`; ${document.cookie}`.split(`; ${e}=`);return i.length>0?null===(t=i.pop())||void 0===t?void 0:t.split(";").shift():null}},98128:(e,t,i)=>{i.d(t,{Cp:()=>X,P4:()=>Y}),i(65622);var n=i(88149),o=i(67093),r=i(11379),a=i(47568),s=i(91528),l=i.n(s),d=i(92694),c=i(34111),u=i(87999),p=i(46863),h=i(9310),g=i(73021),_=i(25724),v=i(29756),m=i(9139),f=i(2070),y=i(90064);function b(e){return(0,r.sH)(this,void 0,void 0,(function*(){return f.hd.get("/api/notice/multi/",{query:e,baseUrlType:2})}))}function x(e){return(0,r.sH)(this,void 0,void 0,(function*(){return f.hd.get("/api/inbox/notice_list/",{query:e,baseUrlType:2})}))}var S=i(26679);const k={has_more:1,max_time:0,min_time:0,notice_list:[],loading:!1},w={diggList:{users:[],loading:!1,has_more:1,max_cursor:0,min_cursor:0},activeSystemNoticeGroup:null,noticeList:k,followRequest:{has_more:!1,min_time:0,total:0,users:[],loading:!1},latestSystemNotice:null},C=(0,_.atom)(w),j=(0,_.atom)((e=>Object.assign(Object.assign({},e(C)),{inboxTabShowing:e(u.eh).isShowing,activeGroup:e(u.eh).activeGroup})),((e,t)=>{t(C,w)}));let T;j.debugLabel="noticeAtom";const{useAtomService:I,useServiceState:O,useServiceDispatchers:L,getStaticApi:E}=(0,v.i)(j,((e,t)=>({setInboxTabShowing(e){(0,u.Hp)().setIsShowing(e)},setActiveGroup(e){(0,u.Hp)().setActiveGroup(e)},setActiveSystemNoticeGroup(e){t(C,(t=>Object.assign(Object.assign({},t),{activeSystemNoticeGroup:e})))},setNoticeList(e){t(C,(t=>Object.assign(Object.assign({},t),{noticeList:e})))},setNoticeListLoading(e){t(C,(t=>Object.assign(Object.assign({},t),{noticeList:Object.assign(Object.assign({},t.noticeList),{loading:e})})))},setLatestSystemNotice(e){t(C,(t=>Object.assign(Object.assign({},t),{latestSystemNotice:e})))},changeActiveGroup({group:e}){return(0,r.sH)(this,void 0,void 0,(function*(){T||(T=d.b.getInstance()),T.handleChangeTab({to_tab_name:m.zv[e]}),(0,a.unstable_batchedUpdates)((()=>{this.setActiveGroup(e),this.setNoticeList(k)}));const t=[this.fetchNoticeData()];500===e&&t.push(this.fetchLatestSystemNotice()),yield Promise.all(t)}))},changeActiveSystemNoticeGroup(e){return(0,r.sH)(this,void 0,void 0,(function*(){T||(T=d.b.getInstance()),T.handleChangeSystemNotificationTab({to_tab_name:m.Nr[e]}),(0,a.unstable_batchedUpdates)((()=>{this.setActiveSystemNoticeGroup(e),this.setNoticeList(k)})),yield this.fetchSystemNoticeData()}))},fetchNoticeData(t){var i;return(0,r.sH)(this,void 0,void 0,(function*(){const{activeGroup:n,noticeList:o}=e(j),{fetchLatest:r,markAsRead:s}=null!=t?t:{};if(o.loading||!r&&!o.has_more)return;const d={count:20,is_mark_read:null==s||s?1:0,group:n,max_time:r?0:o.max_time,min_time:r?o.max_time:o.min_time};this.setNoticeListLoading(!0);try{const e=yield b({aid:1988,group_list:JSON.stringify([d])});if((0,c.G)(e.status_code,[0]),0===e.status_code){const{notice_lists:t}=e;if(null==t?void 0:t.length){const{has_more:e,max_time:n,min_time:s,notice_list:d=[]}=t[0];d.forEach((e=>{(0,S.mX)(e)}));const c=l()([...null!==(i=o.notice_list)&&void 0!==i?i:[],...d].sort(((e,t)=>Number(BigInt(t.create_time)-BigInt(e.create_time)))),(e=>{var t;return null!==(t=e.nid_str)&&void 0!==t?t:e.nid}));(0,a.unstable_batchedUpdates)((()=>{(0,p.Gp)().multiSetUser(this.getNoticeUsers(d)),r?this.setNoticeList({has_more:o.has_more,max_time:c[0].create_time,min_time:o.min_time,notice_list:c,loading:!1}):this.setNoticeList({has_more:e,max_time:n,min_time:s,notice_list:c,loading:!1})}))}else this.setNoticeList({has_more:0,min_time:o.min_time,max_time:o.max_time,notice_list:o.notice_list,loading:!1})}}catch(e){this.setNoticeListLoading(!1)}}))},markAsRead(e){return(0,r.sH)(this,void 0,void 0,(function*(){const t={count:1,is_mark_read:1,group:500,max_time:Number(e.create_time)+.001,min_time:e.create_time},i=(0,h.wU)();try{i.updateUnreadCount(e.type,"read");const{status_code:n}=yield b({aid:1988,group_list:JSON.stringify([t])});(0,c.G)(n,[0]),0!==n&&i.updateUnreadCount(e.type,"unread")}catch(e){}}))},fetchSystemNoticeData(){var t;return(0,r.sH)(this,void 0,void 0,(function*(){const{activeSystemNoticeGroup:i,noticeList:n}=e(j);if(!n.loading&&n.has_more&&null!=i){this.setNoticeListLoading(!0);try{const e=yield x({aid:1988,group_list:JSON.stringify([{count:20,is_mark_read:1,group:i,max_time:n.max_time,min_time:n.min_time}])});if(0!==e.status_code)return void this.setNoticeListLoading(!1);const{notice_lists:o}=e;if(null==o?void 0:o.length){const{has_more:e,max_time:i,min_time:r,notice_list:a=[]}=o[0];this.setNoticeList({has_more:e?1:0,max_time:i,min_time:r,notice_list:[...null!==(t=n.notice_list)&&void 0!==t?t:[],...a],loading:!1})}else this.setNoticeList({has_more:0,min_time:n.min_time,max_time:n.max_time,notice_list:n.notice_list,loading:!1})}catch(e){}this.setNoticeListLoading(!1)}}))},fetchLatestSystemNotice(){var e,t;return(0,r.sH)(this,void 0,void 0,(function*(){const i=yield x({aid:1988,group_list:JSON.stringify([{count:1,is_mark_read:0,group:661,max_time:0,min_time:0}])});if(0!==i.status_code)return;const{notice_lists:n}=i;(null==n?void 0:n.length)?this.setLatestSystemNotice(null!==(t=null===(e=n[0].notice_list)||void 0===e?void 0:e[0])&&void 0!==t?t:null):this.setLatestSystemNotice(null)}))},setDiggList(e){t(C,(t=>Object.assign(Object.assign({},t),{diggList:Object.assign(Object.assign({},t.diggList),{users:e})})))},setDiggListLoading(e){t(C,(t=>Object.assign(Object.assign({},t),{diggList:Object.assign(Object.assign({},t.diggList),{loading:e})})))},fetchDiggListData({ref_id:t}){var i;return(0,r.sH)(this,void 0,void 0,(function*(){const{diggList:n}=e(j);if(n.loading||!n.has_more)return;const o={count:20,max_cursor:n.max_cursor,min_cursor:n.min_cursor,digg_type:1,ref_id:t,aid:1988};this.setDiggListLoading(!0);const s=yield function(e){return(0,r.sH)(this,void 0,void 0,(function*(){return f.hd.get("/api/notice/digg/list/",{query:e,baseUrlType:2})}))}(o),l=(null!==(i=s.digg_infos)&&void 0!==i?i:[]).map((({simple_user:e})=>(0,g.bg)(e)));(0,a.unstable_batchedUpdates)((()=>{(0,p.Gp)().multiSetUser(l),this.setDiggList(l.map((({uniqueId:e})=>e))),this.setDiggListLoading(!1)}))}))},setNoticeFollowRequest(e){t(C,(t=>Object.assign(Object.assign({},t),{followRequest:e})))},setNoticeFollowRequestLoading(e){t(C,(t=>Object.assign(Object.assign({},t),{followRequest:Object.assign(Object.assign({},t.followRequest),{loading:e})})))},fetchNoticeFollowRequest({uid:t,refresh:i}){var n;return(0,r.sH)(this,void 0,void 0,(function*(){const{followRequest:o}=e(j),s={user_id:t,count:20,max_time:i?0:o.min_time,aid:1988};this.setNoticeFollowRequestLoading(!0);try{const e=yield function(e){return(0,r.sH)(this,void 0,void 0,(function*(){return f.hd.get("/api/user/following/request/list/",{query:e,baseUrlType:2})}))}(s);if((0,c.G)(e.status_code,[0]),0===e.status_code){const t=(null!==(n=e.request_users)&&void 0!==n?n:[]).map((e=>(0,g.bg)(e))),r=t.map((({uniqueId:e})=>e));(0,a.unstable_batchedUpdates)((()=>{(0,p.Gp)().multiSetUser(t),this.setNoticeFollowRequest({has_more:e.has_more,loading:!1,min_time:e.min_time,total:e.total,users:i?r:o.users.concat(r),from:"fetchNoticeFollowRequest"})}))}}catch(e){this.setNoticeFollowRequestLoading(!1)}}))},setNoticeFollowRequestReply(i){const{followRequest:n}=e(j),o=n.users.indexOf(i);o>=0&&t(C,(e=>{let t=e.followRequest.total;return"string"==typeof t?t=t.replace(/(.+?)(\d0*$)/,((e,t,i)=>t+String(Number(i)-1))):t-=1,Object.assign(Object.assign({},e),{followRequest:Object.assign(Object.assign({},e.followRequest),{users:e.followRequest.users.filter(((e,t)=>t!==o)),total:t})})}))},postFollowReply(e){return(0,r.sH)(this,void 0,void 0,(function*(){const{approveOrReject:t,uniqueId:i,uid:n=""}=e;T||(T=d.b.getInstance()),T.handleFollowRequestAction({action:0===t?"accept":"delete",to_user_id:n});const o=0===t?function(e){return(0,r.sH)(this,void 0,void 0,(function*(){return f.hd.post("/api/commit/follow/request/approve/",{query:{from_user_id:e,from:33},headers:{[y.nk]:f.hd.csrfToken}})}))}(n):function(e){return(0,r.sH)(this,void 0,void 0,(function*(){return f.hd.post("/api/commit/follow/request/reject/",{query:{from_user_id:e,from:33},headers:{[y.nk]:f.hd.csrfToken}})}))}(n);yield o,this.setNoticeFollowRequestReply(i)}))},getNoticeUsers:e=>e.reduce(((e,t)=>{var i,n,o,r;return S.BS.isFollowNotice(t)&&e.push((0,g.bg)(t.follow.from_user)),S.BS.isFollowApprovalNotice(t)&&e.push((0,g.bg)(t.follow_request_approve.from_user)),S.BS.isLikeNotice(t)&&(null===(i=t.digg.from_user)||void 0===i||i.forEach((t=>e.push((0,g.bg)(t))))),S.BS.isCommentNotice(t)&&e.push((0,g.bg)(t.comment.comment.user)),S.BS.isDuetNotice(t)&&e.push((0,g.bg)(t.duet.aweme.author)),S.BS.isMentionNotice(t)&&t.at.user_info&&e.push((0,g.bg)(t.at.user_info)),S.BS.isRepostInboxNotice(t)&&(null===(r=null===(o=null===(n=t.template_notice.notice)||void 0===n?void 0:n.title)||void 0===o?void 0:o.from_users)||void 0===r||r.forEach((t=>e.push((0,g.bg)(Object.assign({short_id:"",gender:0,birthday:""},t)))))),e}),[])})));var A=i(83238),P=i(68055),R=i(54954),D=i(73766),M=i(59158),F=i(90245),N=i(45277),B=i(33293),z=i(33152),U=i(60057),q=i(74895),V=i(72038),G=i(95831),H=i(90100),W=i(95763),$=i(35219),K=i(49610);let Z=class{constructor(e){this.fetch=e}getNoticeGroupData(e){return this.fetch.get("/api/notice/multi/",{query:e,baseUrlType:2})}getSystemNoticeGroupData(e){return this.fetch.get("/api/inbox/notice_list/",{query:e,baseUrlType:2})}getNoticeDiggList(e){return this.fetch.get("/api/notice/digg/list/",{query:e,baseUrlType:2})}getNoticeFollowRequestList(e){return this.fetch.get("/api/user/following/request/list/",{query:e,baseUrlType:2})}postFollowReplyApprove(e){return this.fetch.post("/api/commit/follow/request/approve/",{query:{from_user_id:e,from:33},headers:{[y.nk]:this.fetch.csrfToken}})}postFollowReplyReject(e){return this.fetch.post("/api/commit/follow/request/reject/",{query:{from_user_id:e,from:33},headers:{[y.nk]:this.fetch.csrfToken}})}};Z=(0,r.Cg)([(0,K._)(),(0,r.Sn)("design:paramtypes",[f.pM])],Z);let Q=class extends A.E{constructor(e,t,i){super(),this.report=e,this.service=t,this.user=i,this.defaultNoticeList={has_more:1,max_time:0,min_time:0,notice_list:[],loading:!1},this.defaultFollowRequest={has_more:!1,min_time:0,total:0,users:[],loading:!1},this.defaultState={diggList:{users:[],loading:!1,has_more:1,max_cursor:0,min_cursor:0},inboxTabShowing:!1,activeGroup:500,activeSystemNoticeGroup:null,noticeList:this.defaultNoticeList,followRequest:this.defaultFollowRequest,latestSystemNotice:null}}setInboxTabShowing(e,t){e.inboxTabShowing=t}setActiveGroup(e,t){e.activeGroup=t}setActiveSystemNoticeGroup(e,t){e.activeSystemNoticeGroup=t}setNoticeList(e,t){e.noticeList=t}setNoticeListLoading(e,t){e.noticeList.loading=t}setLatestSystemNotice(e,t){e.latestSystemNotice=t}changeActiveGroup(e){return e.pipe((0,N.M)((({group:e})=>{this.report.handleChangeTab({to_tab_name:m.zv[e]})})),(0,B.Z)((({group:e})=>(0,D.of)(this.getActions().setActiveGroup(e),this.getActions().setNoticeList(this.defaultNoticeList),this.getActions().fetchNoticeData(),500===e?this.getActions().fetchLatestSystemNotice():this.noop()))))}changeActiveSystemNoticeGroup(e){return e.pipe((0,N.M)((e=>{this.report.handleChangeSystemNotificationTab({to_tab_name:m.Nr[e]})})),(0,B.Z)((e=>(0,D.of)(this.getActions().setActiveSystemNoticeGroup(e),this.getActions().setNoticeList(this.defaultNoticeList),this.getActions().fetchSystemNoticeData()))))}fetchNoticeData(e){return e.pipe((0,z.E)(this.state$),(0,U.n)((([e,{activeGroup:t,noticeList:i}])=>{if(i.loading||!i.has_more)return M.w;const n={count:20,is_mark_read:1,group:t,max_time:i.max_time,min_time:i.min_time};return this.service.getNoticeGroupData({aid:1988,group_list:JSON.stringify([n])}).pipe((0,N.M)((e=>{(0,c.G)(e.status_code,[0])})),(0,B.Z)((e=>{var t;if(0===e.status_code){const{notice_lists:n}=e;if(!(null==n?void 0:n.length))return(0,D.of)(this.getActions().setNoticeList({has_more:0,min_time:i.min_time,max_time:i.max_time,notice_list:i.notice_list,loading:!1}));const{has_more:o,max_time:r,min_time:a,notice_list:s=[]}=n[0];return s.forEach((e=>{(0,S.mX)(e)})),(0,D.of)(this.user.getActions().multiSetUser(this.getNoticeUsers(s)),this.getActions().setNoticeList({has_more:o,max_time:r,min_time:a,notice_list:[...null!==(t=i.notice_list)&&void 0!==t?t:[],...s],loading:!1}))}return(0,D.of)(this.noop())})),(0,q.Z)(this.getActions().setNoticeListLoading(!0)),(0,V.q)(this.getActions().setNoticeListLoading(!1)),(0,W.n)({}))})))}fetchSystemNoticeData(e){return e.pipe((0,z.E)(this.state$),(0,U.n)((([e,{activeSystemNoticeGroup:t,noticeList:i}])=>i.loading||!i.has_more||null==t?M.w:this.service.getSystemNoticeGroupData({aid:1988,group_list:JSON.stringify([{count:20,is_mark_read:1,group:t,max_time:i.max_time,min_time:i.min_time}])}).pipe((0,B.Z)((e=>{var t;if(0!==e.status_code)return(0,D.of)(this.noop());const{notice_lists:n}=e;if(!(null==n?void 0:n.length))return(0,D.of)(this.getActions().setNoticeList({has_more:0,min_time:i.min_time,max_time:i.max_time,notice_list:i.notice_list,loading:!1}));const{has_more:o,max_time:r,min_time:a,notice_list:s=[]}=n[0];return(0,D.of)(this.getActions().setNoticeList({has_more:o?1:0,max_time:r,min_time:a,notice_list:[...null!==(t=i.notice_list)&&void 0!==t?t:[],...s],loading:!1}))})),(0,q.Z)(this.getActions().setNoticeListLoading(!0)),(0,V.q)(this.getActions().setNoticeListLoading(!1)),(0,W.n)({})))))}fetchLatestSystemNotice(e){return e.pipe((0,U.n)((e=>this.service.getSystemNoticeGroupData({aid:1988,group_list:JSON.stringify([{count:1,is_mark_read:0,group:661,max_time:0,min_time:0}])}).pipe((0,B.Z)((e=>{var t,i;if(0!==e.status_code)return(0,D.of)(this.noop());const{notice_lists:n}=e;return(null==n?void 0:n.length)?(0,D.of)(this.getActions().setLatestSystemNotice(null!==(i=null===(t=n[0].notice_list)||void 0===t?void 0:t[0])&&void 0!==i?i:null)):(0,D.of)(this.getActions().setLatestSystemNotice(null))}))))))}setDiggList(e,t){e.diggList.users=t}setDiggListLoading(e,t){e.diggList.loading=t}fetchDiggListData(e){return e.pipe((0,z.E)(this.state$),(0,G.p)((([{ref_id:e},{diggList:t}])=>{if(t.loading||!t.has_more)return M.w;const i={count:20,max_cursor:t.max_cursor,min_cursor:t.min_cursor,digg_type:1,ref_id:e,aid:1988};return this.service.getNoticeDiggList(i).pipe((0,B.Z)((e=>{var t;const i=(null!==(t=e.digg_infos)&&void 0!==t?t:[]).map((({simple_user:e})=>(0,g.bg)(e)));return(0,D.of)(this.user.getActions().multiSetUser(i),this.getActions().setDiggList(i.map((({uniqueId:e})=>e))))})),(0,q.Z)(this.getActions().setDiggListLoading(!0)),(0,V.q)(this.getActions().setDiggListLoading(!1)))})))}setNoticeFollowRequest(e,t){e.followRequest=t}setNoticeFollowRequestLoading(e,t){e.followRequest.loading=t}fetchNoticeFollowRequest(e){return e.pipe((0,z.E)(this.state$),(0,B.Z)((([{uid:e,refresh:t},{followRequest:i}])=>{const n={user_id:e,count:20,max_time:t?0:i.min_time,aid:1988};return this.service.getNoticeFollowRequestList(n).pipe((0,N.M)((e=>{(0,c.G)(e.status_code,[0])})),(0,B.Z)((e=>{var n;if(0===e.status_code){const o=(null!==(n=e.request_users)&&void 0!==n?n:[]).map((e=>(0,g.bg)(e))),r=o.map((({uniqueId:e})=>e));return(0,D.of)(this.user.getActions().multiSetUser(o),this.getActions().setNoticeFollowRequest({has_more:e.has_more,loading:!1,min_time:e.min_time,total:e.total,users:t?r:i.users.concat(r),from:"fetchNoticeFollowRequest"}))}return(0,D.of)(this.noop())})),(0,q.Z)(this.getActions().setNoticeFollowRequestLoading(!0)),(0,V.q)(this.getActions().setNoticeFollowRequestLoading(!1)),(0,W.n)({}))})))}setNoticeFollowRequestReply(e,t){const i=e.followRequest.users.indexOf(t);if(i>=0){e.followRequest.users.splice(i,1);const{total:t}=e.followRequest;e.followRequest.total="string"==typeof t?t.replace(/(.+?)(\d0*$)/,((e,t,i)=>t+String(Number(i)-1))):t-1}}postFollowReply(e){return e.pipe((0,N.M)((({approveOrReject:e,uid:t=""})=>{this.report.handleFollowRequestAction({action:0===e?"accept":"delete",to_user_id:t})})),(0,B.Z)((({approveOrReject:e,uniqueId:t,uid:i=""})=>(0===e?this.service.postFollowReplyApprove(i):this.service.postFollowReplyReject(i)).pipe((0,H.u)(this.getActions().setNoticeFollowRequestReply(t))))))}getNoticeUsers(e){return e.reduce(((e,t)=>{var i,n,o,r;return S.BS.isFollowNotice(t)&&e.push((0,g.bg)(t.follow.from_user)),S.BS.isLikeNotice(t)&&(null===(i=t.digg.from_user)||void 0===i||i.forEach((t=>e.push((0,g.bg)(t))))),S.BS.isCommentNotice(t)&&e.push((0,g.bg)(t.comment.comment.user)),S.BS.isDuetNotice(t)&&e.push((0,g.bg)(t.duet.aweme.author)),S.BS.isMentionNotice(t)&&t.at.user_info&&e.push((0,g.bg)(t.at.user_info)),S.BS.isRepostInboxNotice(t)&&(null===(r=null===(o=null===(n=t.template_notice.notice)||void 0===n?void 0:n.title)||void 0===o?void 0:o.from_users)||void 0===r||r.forEach((t=>e.push((0,g.bg)(Object.assign({short_id:"",gender:0,birthday:""},t)))))),e}),[])}};(0,r.Cg)([(0,P.h5)(),(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[Object,Boolean]),(0,r.Sn)("design:returntype",void 0)],Q.prototype,"setInboxTabShowing",null),(0,r.Cg)([(0,P.h5)(),(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[Object,Number]),(0,r.Sn)("design:returntype",void 0)],Q.prototype,"setActiveGroup",null),(0,r.Cg)([(0,P.h5)(),(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[Object,Number]),(0,r.Sn)("design:returntype",void 0)],Q.prototype,"setActiveSystemNoticeGroup",null),(0,r.Cg)([(0,P.h5)(),(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[Object,Object]),(0,r.Sn)("design:returntype",void 0)],Q.prototype,"setNoticeList",null),(0,r.Cg)([(0,P.h5)(),(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[Object,Boolean]),(0,r.Sn)("design:returntype",void 0)],Q.prototype,"setNoticeListLoading",null),(0,r.Cg)([(0,P.h5)(),(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[Object,Object]),(0,r.Sn)("design:returntype",void 0)],Q.prototype,"setLatestSystemNotice",null),(0,r.Cg)([(0,P.Mj)(),(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[F.c]),(0,r.Sn)("design:returntype",void 0)],Q.prototype,"changeActiveGroup",null),(0,r.Cg)([(0,P.Mj)(),(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[F.c]),(0,r.Sn)("design:returntype",void 0)],Q.prototype,"changeActiveSystemNoticeGroup",null),(0,r.Cg)([(0,P.Mj)(),(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[F.c]),(0,r.Sn)("design:returntype",void 0)],Q.prototype,"fetchNoticeData",null),(0,r.Cg)([(0,P.Mj)(),(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[F.c]),(0,r.Sn)("design:returntype",void 0)],Q.prototype,"fetchSystemNoticeData",null),(0,r.Cg)([(0,P.Mj)(),(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[F.c]),(0,r.Sn)("design:returntype",void 0)],Q.prototype,"fetchLatestSystemNotice",null),(0,r.Cg)([(0,P.h5)(),(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[Object,Array]),(0,r.Sn)("design:returntype",void 0)],Q.prototype,"setDiggList",null),(0,r.Cg)([(0,P.h5)(),(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[Object,Boolean]),(0,r.Sn)("design:returntype",void 0)],Q.prototype,"setDiggListLoading",null),(0,r.Cg)([(0,P.Mj)(),(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[F.c]),(0,r.Sn)("design:returntype",void 0)],Q.prototype,"fetchDiggListData",null),(0,r.Cg)([(0,P.h5)(),(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[Object,Object]),(0,r.Sn)("design:returntype",void 0)],Q.prototype,"setNoticeFollowRequest",null),(0,r.Cg)([(0,P.h5)(),(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[Object,Boolean]),(0,r.Sn)("design:returntype",void 0)],Q.prototype,"setNoticeFollowRequestLoading",null),(0,r.Cg)([(0,P.Mj)(),(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[F.c]),(0,r.Sn)("design:returntype",void 0)],Q.prototype,"fetchNoticeFollowRequest",null),(0,r.Cg)([(0,P.h5)(),(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[Object,String]),(0,r.Sn)("design:returntype",void 0)],Q.prototype,"setNoticeFollowRequestReply",null),(0,r.Cg)([(0,P.Mj)(),(0,r.Sn)("design:type",Function),(0,r.Sn)("design:paramtypes",[F.c]),(0,r.Sn)("design:returntype",void 0)],Q.prototype,"postFollowReply",null),Q=(0,r.Cg)([(0,R.n)("Notice"),(0,r.Sn)("design:paramtypes",[d.b,Z,$.U])],Q);const{useSigiOrJotaiService:Y,useSigiOrJotaiState:J,useSigiOrJotaiDispatchers:X}=(0,o.K)((()=>(0,n.$4)().isInAppNotificationEnabled),Q,{useServiceState:O,useServiceDispatchers:L})},7311:(e,t,i)=>{i.d(t,{b:()=>Ns});var n,o=i(27334),r=i(65622),a=i(18898),s=i(11991),l=i(87999),d=i(92694),c=i(61942),u=i(56139),p=i(52528);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},h.apply(null,arguments)}const g=function(e){return r.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",width:"1em",height:"1em"},e),n||(n=r.createElement("path",{fillRule:"evenodd",d:"M4.123 12l7.586 7.586a.5.5 0 010 .707l-1.414 1.414a.5.5 0 01-.707 0L.94 13.061a1.5 1.5 0 010-2.122l8.647-8.646a.5.5 0 01.707 0l1.414 1.414a.5.5 0 010 .707L4.123 12z",clipRule:"evenodd"})))};var _,v,m,f,y,b,x,S,k,w,C,j,T,I,O,L=i(54086),E=i(51124),A=i(90096),P=i(11379),R=i(83238),D=i(68055),M=i(54954),F=i(60842),N=i(73766),B=i(90245),z=i(95831),U=i(91109),q=i(74895),V=i(72038),G=i(33152),H=i(33293),W=i(95763),$=i(35999),K=i(14218),Z=i(34462),Q=i(11259),Y=i(72151);!function(e){e[e.VIDEO=1]="VIDEO",e[e.PHOTO_MODE=2]="PHOTO_MODE"}(_||(_={})),function(e){e[e.PUBLIC=1]="PUBLIC",e[e.PRIVATE=2]="PRIVATE",e[e.FRIENDS=3]="FRIENDS",e[e.INVISIBLE=4]="INVISIBLE"}(v||(v={})),function(e){e[e.OTHER=0]="OTHER",e[e.COMMUNITY_GUIDELINES=1]="COMMUNITY_GUIDELINES",e[e.TOBACCO=2]="TOBACCO",e[e.VIOLENT=3]="VIOLENT",e[e.DANGEROUS=4]="DANGEROUS",e[e.OVERLY_SEXUALIZED=5]="OVERLY_SEXUALIZED",e[e.SPAM=6]="SPAM",e[e.UNORIGINAL=7]="UNORIGINAL",e[e.MINOR_SAFETY=8]="MINOR_SAFETY",e[e.UNORIGINAL_NR=9]="UNORIGINAL_NR",e[e.REPRODUCED=10]="REPRODUCED"}(m||(m={})),function(e){e[e.CAN_SUBMIT=0]="CAN_SUBMIT",e[e.CANNOT_SUBMIT=1]="CANNOT_SUBMIT",e[e.NO_PENALTY=2]="NO_PENALTY",e[e.REVIEWING=3]="REVIEWING",e[e.SUCCEEDED=4]="SUCCEEDED",e[e.FAILED=5]="FAILED",e[e.TIMEOUT=6]="TIMEOUT"}(f||(f={})),function(e){e[e.SUBMITTED=0]="SUBMITTED",e[e.NOT_SUBMITTED=1]="NOT_SUBMITTED"}(y||(y={})),function(e){e[e.PENALTY_TYPE_NR=0]="PENALTY_TYPE_NR",e[e.PENALTY_TYPE_NFF=1]="PENALTY_TYPE_NFF"}(b||(b={})),function(e){e[e.PENALTY_SOURCE_HUMAN=0]="PENALTY_SOURCE_HUMAN",e[e.PENALTY_SOURCE_MACHINE=1]="PENALTY_SOURCE_MACHINE"}(x||(x={})),function(e){e[e.PENALTY_TRIGGER_REPORT=0]="PENALTY_TRIGGER_REPORT",e[e.PENALTY_TRIGGER_RECALL=1]="PENALTY_TRIGGER_RECALL"}(S||(S={})),function(e){e.VIDEO="1",e.COMMENT="3",e.PROFILE="4",e.DM="5",e.SUICIDE="7",e.AUDIO="8",e.OLD_COPYRIGHT="101",e.COPYRIGHT="102",e.NETZDG_REPORTER="103",e.NETZDG="104",e.ANCHOR="105",e.LIVE_REPORTER="107",e.LIVE_COMMENT_REPORTER="130",e.PHOTO_AVIA_REPORTER="210",e.LIVE_COMMENT="302",e.COMMENT_NETZDG="303",e.COMMENT_NETZDG_REPORTER="304",e.AUDIO_COMMUNITY_GUIDELINE="801",e.AUDIO_COPYRIGHT="802",e.AUDIO_MULTIPLE_VIOLATIONS="803",e.MASK_LAYER="1011",e.COPYRIGHT_AUTO_REMOVAL="1014",e.DMCA_VIDEO="1024",e.DMCA_POST="1025",e.TRADEMARK_VIDEO="1026",e.TRADEMARK_POST="1027",e.COPYRIGHT_STRIKE="1033",e.TRADEMARK_STRIKE="1034",e.DSA_ILLEGAL_VIDEO="1035",e.DSA_ILLEGAL_PHOTO="1037",e.DSA_ILLEGAL_EFFECT="1041",e.SeriesVideoCopyright="1042",e.SeriesVideoTrademark="1043",e.SeriesCollectionCopyright="1044",e.SeriesCollectionTrademark="1045",e.DSA_ILLEGAL_PROFILE="2016",e.DSA_ILLEGAL_COMMENT="3006",e.OneLinerDSA="3008",e.SeriesReviewDSA="3009",e.DSA_CG_AUDIO="4000",e.DMCA_AUDIO="4001",e.DSA_ILLEGAL_AUDIO="4003",e.DSA_NR_AUDIO="4004",e.MCC_AUDIO="4005",e.COPYRIGHT_PROFILE="2011",e.TRADEMARK_PROFILE="2012",e.SUSPEND_LINK="2005",e.LiveCommentDSA="5005",e.HASHTAG="8000",e.CONTENT_CHECK_VIDEO="9000",e.RESET_LINK="20051",e.POI_COMMENT="300000",e.POI_COMMENT_ILLEGAL="300004",e.SUB_SPACE_COMMENT="300005",e.SUB_SPACE_COMMENT_ILLEGAL="300006"}(k||(k={})),function(e){e.VIDEO="video",e.COMMENT="comment",e.AUDIO="audio",e.LINK="link",e.USER="user",e.IMAGE="image",e.HASHTAG="hashtag",e.HEART="heart",e.STATUS_SUCCESS="status_success",e.STATUS_FAIL="status_fail",e.STATUS_FAIL_LIGHT="status_fail_light",e.STATUS_RECEIVED="status_received",e.PHOTO="photo",e.PROFILE="profile"}(w||(w={})),function(e){e[e.ON_APPEAL=0]="ON_APPEAL",e[e.NOT_APPEAL=1]="NOT_APPEAL",e[e.APPEAL_SUCCESS=2]="APPEAL_SUCCESS",e[e.APPEAL_FAIL=3]="APPEAL_FAIL",e[e.APPEAL_EXPIRED=4]="APPEAL_EXPIRED",e[e.CANNOT_APPEAL=5]="CANNOT_APPEAL"}(C||(C={})),function(e){e[e.VIOLATION_INFO_SUCCESS=1]="VIOLATION_INFO_SUCCESS",e[e.VIOLATION_INFO_VIOLATION=2]="VIOLATION_INFO_VIOLATION",e[e.VIOLATION_INFO_NR=3]="VIOLATION_INFO_NR",e[e.VIOLATION_INFO_NFF=4]="VIOLATION_INFO_NFF",e[e.VIOLATION_INFO_IN_PROGRESS=5]="VIOLATION_INFO_IN_PROGRESS"}(j||(j={})),function(e){e[e.UNCHANGEABLE=0]="UNCHANGEABLE",e[e.CHANGEABLE=1]="CHANGEABLE",e[e.CHANGED=2]="CHANGED"}(T||(T={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.EXPIRE=1]="EXPIRE",e[e.EXCEED=2]="EXCEED",e[e.NOT_SUPPORTED=3]="NOT_SUPPORTED"}(I||(I={})),function(e){e[e.STATUS=0]="STATUS",e[e.SUBMIT=1]="SUBMIT"}(O||(O={}));const J=[k.VIDEO,k.DSA_ILLEGAL_VIDEO],X=[k.LIVE_REPORTER,k.LIVE_COMMENT_REPORTER];k.DSA_ILLEGAL_VIDEO,k.DSA_ILLEGAL_PHOTO,k.DSA_ILLEGAL_EFFECT,k.DSA_ILLEGAL_PROFILE,k.DSA_ILLEGAL_COMMENT,k.OneLinerDSA,k.SeriesReviewDSA,k.DSA_ILLEGAL_AUDIO,k.LiveCommentDSA,k.POI_COMMENT_ILLEGAL,k.SUB_SPACE_COMMENT_ILLEGAL;var ee=i(49610),te=i(2070);let ie=class{constructor(e){this.fetch=e}getAppealReasons({appeal_type:e,object_id:t}){return this.fetch.get("/tns-api/appeal/reason",{query:Object.assign({appeal_type:e},t&&{object_id:t}),baseUrlType:2})}getViolationDetail({objectId:e,objectType:t,punishKey:i}){return this.fetch.get("/tns-api/appeal/violation-detail",{query:Object.assign({object_id:e,object_type:t},i&&{punish_key:i}),baseUrlType:2})}getPenaltyDetail({vid:e,storeRegion:t,lang:i}){return this.fetch.get("/mod/v1/getPenaltyDetails/",{query:{vid:e,storeRegion:t,lang:i},baseUrlType:2})}getReporterAppeal(e){return this.fetch.get("/tns-api/appeal/reporter-appeal",{query:e,baseUrlType:2})}postAppealCommit({objectId:e,punishKey:t,appealType:i,reason:n}){return this.fetch.post("/tns-api/appeal/post-commit",{body:JSON.stringify({object_id:e,appeal_type:i,reason:n,punish_key:t,appeal_uri:"",extra:""}),baseUrlType:2,headers:{"content-type":"application/json"}})}postReporterAppeal({reportType:e,objectId:t,objectOwnerId:i,reason:n,uri:o,reportDesc:r,reportId:a,reporterAppealReason:s,loggedOutCode:l,relevantLaw:d,trustedFlaggerEmail:c,logoutReporterEmail:u,legalJurisdiction:p,relatedTtid:h,relatedUsername:g,commentWithEmoji:_,reportMenuClickTime:v,reporterSignature:m=""}){return this.fetch.get("/aweme/v2/aweme/feedback/",{query:Object.assign(Object.assign({report_type:e,object_id:t,owner_id:i,reason:n,uri:o,report_desc:r,parent_id:a,reporter_appeal_reason:s,submit_type:"3"},l&&{verification_code:l}),{relevant_law:d,trusted_flagger_email:c,logout_reporter_email:u,legal_jurisdiction:p,related_ttid:h,related_username:g,comment_with_emoji:_,report_menu_click_time:v,reporter_signature:m}),baseUrlType:2})}postLiveReporterAppeal({reportType:e,objectId:t,objectOwnerId:i,reason:n,uri:o,reportDesc:r,reportId:a,reporterAppealReason:s,loggedOutCode:l,relevantLaw:d,trustedFlaggerEmail:c,logoutReporterEmail:u,legalJurisdiction:p,relatedTtid:h,reportMenuClickTime:g,reporterSignature:_="",liveReportType:v="",liveRequestPage:m="",liveCmpIds:f="",liveEnterFromMerge:y="",liveEnterMethod:b="",liveActionType:x="",durationEntranceSubmit:S=0,targetAnchorId:k="",targetAudienceId:w="",reportedUserIds:C="",nonReportedUserIds:j="",roomId:T="",liveChatType:I="",content:O=""}){return this.fetch.post("/webcast/v1/aweme/feedback/",{body:JSON.stringify(Object.assign(Object.assign({report_type:e,object_id:t,owner_id:i,reason:n,uri:o,report_desc:r,parent_id:a,reporter_appeal_reason:s,submit_type:"3"},l&&{verification_code:l}),{relevant_law:d,trusted_flagger_email:c,logout_reporter_email:u,legal_jurisdiction:p,related_ttid:h,report_menu_click_time:g,reporter_signature:_,live_report_type:v,live_request_page:m,live_cmp_ids:f,live_enter_from_merge:y,live_enter_method:b,live_action_type:x,duration_entrance_submit:S,target_anchor_id:k,target_audience_id:w,reported_user_ids:C,non_reported_user_ids:j,room_id:T,live_chat_type:I,content:O})),baseUrlType:4,headers:{"content-type":"application/json"}})}};ie=(0,P.Cg)([(0,ee._)(),(0,P.Sn)("design:paramtypes",[te.pM])],ie);var ne=i(69741),oe=i.n(ne),re=i(91528),ae=i.n(re);const se={[m.TOBACCO]:0,[m.VIOLENT]:1,[m.DANGEROUS]:2,[m.OVERLY_SEXUALIZED]:3,[m.SPAM]:4,[m.UNORIGINAL]:5,[m.MINOR_SAFETY]:6,[m.UNORIGINAL_NR]:7,[m.REPRODUCED]:8,[m.COMMUNITY_GUIDELINES]:9,[m.OTHER]:10},le=110,de=999,ce={[le]:0,[de]:1},ue=e=>{var t;return null!==(t=ce[e])&&void 0!==t?t:0},pe=()=>({[m.MINOR_SAFETY]:{title:"vid_mod_analytics_penalty_reason_minor_title",description:"vid_mod_analytics_penalty_reason_minor_desc"},[m.UNORIGINAL]:{title:"vid_mod_analytics_penalty_reason_unoriginal_title",description:"vid_mod_analytics_penalty_reason_unoriginal_desc"},[m.UNORIGINAL_NR]:{title:"vid_mod_analytics_nr_vid_penalty_reason_unoriginal_title",description:"vid_mod_analytics_nr_vid_penalty_reason_unoriginal_desc"},[m.REPRODUCED]:{title:"vid_mod_analytics_nr_acct_penalty_reason_unoriginal_title",description:"vid_mod_analytics_nr_acct_penalty_reason_unoriginal_desc"},[m.SPAM]:{title:"vid_mod_analytics_penalty_reason_spam_title",description:"vid_mod_analytics_penalty_reason_spam_desc"},[m.OVERLY_SEXUALIZED]:{title:"vid_mod_analytics_penalty_reason_sexual_title",description:"vid_mod_analytics_penalty_reason_sexual_desc"},[m.TOBACCO]:{title:"vid_mod_analytics_penalty_reason_tobacco_title",description:"vid_mod_analytics_penalty_reason_tobacco_desc"},[m.DANGEROUS]:{title:"vid_mod_analytics_penalty_reason_stunts_title",description:"vid_mod_analytics_penalty_reason_stunts_desc"},[m.VIOLENT]:{title:"vid_mod_analytics_penalty_reason_graphic_title",description:"vid_mod_analytics_penalty_reason_graphic_desc"},[m.OTHER]:{title:"vid_mod_analytics_penalty_reason_fyf_title",description:"vid_mod_analytics_penalty_reason_fyf_desc"},[m.COMMUNITY_GUIDELINES]:{title:"vid_mod_analytics_penalty_reason_fyf_title",description:"vid_mod_analytics_penalty_reason_fyf_desc"}}),he={[f.CANNOT_SUBMIT]:C.APPEAL_FAIL,[f.CAN_SUBMIT]:C.ON_APPEAL,[f.NO_PENALTY]:C.APPEAL_SUCCESS,[f.REVIEWING]:C.ON_APPEAL,[f.SUCCEEDED]:C.APPEAL_SUCCESS,[f.FAILED]:C.APPEAL_FAIL,[f.TIMEOUT]:C.APPEAL_EXPIRED};var ge=i(99325);const _e={punish_key:"",object_type:k.VIDEO,object_id:"",content_info_list:[]};let ve=class extends R.E{constructor(e,t,i){super(),this.service=e,this.slardarService=t,this.t=i,this.defaultState={detail:_e,reporterAppealInfo:null,violationList:[],contentDetailList:[],appealReasons:[],audioCopyrightInfo:null,currentAppealReason:null,status:"init",isV2:!0,surveyData:null,loggedOutCode:null}}setLoggedOutCode(e,t){e.loggedOutCode=t}setCurrentAppealReason(e,t){e.currentAppealReason=t}setPunishKey(e,t){e.punishKey=t}setViolationAppealStatus(e,t){e.status=t}setReporterAppealData(e,t){e.contentDetailList=t.contentDetailList,e.detail=t.detail,e.reporterAppealInfo=t.reporterAppealInfo}setViolationAppealData(e,t){var i,n,o,r;const a=null!==(i=t.detail)&&void 0!==i?i:_e,s=(null!==(o=null===(n=null==a?void 0:a.violation_info)||void 0===n?void 0:n.reason)&&void 0!==o?o:[]).map((e=>({title:e.reason_title,content:e.reason_content,content_v2:e.reason_content_v2,url:e.inner_link_url,urlText:e.inner_link_text})));e.detail=a,e.surveyData=null!==(r=t.surveyData)&&void 0!==r?r:null,e.contentDetailList=s}setAppealStatus(e,t){e.detail.violation_info&&e.detail.violation_info.appeal_info&&(e.detail.violation_info.appeal_info.appeal_status=t)}setPenaltyDetailData(e,t){var i,n,o,r;const a=(e=>{if(e.every((e=>e.reason_codes.every((e=>Number(e)<100))))){const t=pe();return(e=>{let t=[];if(e.forEach((e=>t=t.concat(e.reason_codes.map(Number)))),t=oe()(t.map((e=>Object.keys(se).includes(e.toString())?e:m.OTHER))).sort(((e,t)=>se[e]-se[t])),t.length>=2){const[e,i]=t.slice(-2);(1===i&&0===e||0===i&&1===e)&&t.pop()}return t})(e).map((e=>({code:String(e),description:t[e].description,title:t[e].title})))}let t=[],i=[];return e.forEach((e=>{var n;"TNS"!==e.issuer&&e.reason_codes.forEach((e=>{const{title:t,description:n}=pe()[Number(e)];i.push({title:t,code:e,description:n})})),null===(n=e.penalty_reason_info_list)||void 0===n||n.forEach((e=>{const{title:i,content:n,code:o,url:r,link:a,dsa_content:s}=e;t.push({title:i,description:n,dsaDescriptionParagraphs:s,url:r,linkText:a,code:o})}))})),t=ae()(t,"code").sort(((e,t)=>ue(Number(e.code))-ue(Number(t.code)))),i=ae()(i,"code"),t.concat(i)})(null!==(i=t.penaltyDetails.penaltyDetails.penalties)&&void 0!==i?i:[]).map((e=>({title:this.t(e.title),content:this.t(e.dsaDescriptionParagraphs?`${e.dsaDescriptionParagraphs.join("\n")}\n${this.t("vidModAnalytics_detailPg_sectionHumanMod_sectionBody")}`:e.description),url:e.url,urlText:e.linkText}))),s=new Date(null!==(n=t.penaltyDetails.videoInfo.Items[0].CreateTime)&&void 0!==n?n:0);let l;l=t.penaltyDetails.penaltyDetails.appeal_status===f.SUCCEEDED?"appeal_approved":t.penaltyDetails.penaltyDetails.appeal_status!==f.CANNOT_SUBMIT&&t.penaltyDetails.penaltyDetails.appeal_status!==f.FAILED||141!==t.penaltyDetails.videoInfo.Items[0].Status?"video_not_eligible":"video_removed";const d={header:this.t("vidModAnalytics_detailPg_sectionVideoDetails_sectionLabel"),title:null!==(o=t.penaltyDetails.videoInfo.Items[0].Desc)&&void 0!==o?o:"",content:this.t("vidModAnalytics_detailPg_sectionDatePosted_sectionLabel").replace("%1$s",s.toLocaleDateString()).replace("%2$s",s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),image_url:t.penaltyDetails.videoInfo.Items[0].CoverUrl[0],content_id:t.penaltyDetails.videoInfo.Items[0].Vid?BigInt(t.penaltyDetails.videoInfo.Items[0].Vid):BigInt(0),reason_code:t.penaltyDetails.penaltyDetails.penalties?t.penaltyDetails.penaltyDetails.penalties[0].reason_codes[0]:"",result_type:l};e.detail={object_id:t.penaltyDetails.videoInfo.Items[0].ItemId,object_type:k.VIDEO,punish_key:"",content_info_list:[d],violation_info:{header:this.t("vid_mod_analytics_appeal_detailpg_reason_title"),reason:[],appeal_info:{appeal_status:he[null!==(r=t.penaltyDetails.penaltyDetails.appeal_status)&&void 0!==r?r:2]}},base_info:{appeal_fail_page_title:{title:this.t("vid_mod_analytics_detail_pg_title"),sub_title:this.t("vid_mod_analytics_detail_pg_desc"),icon_type:w.STATUS_FAIL},appeal_success_page_title:{title:this.t("vidModAnalytics_detailPg_sectionSuccess_header"),sub_title:this.t("vid_mod_analytics_appeal_success_detail_pg_desc"),icon_type:w.STATUS_SUCCESS},appeal_video_removed_page_title:{title:this.t("vid_mod_analytics_appeal_detail_pg_title"),sub_title:this.t("vid_mod_analytics_appeal_detail_pg_desc"),icon_type:w.STATUS_FAIL},index_page_title:{icon_type:w.STATUS_RECEIVED,title:this.t("vidModAnalytics_appealSubmitted_sectionTitle_header"),sub_title:this.t("vid_mod_analytics_appeal_rcv_detail_pg_desc")},appeal_reviewing_page_title:{icon_type:w.STATUS_RECEIVED,title:this.t("vidModAnalytics_appealSubmitted_sectionTitle_header"),sub_title:this.t("vid_mod_analytics_appeal_rcv_detail_pg_desc")}},video_status:t.penaltyDetails.videoInfo.Items[0].Status},e.contentDetailList=a}getPenaltyDetail(e){return e.pipe((0,z.p)((e=>this.service.getPenaltyDetail(e).pipe((0,U.T)((t=>{var i;return t&&0===t.status_code?this.getActions().setPenaltyDetailData({penaltyDetails:{penaltyDetails:t,videoInfo:e.videoInfo,vid:e.vid,uid:e.uid}}):(this.commonToastError(),this.slardarService.emitEvent("violation_detail_fetch_failed",{count:1},{status_code:(null===(i=t.status_code)||void 0===i?void 0:i.toString())||"",status_msg:t.status_msg||""}),this.getActions().setPenaltyDetailData({penaltyDetails:{penaltyDetails:{appeal_status:f.FAILED},videoInfo:e.videoInfo,vid:e.vid,uid:e.uid}}))})),(0,q.Z)(this.getActions().setViolationAppealStatus("loading")),(0,V.q)(this.getActions().setViolationAppealStatus("idle")),(0,W.n)({callback:this.commonToastError})))))}setAppealReasons(e,t){e.appealReasons=t}getAppealReasons(e){return e.pipe((0,z.p)((e=>this.service.getAppealReasons(e).pipe((0,U.T)((e=>{var t;return e&&0===e.status_code?this.getActions().setAppealReasons(e.appeal_reasons):(this.commonToastError(),this.slardarService.emitEvent("appeal_reasons_fetch_failed",{count:1},{status_code:(null===(t=e.status_code)||void 0===t?void 0:t.toString())||"",status_msg:e.status_msg||""}),this.noop())})),(0,q.Z)(this.getActions().setViolationAppealStatus("loading")),(0,V.q)(this.getActions().setViolationAppealStatus("idle")),(0,W.n)({callback:this.commonToastError})))))}getViolationDetail(e){return e.pipe((0,z.p)((e=>this.service.getViolationDetail(e).pipe((0,U.T)((e=>{var t;return e&&0===e.status_code&&e.detail?this.getActions().setViolationAppealData({detail:null==e?void 0:e.detail,surveyData:null==e?void 0:e.survey_data}):(this.commonToastError(),this.slardarService.emitEvent("violation_detail_fetch_failed",{count:1},{status_code:(null===(t=e.status_code)||void 0===t?void 0:t.toString())||"",status_msg:e.status_msg||""}),this.noop())})),(0,q.Z)(this.getActions().setViolationAppealStatus("loading")),(0,V.q)(this.getActions().setViolationAppealStatus("idle")),(0,W.n)({callback:this.commonToastError})))))}getReporterAppeal(e){return e.pipe((0,z.p)((({reportId:e,loggedOutCode:t})=>this.service.getReporterAppeal({report_id:e,verification_code:t}).pipe((0,U.T)((e=>{var t,i,n,o,r;if(e&&0===e.status_code&&e.detail){if(!e.report)return this.commonToastError(),this.slardarService.emitEvent("reporter_appeal_empty_report_info",{count:1},{status_code:(null===(t=e.status_code)||void 0===t?void 0:t.toString())||"",status_msg:e.status_msg||""}),this.noop();const r=((e,t)=>{var i;return{report_info:{common_data:e.common_data,live:e.live||null,non_live:e.non_live||null,live_comment:e.live_comment||null},post_info:"",reason:"",submit_status:null===(i=t.violation_info)||void 0===i?void 0:i.appeal_info.appeal_status}})(e.report,e.detail),a={detail:e.detail,reporterAppealInfo:r},s=(null!==(o=null===(n=null===(i=a.detail)||void 0===i?void 0:i.violation_info)||void 0===n?void 0:n.reason)&&void 0!==o?o:[]).map((e=>({title:e.reason_title,content:e.reason_content,url:e.inner_link_url,urlText:e.inner_link_text})));return this.getActions().setReporterAppealData({contentDetailList:s,detail:a.detail,reporterAppealInfo:a.reporterAppealInfo})}return this.commonToastError(),this.slardarService.emitEvent("reporter_appeal_status_not_ok",{count:1},{status_code:(null===(r=e.status_code)||void 0===r?void 0:r.toString())||"",status_msg:e.status_msg||""}),this.noop()})),(0,q.Z)(this.getActions().setViolationAppealStatus("loading")),(0,V.q)(this.getActions().setViolationAppealStatus("idle")),(0,W.n)({callback:this.commonToastError})))))}postReporterAppeal(e){return e.pipe((0,z.p)((e=>this.service.postReporterAppeal(e).pipe((0,U.T)((e=>{var t;return e&&0===e.status_code?this.getActions().setAppealStatus(C.ON_APPEAL):(this.commonToastError(),this.slardarService.emitEvent("reporter_appeal_submit_fail",{count:1},{status_code:(null===(t=e.status_code)||void 0===t?void 0:t.toString())||"",status_msg:e.status_message||""}),this.noop())})),(0,q.Z)(this.getActions().setViolationAppealStatus("submitting")),(0,V.q)(this.getActions().setViolationAppealStatus("submitted")),(0,W.n)({callback:this.commonToastError})))))}postLiveReporterAppeal(e){return e.pipe((0,z.p)((e=>this.service.postLiveReporterAppeal(e).pipe((0,U.T)((e=>{var t;return e&&0===e.status_code?this.getActions().setAppealStatus(C.ON_APPEAL):(this.commonToastError(),this.slardarService.emitEvent("live_reporter_appeal_submit_fail",{count:1},{status_code:(null===(t=e.status_code)||void 0===t?void 0:t.toString())||"",status_msg:e.status_message||""}),this.noop())})),(0,q.Z)(this.getActions().setViolationAppealStatus("submitting")),(0,V.q)(this.getActions().setViolationAppealStatus("submitted")),(0,W.n)({callback:this.commonToastError})))))}postViolationAppeal(e){return e.pipe((0,z.p)((e=>this.service.postAppealCommit(e).pipe((0,U.T)((e=>{var t;return e&&0===e.status_code?this.getActions().setAppealStatus(C.ON_APPEAL):(this.commonToastError(),this.slardarService.emitEvent("violation_appeal_submit_fail",{count:1},{status_code:(null===(t=e.status_code)||void 0===t?void 0:t.toString())||"",status_msg:e.status_msg||""}),this.noop())})),(0,q.Z)(this.getActions().setViolationAppealStatus("submitting")),(0,V.q)(this.getActions().setViolationAppealStatus("submitted")),(0,W.n)({callback:this.commonToastError})))))}commonToastError(){L.F.destroy(),L.F.open({content:this.t(K.z$),duration:3,widthType:"half"})}};(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,String]),(0,P.Sn)("design:returntype",void 0)],ve.prototype,"setLoggedOutCode",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Object]),(0,P.Sn)("design:returntype",void 0)],ve.prototype,"setCurrentAppealReason",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,String]),(0,P.Sn)("design:returntype",void 0)],ve.prototype,"setPunishKey",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,String]),(0,P.Sn)("design:returntype",void 0)],ve.prototype,"setViolationAppealStatus",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Object]),(0,P.Sn)("design:returntype",void 0)],ve.prototype,"setReporterAppealData",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Object]),(0,P.Sn)("design:returntype",void 0)],ve.prototype,"setViolationAppealData",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Number]),(0,P.Sn)("design:returntype",void 0)],ve.prototype,"setAppealStatus",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Object]),(0,P.Sn)("design:returntype",void 0)],ve.prototype,"setPenaltyDetailData",null),(0,P.Cg)([(0,D.Mj)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[B.c]),(0,P.Sn)("design:returntype",void 0)],ve.prototype,"getPenaltyDetail",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Array]),(0,P.Sn)("design:returntype",void 0)],ve.prototype,"setAppealReasons",null),(0,P.Cg)([(0,D.Mj)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[B.c]),(0,P.Sn)("design:returntype",void 0)],ve.prototype,"getAppealReasons",null),(0,P.Cg)([(0,D.Mj)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[B.c]),(0,P.Sn)("design:returntype",void 0)],ve.prototype,"getViolationDetail",null),(0,P.Cg)([(0,D.Mj)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[B.c]),(0,P.Sn)("design:returntype",void 0)],ve.prototype,"getReporterAppeal",null),(0,P.Cg)([(0,D.Mj)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[B.c]),(0,P.Sn)("design:returntype",void 0)],ve.prototype,"postReporterAppeal",null),(0,P.Cg)([(0,D.Mj)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[B.c]),(0,P.Sn)("design:returntype",void 0)],ve.prototype,"postLiveReporterAppeal",null),(0,P.Cg)([(0,D.Mj)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[B.c]),(0,P.Sn)("design:returntype",void 0)],ve.prototype,"postViolationAppeal",null),ve=(0,P.Cg)([(0,M.n)("ViolationAppeal"),(0,P.Qj)(2,(0,F.y)($.hp)),(0,P.Sn)("design:paramtypes",[ie,ge.V,Function])],ve);var me=i(2032),fe=i(53240);const ye=(0,me.default)("div",{target:"esnvg680"})({height:"100%",width:"100%",display:"flex",flexDirection:"column",alignItems:"stretch",overflow:"hidden"},"label:Container;"),be=(0,me.default)("div",{target:"esnvg681"})((({showTopBanner:e})=>[{display:"flex",flexDirection:"row",alignItems:"center",margin:"24px 24px 16px 24px"},e&&{marginBottom:"0"}]),"label:DivHeader;"),xe=(0,me.default)("span",{target:"esnvg682"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"H4",color:"TextPrimary",fontWeight:"bold"}),{flexGrow:1}]),"label:SpanHeaderTitle;"),Se=(0,me.default)("div",{target:"esnvg683"})((({theme:{direction:e,colors:t}})=>[Object.assign(Object.assign({width:"24px",height:"24px",cursor:"pointer"},"rtl"===e&&{transform:"rotate(180deg)"}),{"> svg > path":{fill:t.TextPrimary}})]),"label:DivBackButton;");var ke=i(80479),we=i(79028),Ce=i(29128),je=i(23289),Te=i(6690);const Ie=(0,me.default)("div",{target:"edtqnxl0"})({padding:"32px",height:"100%"},"label:Container;"),Oe=(0,me.default)("div",{target:"edtqnxl1"})({display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},"label:SectionAppealStatus;"),Le=(0,me.default)("div",{target:"edtqnxl2"})((e=>[(0,fe.zy)({theme:e.theme,color:e.$color}),{display:"flex",justifyContent:"center",alignItems:"center"}]),"label:DivIconWrapper;"),Ee=(0,me.default)("div",{target:"edtqnxl3"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",color:"TextPrimary",fontWeight:"bold"}),{fontSize:"24px",lineHeight:"36px",marginTop:"27px",textAlign:"center"}]),"label:AppealTitle;"),Ae=(0,me.default)("div",{target:"edtqnxl4"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",color:"TextSecondary",fontWeight:"normal"}),{fontSize:"16px",lineHeight:"22px",marginTop:"16px",textAlign:"center"}]),"label:AppealSubtitle;"),Pe=(0,me.default)("button",{target:"edtqnxl5"})((({theme:e})=>({marginTop:"24px",height:"48px",width:"100%",padding:"12px 24px",cursor:"pointer",background:e.colors.Primary,border:"none",borderRadius:"8px"})),"label:PrimaryButton;"),Re=(0,me.default)("div",{target:"edtqnxl6"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",color:"ConstTextInverse",fontWeight:"bold"}),{fontSize:"16px",lineHeight:"24px",textAlign:"center"}]),"label:PrimaryButtonText;"),De=({handleClose:e})=>{const t=(0,p.s)();return(0,o.jsxs)(Ie,{children:[(0,o.jsxs)(Oe,{children:[(0,o.jsx)(Le,{$color:"LinePrimary2",children:(0,o.jsx)(je.Q,{size:72})}),(0,o.jsx)(Ee,{children:t("dsa_illegal_appeal_expired_header")}),(0,o.jsx)(Ae,{children:t("dsa_illegal_appeal_expired_desc")})]}),(0,o.jsx)(Pe,{onClick:e,children:(0,o.jsx)(Re,{children:t("dsa_illegal_appeal_button_ok")})})]})};var Me=i(99851),Fe=i(12310),Ne=i.n(Fe);const Be={position:"absolute",bottom:0,left:0,height:0,overflow:"hidden","padding-top":0,"padding-bottom":0,border:"none"},ze=["box-sizing","width","font-size","font-weight","font-family","font-style","letter-spacing","text-indent","white-space","word-break","overflow-wrap","padding-left","padding-right"];function Ue(e,t){var i;if("letters"!==t&&"words"!==t)throw new Error(`Unsupported options basedOn: ${t}`);if(e.nodeType===Node.TEXT_NODE){const t=document.createDocumentFragment();Array.from(e.textContent||"").forEach((e=>{t.appendChild(function(e){const t=document.createElement("span");return t.className="LinesEllipsis-unit",t.textContent=e,t}(e))})),null===(i=e.parentNode)||void 0===i||i.replaceChild(t,e)}else if(e.nodeType===Node.ELEMENT_NODE){const i=[].slice.call(e.childNodes),n=i.length;for(let e=0;e<n;e++)Ue(i[e],t)}}function qe(e){var t;null===(t=e.parentNode)||void 0===t||t.replaceChild(document.createTextNode(e.textContent||""),e)}function Ve(e,t){var i;if(t.contains(e)&&e!==t){for(;e.nextElementSibling;)null===(i=e.parentNode)||void 0===i||i.removeChild(e.nextElementSibling);Ve(e.parentNode,t)}}function Ge(e){let t=e;for(;t;){if(/p|div|main|section|h\d|ul|ol|li/.test(t.tagName.toLowerCase()))return t;t=t.parentNode}return t}function He(e){return Boolean(e.offsetHeight&&(e.offsetWidth||/\S/.test(e.textContent)))}const We={component:"div",unsafeHTML:"",maxLine:1,ellipsis:"…",ellipsisHTML:void 0,className:"",basedOn:void 0,onReflow:()=>null,winWidth:void 0},$e=Object.keys(We);class Ke extends r.Component{constructor(e){super(e),this.state={html:e.unsafeHTML,clamped:!1},this.canvas=null,this.maxLine=0,this.nlUnits=[]}componentDidMount(){this.initCanvas(),this.reflow(this.props)}componentDidUpdate(e){e.winWidth!==this.props.winWidth&&this.copyStyleToCanvas(),Ne()(this.props,e)||this.reflow(this.props)}componentWillUnmount(){this.canvas.parentNode.removeChild(this.canvas)}setState(e,t){return void 0!==e.clamped&&(this.clamped=e.clamped),super.setState(e,t)}initCanvas(){if(this.canvas)return;this.canvas=document.createElement("div");const{canvas:e}=this;e.className=`LinesEllipsis-canvas ${this.props.className}`,e.setAttribute("aria-hidden","true"),this.copyStyleToCanvas(),Object.keys(Be).forEach((t=>{e.style[t]=Be[t]})),document.body.appendChild(e)}copyStyleToCanvas(){const e=window.getComputedStyle(this.target);ze.forEach((t=>{this.canvas.style[t]=e[t]}))}reflow(e){this.maxLine=Number(e.maxLine)||1,this.canvas.innerHTML=e.unsafeHTML;const t=e.basedOn||(/^[\x00-\x7F]+$/.test(e.unsafeHTML)?"words":"letters");Ue(this.canvas,t);const i={clamped:this.putEllipsis(this.calcIndexes()),html:this.canvas.innerHTML};this.setState(i,e.onReflow.bind(this,i))}calcIndexes(){const e=[0];this.nlUnits=Array.from(this.canvas.querySelectorAll(".LinesEllipsis-unit"));const{nlUnits:t}=this,i=t.length;if(!t.length)return e;const n=t.find(He);if(!n)return e;let o=1,{offsetTop:r}=n;for(let n=1;n<i&&!(He(t[n])&&t[n].offsetTop-r>1&&(o++,e.push(n),r=t[n].offsetTop,o>this.maxLine));n++);return e}putEllipsis(e){if(e.length<=this.maxLine)return!1;this.nlUnits=this.nlUnits.slice(0,e[this.maxLine]);let t=this.nlUnits.pop();const i=this.makeEllipsisSpan();do{Ve(t,this.canvas),Ge(t).appendChild(i),t=this.nlUnits.pop()}while(t&&(!He(t)||i.offsetHeight>t.offsetHeight||i.offsetTop>t.offsetTop));return t&&qe(t),this.nlUnits.forEach(qe),!0}makeEllipsisSpan(){const{ellipsisHTML:e,ellipsis:t}=this.props,i=document.createElement("span"),n=document.createElement("span");return n.className="p1 font-semibold text-color-TextSecondary",n.setAttribute("style","cursor: pointer;"),e?n.innerHTML=e:n.textContent=t,i.appendChild(n),i}isClamped(){return this.clamped}render(){const{html:e,clamped:t}=this.state,i=this.props,{component:n,className:r,unsafeHTML:a}=i,s=(0,P.Tt)(i,["component","className","unsafeHTML"]);return(0,o.jsx)(n,Object.assign({className:`LinesEllipsis ${t?"LinesEllipsis--clamped":""} ${r}`,ref:e=>{this.target=e}},function(e,t){if(!e||"object"!=typeof e)return e;const i={};return Object.keys(e).forEach((n=>{t.indexOf(n)>-1||(i[n]=e[n])})),i}(s,$e),{children:(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:t?e:a}})}))}}Ke.defaultProps=We;const Ze=Ke,Qe=(0,me.default)("div",{target:"e1q7dabl0"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P1",color:"TextPrimary",fontWeight:"medium"}),{marginBottom:12}]),"label:SectionHeader;"),Ye=(0,me.default)("div",{target:"e1q7dabl1"})((({showDivider:e})=>[{display:"flex",alignItems:"flex-start",justifyContent:"space-between"},e&&{cursor:"pointer",paddingBottom:8}]),"label:ContentHeader;"),Je=(0,me.default)("div",{target:"e1q7dabl2"})((({theme:e,isList:t})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P2",color:"TextSecondary",fontWeight:"normal"}),{marginBottom:8},t&&{paddingInlineEnd:30}]),"label:ContentTitle;"),Xe=(0,me.default)("div",{target:"e1q7dabl3"})((({theme:e,showDivider:t,isList:i})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P2",color:"TextTertiaryAlt",fontWeight:"normal"}),i&&Object.assign({paddingTop:16},t&&{paddingTop:0,marginBottom:12})]),"label:ContentDescription;"),et=(0,me.default)("div",{target:"e1q7dabl4"})([{marginBottom:16}],"label:ContentDivider;"),tt=(0,me.default)("div",{target:"e1q7dabl5"})((({theme:{direction:e,colors:t},isShow:i})=>[Object.assign(Object.assign({minWidth:"16px",width:"16px",height:"16px",transition:"transform .4s"},"rtl"===e&&{transform:"rotate(180deg)"}),{"> svg > path":{fill:t.TextTertiary}}),i&&{transform:"rotateZ(-90deg)"}]),"label:DivArrowContainer;");var it=i(28210),nt=i(15474);const ot=({isShowByDefault:e,showSeeMore:t,showDivider:i,item:n,seeMoreText:a,onToggle:s})=>{const[l,d]=(0,r.useState)(e),[c,u]=(0,r.useState)(!0),p=(0,r.useCallback)((()=>{0!==n.contentList.length&&d((e=>(s&&s(!e),!e)))}),[s,n]),h=(0,o.jsx)("section",{children:(0,o.jsx)("article",{children:n.contentList.map(((e,t)=>"break"===e.type?(0,o.jsx)("br",{},t):"text"===e.type?(0,o.jsx)("p",{children:e.text},t):"list"===e.type?(0,o.jsx)("ul",{children:(e.list||[]).map(((e,i)=>(0,o.jsx)("li",{className:0===t?"mb-8":"my-8",children:e},i)))},t):null))})}),{value:g}=(0,r.useContext)(it.xm),_=(0,o.jsx)("span",{style:Object.assign({color:"rgba(0, 0, 0, 0.72)",fontWeight:500},g&&{color:"rgba(255, 255, 255, 0.75)"}),children:`... ${a}`});return(0,o.jsx)(o.Fragment,{children:t?(0,o.jsxs)("article",{children:[(0,o.jsx)(Je,{children:n.title}),c?(0,o.jsx)(Xe,{children:(0,o.jsx)(Ze,{"data-cy":"see-more-btn",onClick:()=>u(!1),unsafeHTML:Me.renderToString(h),maxLine:"4",basedOn:"letters",ellipsisHTML:Me.renderToString(_),style:{overflowWrap:"break-word",wordBreak:"break-word",wordWrap:"break-word"}})}):(0,o.jsx)(Xe,{children:h})]}):(0,o.jsxs)("article",{children:[(0,o.jsxs)(Ye,{showDivider:i,onClick:p,children:[(0,o.jsx)(Je,{isList:!0,children:n.title}),n.contentList.length>0&&(0,o.jsx)(tt,{isShow:l,children:(0,o.jsx)(Y.A,{width:16,height:16})})]}),l&&(0,o.jsx)(Xe,{isList:!0,showDivider:i,children:h}),i&&(0,o.jsx)(et,{children:(0,o.jsx)(nt.zm,{size:"medium",color:"LineSecondary"})})]})})},rt=/<li>([\s\S]*?)<\/li>/g,at=()=>{},st=({title:e,list:t,isShowByDefault:i=!1,seeMoreText:n="",handleOpenLink:a=at,onToggle:s})=>{const l=(0,r.useMemo)((()=>t.map((e=>{var t;const i=Object.assign(Object.assign({},e),{contentList:[]});if(e.content_v2&&e.content_v2.length>1&&""!==e.content_v2[0])return e.content_v2.forEach(((t,n)=>{i.contentList.push({text:t,type:"text"}),e.content_v2&&n!==e.content_v2.length-1&&i.contentList.push({text:"",type:"break"})})),i;if(!e.content)return i;let n=0,o=rt.exec(e.content);for(;null!==o;){o.index!==n&&i.contentList.push({text:e.content.slice(n,o.index),type:"text"});const{length:r}=i.contentList,a=o.length>1?o[1]:"";r&&"list"===i.contentList[r-1].type?null===(t=i.contentList[r-1].list)||void 0===t||t.push(a):i.contentList.push({list:[a],type:"list"}),n=o.index+o[0].length,o=rt.exec(e.content)}return n<=e.content.length&&i.contentList.push({text:e.content.slice(n),type:"text"}),i}))),[t]);return(0,o.jsxs)("div",{children:[(0,o.jsx)(Qe,{children:e}),l.map(((e,t)=>(0,o.jsx)(ot,{item:e,isShowByDefault:i,seeMoreText:n,showSeeMore:1===l.length,showDivider:1!==l.length&&t!==l.length-1,onToggle:e=>null==s?void 0:s(t,e),onOpenLink:a},t)))]})};var lt=i(54409),dt=i.n(lt);const ct=(0,me.default)("div",{target:"e1updv710"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P1",color:"TextPrimary",fontWeight:"medium"}),{marginBottom:12}]),"label:SectionHeader;"),ut=(0,me.default)("div",{target:"e1updv711"})((({theme:e,hasBorder:t})=>[{fontSize:0,height:40,width:40,borderRadius:24,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.colors.BGTertiary,color:e.colors.TextPrimary},t&&{border:`1px solid ${e.colors.LineSecondary2}`}]),"label:DivIconWrapper;"),pt=(0,me.default)("div",{target:"e1updv712"})((({isHelpAndSupport:e})=>[{display:"flex",flexDirection:"row"},e?{alignItems:"center"}:{alignItems:"start"}]),"label:SectionContentContainer;"),ht=(0,me.default)("div",{target:"e1updv713"})((({theme:{direction:e},hasHeartIcon:t})=>[Object.assign({display:"flex",flexDirection:"column",alignItems:"start",flexGrow:1},"rtl"===e&&{marginLeft:0}),t&&{paddingInlineStart:12}]),"label:SectionContent;"),gt=(0,me.default)("div",{target:"e1updv714"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P1",color:"TextSecondary",fontWeight:"normal"}),{wordBreak:"break-word"}]),"label:SectionContentMain;"),_t=(0,me.default)("div",{target:"e1updv715"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P2",color:"TextSecondary",fontWeight:"normal"}),{display:"inline"}]),"label:TitleText;"),vt=(0,me.default)("div",{target:"e1updv716"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P2",color:"TextPrimary",fontWeight:"semiBold"}),{display:"inline",cursor:"pointer"}]),"label:InnerLinkText;"),mt=(0,me.default)("div",{target:"e1updv717"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P2",color:"TextTertiaryAlt",fontWeight:"normal"}),{marginTop:4}]),"label:SectionContentFooter;"),ft=(0,me.default)("div",{target:"e1updv718"})((({theme:{direction:e},imageUrl:t,isProfileIcon:i})=>[Object.assign({width:68,height:87,borderRadius:4,overflow:"hidden",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",position:"relative",marginTop:-33,marginLeft:12,backgroundImage:`url(${t})`},"rtl"===e&&{marginLeft:0,marginRight:12}),i&&{height:44,width:44,borderRadius:40}]),"label:VideoPoster;"),yt=(0,me.default)("div",{target:"e1updv719"})({position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjEuNTAwNTYiIGhlaWdodD0iMTcuNzY4NCIgcng9IjAuNSIgdHJhbnNmb3JtPSJtYXRyaXgoMC42OTkxODYgLTAuNzE0OTQgLTAuNzE0OTQgLTAuNjk5MTg2IDE1LjIwMzMgMTYuMjUpIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjA3MDcgMTQuNTU1OUMxMS4xODA2IDE0LjU1NTkgMTIuMjM0MyAxNC4zODcyIDEzLjE4MjMgMTQuMDg0NEwxMi4wMDIxIDEyLjkzMDJDMTEuOTgwMyAxMi45MDg5IDExLjk2MDggMTIuODg2IDExLjk0MzggMTIuODYyQzExLjM1OTMgMTIuOTg2NCAxMC43MzA4IDEzLjA1NTQgMTAuMDcwNyAxMy4wNTU0QzguMjY4OTUgMTMuMDU1NCA2LjcwMjE5IDEyLjU0MTggNS42MjU5NCAxMS43ODg0QzQuNTQ0OTUgMTEuMDMxNyA0LjA2ODQ5IDEwLjEzMDMgNC4wNjg0OSA5LjMwNDAzQzQuMDY4NDkgOC40Nzc4IDQuNTQ0OTUgNy41NzYzNiA1LjYyNTk0IDYuODE5NjdDNS42NTA3MSA2LjgwMjMzIDUuNjc1NzQgNi43ODUxMiA1LjcwMTAzIDYuNzY4MDRMNC42MTA4MSA1LjcwMTg1QzMuMzQ0MjUgNi42NDIxNyAyLjU2Nzk1IDcuOTA5NjQgMi41Njc5NSA5LjMwNDAzQzIuNTY3OTUgMTIuMjA0NiA1LjkyNzAyIDE0LjU1NTkgMTAuMDcwNyAxNC41NTU5Wk02Ljk3NzExIDQuNTE3OTRDNy45MjAzMyA0LjIxODczIDguOTY3NyA0LjA1MjE0IDEwLjA3MDcgNC4wNTIxNEMxNC4yMTQzIDQuMDUyMTQgMTcuNTczNCA2LjQwMzQ5IDE3LjU3MzQgOS4zMDQwM0MxNy41NzM0IDEwLjY5MzQgMTYuODAyNiAxMS45NTY4IDE1LjU0NDEgMTIuODk2MUwxNC40NTQ0IDExLjgzMDRDMTQuNDc0OSAxMS44MTY1IDE0LjQ5NTIgMTEuODAyNSAxNC41MTU0IDExLjc4ODRDMTUuNTk2NCAxMS4wMzE3IDE2LjA3MjggMTAuMTMwMyAxNi4wNzI4IDkuMzA0MDNDMTYuMDcyOCA4LjQ3NzggMTUuNTk2NCA3LjU3NjM2IDE0LjUxNTQgNi44MTk2N0MxMy40MzkxIDYuMDY2MyAxMS44NzI0IDUuNTUyNjggMTAuMDcwNyA1LjU1MjY4QzkuNDIxNDkgNS41NTI2OCA4LjgwMjgyIDUuNjE5MzYgOC4yMjY2MSA1LjczOTlMNi45NzcxMSA0LjUxNzk0WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC44NTY5IDExLjgxMDJDMTAuNjA4NyAxMS44ODggMTAuMzQ0NiAxMS45MyAxMC4wNzA3IDExLjkzQzguNjIwMzkgMTEuOTMgNy40NDQ3MiAxMC43NTQzIDcuNDQ0NzIgOS4zMDQwM0M3LjQ0NDcyIDkuMDUwNjUgNy40ODA2IDguODA1NjUgNy41NDc1NyA4LjU3Mzg0TDEwLjg1NjkgMTEuODEwMlpNOS4zMDI2NSA2Ljc5MjE4QzkuNTQ1NTcgNi43MTc5OSA5LjgwMzQ2IDYuNjc4MDggMTAuMDcwNyA2LjY3ODA4QzExLjUyMDkgNi42NzgwOCAxMi42OTY2IDcuODUzNzYgMTIuNjk2NiA5LjMwNDAzQzEyLjY5NjYgOS41NTA3NCAxMi42NjI2IDkuNzg5NSAxMi41OTkgMTAuMDE1OUw5LjMwMjY1IDYuNzkyMThaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K')",backgroundSize:"20px 20px",backgroundPosition:"center",backgroundRepeat:"no-repeat"},"label:MaskIcon;");var bt,xt;function St(){return St=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},St.apply(null,arguments)}const kt=function(e){return r.createElement("svg",St({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"none",viewBox:"0 0 40 40",width:"1em",height:"1em"},e),bt||(bt=r.createElement("path",{fill:"url(#heart_svg__pattern0)",d:"M0 0h40v40H0z"})),xt||(xt=r.createElement("defs",null,r.createElement("pattern",{id:"heart_svg__pattern0",width:1,height:1,patternContentUnits:"objectBoundingBox"},r.createElement("use",{transform:"scale(.0115)",xlinkHref:"#heart_svg__image0_2297_106814"})),r.createElement("image",{id:"heart_svg__image0_2297_106814",width:87,height:87,xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAABXCAMAAABGFileAAABa1BMVEUAAADBnfPCnvTBnvPHn/fCoPLBnfLBnvPBn/XRov/FovPAnfLBnfPDn/T/qv/AnfXAnfPBnvPCo/XAnfPFpffBnfPAnvPBnvPAnvLAnvL////BnvTBnvPPn//BnvPAnfLEsf/Vqv/BnvPDpf/BnvPAnfPAnvPAnfLBnfLBnfPAnfL////Gp/P38/3+/f7DofLTuvXPtfXdy/j+/v759v3x6vzBn/LPtPXMsPTo3PrEo/Lt4/vKrPTy6/zGpvPDovLz7fz7+v79+/7p3frCoPL69/718P3Yw/fFpfP8+v7Os/Tv5vvl1/nBnvL9/f7cyffk1fnCofLbx/fJq/PKrfT9/P77+f7gz/jdyvjXwfbs4vvbyPfJrPT38v3EpPPz7PzFpvPIqfPs4fvey/jn2vrIqvPq3/rWv/b49P3UvPbVvvbm2frw6Pz59f3BoPLZxffw6fzu5fv6+P7p3Pri0vnYwvbAnvLZxPfQt/VodI36AAAAKnRSTlMAlYnMIDvZsGILFor9SANJp/YZ6B/m983c7wFf6hDCUQ0GkRG9+/zz8vrdseSpAAAC7ElEQVR4XrXZZXPqTBQH8BOC9eLFi9wWWuD+t+ruLtfd3R51+fjPwEybSZuzWSD7e8mLzJmwm2PkrhII+0JmMNtqtLJBM+QLByrUr4FYxIziqqgZiQ1Qz+KJZAqcVDIRp14M+tKQS/sGqVsZIwd3OSND3agbY1Bzy6iTqqFSGerKpSFS4q+iO1U/KbhZRLeKN8nNSA29qI2Q1PAoejM6TBI38uhV/gax/AX0ruBnoy2gHwUm4uE8+pN3fMcjo+jXqNOpqKF/NYfrAC9cuyD+IrxQ9JPNUBXeqNo/QiV4pUQWqpfhlXKdLAa8Y9ClzBi8cytjC1dDwIM5eCl3kaV98JaPOuJpeCsdp7YEZJa/Pns5PYVLr45mf51ehVSC2pJgTT2dEG07d2+j4/ML0Ta5tgSJZKe0S4Ez/bO4sP2u88OuuLA3BVZqgIhi4DyYE5bDcWBmV1jeboIVI6IIGD8Im8M3mwe2HzZ+ASdCRCacPTwRdgtnwu4cHJOoEoWzPeFm7hEY0QoFuHDnhKsVcAIUhrNZ4W5nEYwwe4nPhIIZ/iqH4GxCKHgORog9Do+Fgln+QATh7I5Q8BGMIGXh7LVQcARGlppw9qWv/61JDTh7INzd2QejQS04e9/XvWhRFowPws3kOjhZCoKxPilcfAIrSCY494Tc/DFYJoXAWf0mpL6DF5Il+VPpm/hRnurD4N0VvJ8WIRGmACRWBGfiGDKBdr7g3V4Tzg4eQSZaITIhcX9BOHmyDCnTyseMVacHnyxBLmLVD5yt365HewoXMaveYd3/Xdj9sQwLX+9QEnKLf9pPwjrcJK16UuovYdkeh6uEav3792W2W9tSqX+V6/WledFx7x+483XRX4xvtMvef1X7C/V+aP98fuM/qDB09W+a+k1d/bGmfl7X/EHTvETTfEfTPErX/EzTvE/TfFLTPFXT/FfTvFrTfF3PPkDT/kLTvkXDfmjMqOveZ+nfv+nfF+rfb/L72Gajqb6P/R/pnd1wZ+Rq0gAAAABJRU5ErkJggg=="}))))};var wt;function Ct(){return Ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ct.apply(null,arguments)}const jt=function(e){return r.createElement("svg",Ct({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 48 48",width:"1em",height:"1em"},e),wt||(wt=r.createElement("path",{d:"M34 7.5H12v-3h22a9.5 9.5 0 019.5 9.5v22h-3V14A6.5 6.5 0 0034 7.5zm-25 5A4.5 4.5 0 004.5 17v22A4.5 4.5 0 009 43.5h22a4.5 4.5 0 004.5-4.5V17a4.5 4.5 0 00-4.5-4.5H9zM7.5 17A1.5 1.5 0 019 15.5h22a1.5 1.5 0 011.5 1.5v22c0 .039-.002.077-.004.116L16.922 27.33a4.5 4.5 0 00-5.793.306L7.5 31.038V17zm0 18.15V39A1.5 1.5 0 009 40.5h20.354L15.111 29.722a1.5 1.5 0 00-1.931.102L7.5 35.15zM25.5 25a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"})))};var Tt=i(70363),It=i(12041),Ot=i(16823),Lt=i(37378),Et=i(50715),At=i(81440),Pt=i(82375),Rt=i(50374);const Dt=e=>{var t;const{contentInfo:i,handlePressLink:n,title:r}=e;if(null==i?void 0:i.content_id){const e={item_id:i.content_id,result_type:i.result_type,reason_code:i.reason_code};Rt.f.event("web_appeal_result_show",e)}const a=(e,t,i)=>{var n,o;if(i){let e=null!==(n=i.text)&&void 0!==n?n:"";for(const t of null!==(o=i.elements)&&void 0!==o?o:[])e=e.replace(t.placeholder,`<img class='text-image' src="${t.image_url}" />`);return t?`"${e}"`:e}return t?`"${e}"`:e},s=e=>{let t,i=!0;switch(e){case w.VIDEO:t=(0,o.jsx)(Tt.q,{size:20});break;case w.COMMENT:t=(0,o.jsx)(It.S,{size:20});break;case w.AUDIO:t=(0,o.jsx)(Ot.G,{size:20});break;case w.LINK:t=(0,o.jsx)(Lt.j,{size:20});break;case w.HASHTAG:t=(0,o.jsx)(Et.g,{size:20});break;case w.IMAGE:t=(0,o.jsx)(At.P,{size:20});break;case w.USER:t=(0,o.jsx)(Pt.Y,{size:20});break;case w.PHOTO:t=(0,o.jsx)(jt,{width:20,height:20});break;case w.HEART:t=(0,o.jsx)(kt,{width:40,height:40}),i=!1;break;default:t=(0,o.jsx)(Pt.Y,{size:20})}return(0,o.jsx)(ut,{hasBorder:i,children:t})},l=i?[i]:[];return(0,o.jsxs)("div",{children:[(0,o.jsx)(ct,{children:null!==(t=null==i?void 0:i.header)&&void 0!==t?t:r}),null==l?void 0:l.map(((e,t)=>{const{title:i,content:r,has_quote:l,inner_link_text:d,inner_link_url:c,image_url:u,image_has_mask:p,icon_type:h,rich_text:g}=e;return(0,o.jsxs)(pt,{isHelpAndSupport:h===w.HEART,children:[h===w.HEART&&s(h),(0,o.jsxs)(ht,{hasHeartIcon:h===w.HEART,children:[(0,o.jsxs)(gt,{children:[i&&(0,o.jsx)(_t,{dangerouslySetInnerHTML:{__html:dt().sanitize(a(i,l,g))}}),d&&(0,o.jsxs)(vt,{onClick:()=>n&&n(c),children:[" ",d]})]}),(0,o.jsx)(mt,{children:r})]}),u&&(0,o.jsx)(ft,{imageUrl:u,isProfileIcon:h===w.PROFILE,children:p&&(0,o.jsx)(yt,{})})]},t)}))]})},Mt=(0,me.default)("div",{target:"ewrmc1w0"})({paddingLeft:24,paddingRight:24,height:"100%",flexGrow:1},"label:Container;"),Ft=(0,me.default)("div",{target:"ewrmc1w1"})((({theme:e})=>({padding:16,backgroundColor:e.colors.BGPrimary,borderRadius:8,marginBottom:8})),"label:ComponentWrapper;"),Nt=(0,me.default)("div",{target:"ewrmc1w2"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",color:"TextSecondary",fontWeight:"normal"})]),"label:FooterText;"),Bt=(0,me.default)("div",{target:"ewrmc1w4"})((({showAppealButton:e})=>[{position:"relative",bottom:"0",left:"0",width:"100%",height:54,marginBottom:12,padding:8,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},e&&{alignItems:"start",paddingLeft:24}]),"label:DivFooter;"),zt=(0,me.default)("div",{target:"ewrmc1w5"})({display:"flex",flexDirection:"column",height:"580px",overflowY:"auto"},"label:ContainerWrapper;"),Ut=(0,me.default)("div",{target:"ewrmc1w6"})({display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",marginBottom:32},"label:SectionAppealStatus;"),qt=(0,me.default)("div",{target:"ewrmc1w7"})((e=>[(0,fe.zy)({theme:e.theme,color:e.$color}),{display:"flex",justifyContent:"center",alignItems:"center"}]),"label:DivIconWrapper;"),Vt=(0,me.default)("div",{target:"ewrmc1w8"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"H4",color:"TextPrimary",fontWeight:"bold"}),{marginTop:18,textAlign:"center"}]),"label:AppealTitle;"),Gt=(0,me.default)("div",{target:"ewrmc1w9"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P2",color:"TextSecondary",fontWeight:"normal"}),{marginTop:12,textAlign:"center"}]),"label:AppealSubtitle;"),Ht=(0,me.default)("div",{target:"ewrmc1w10"})({cursor:"pointer",padding:"9px",height:"32px"},"label:DivCloseButton;"),Wt=(0,me.default)("div",{target:"ewrmc1w11"})({flexGrow:1},"label:FlexGrowDiv;"),$t=(0,me.default)("button",{target:"ewrmc1w12"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",color:"ConstTextInverse",fontWeight:"semiBold"}),{height:"36px",padding:"7px 16px",position:"absolute",cursor:"pointer",right:"24px",color:e.colors.ConstTextInverse,background:e.colors.Primary,border:"none",borderRadius:"4px",":disabled":{background:e.colors.BGPlaceholderDefault,color:e.colors.TextQuaternary}}]),"label:ButtonSubmit;"),Kt=(0,me.default)("div",{target:"e1ouhrz80"})((({hideMargin:e=!1})=>Object.assign({},!e&&{marginTop:12})),"label:HyperlinkTextContainer;"),Zt=(0,me.default)("div",{target:"e1ouhrz81"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P2",color:"TextSecondary",fontWeight:"normal"}),{display:"inline"}]),"label:MainTextContent;"),Qt=(0,me.default)("div",{target:"e1ouhrz82"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P2",color:"TextPrimary",fontWeight:"semiBold"}),{display:"inline",cursor:"pointer"}]),"label:LinkTextContent;"),Yt=e=>{const{hideMargin:t=!1,btnText:i,onClick:n}=e;if(!i)return null;const{text:r,links:a=[]}=i,s=function(e,t){let i=0;const n=[],o=[];try{t.forEach((t=>{e.indexOf(t.placeholder)>=0&&o.push({idx:e.indexOf(t.placeholder),length:t.placeholder.length,link_obj:t})})),o.sort(((e,t)=>e.idx-t.idx));let r=0;for(;i<e.length;)if(r<o.length){const t=o[r].idx;if(i===t)n.push({type:"url",text:o[r].link_obj.link_text,url:o[r].link_obj.url}),i+=o[r++].length;else{const o=e.substring(i,t);n.push({type:"string",text:o}),i+=o.length}}else{const t=e.substring(i);n.push({type:"string",text:t}),i+=t.length}return n}catch(t){return n.push({type:"string",text:e}),n}}(r,a);return(0,o.jsx)(Kt,{hideMargin:t,children:s.map(((e,t)=>"string"===e.type&&e.text?(0,o.jsx)(Zt,{children:e.text},`text_${t}`):"url"===e.type&&e.text&&e.url?(0,o.jsx)(Qt,{onClick:()=>n(e.url),children:e.text},`url_${t}`):null))})},Jt=(0,me.default)("div",{target:"e1uyuwid0"})((({theme:e})=>[{padding:"12px 16px",marginBottom:20,marginTop:44,backgroundColor:e.colors.BGPlaceholderDefault,display:"flex",flexDirection:"row"}]),"label:BannerContainer;"),Xt=(0,me.default)("div",{target:"e1uyuwid1"})((({isMobile:e})=>[{marginRight:4},!e&&{display:"flex",alignItems:"center"}]),"label:BannerIcon;"),ei=(0,me.default)("div",{target:"e1uyuwid2"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",color:"TextSecondary",fontWeight:"normal"}),{display:"flex",alignItems:"center"}]),"label:BannerText;"),ti=({icon:e,text:t,isMobile:i=!1})=>(0,o.jsxs)(Jt,{children:[(0,o.jsx)(Xt,{isMobile:i,children:e}),(0,o.jsx)(ei,{children:t})]}),ii=(0,me.default)("div",{target:"e1yaooat0"})({display:"flex",flexDirection:"column",marginBottom:20,"&:last-of-type":{marginBottom:0}},"label:TextWrapper;"),ni=(0,me.default)("div",{target:"e1yaooat1"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P1",color:"TextPrimary",fontWeight:"medium"}),{marginBottom:6}]),"label:Title;"),oi=(0,me.default)("div",{target:"e1yaooat2"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P2",color:"TextSecondary",fontWeight:"normal"}),{wordBreak:"break-word"}]),"label:Description;"),ri=({successTitle:e,failureTitle:t,successDesc:i,failureDesc:n})=>{const r=[{title:t,description:n},{title:e,description:i}];return(0,o.jsx)("div",{children:r.map((({title:e,description:t},i)=>(0,o.jsxs)(ii,{children:[(0,o.jsx)(ni,{children:e}),(0,o.jsx)(oi,{children:t})]},i)))})},ai=({handleClose:e,handleAppealClick:t=()=>{}})=>{var i,n,s,l;const d=(0,p.s)(),{status:c,detail:u,contentDetailList:h,reporterAppealInfo:g}=(0,a.P)(ve),_=(e=>{var t,i,n,o;const r=e.base_info,a=null===(i=null===(t=e.violation_info)||void 0===t?void 0:t.appeal_info)||void 0===i?void 0:i.appeal_status,s=null===(o=null===(n=e.violation_info)||void 0===n?void 0:n.appeal_info)||void 0===o?void 0:o.audio_change_status,l=e.video_status;return a===C.APPEAL_SUCCESS||s===T.CHANGED?null==r?void 0:r.appeal_success_page_title:a===C.ON_APPEAL?null==r?void 0:r.appeal_reviewing_page_title:a===C.APPEAL_FAIL&&141===l?null==r?void 0:r.appeal_video_removed_page_title:a===C.APPEAL_FAIL?null==r?void 0:r.appeal_fail_page_title:null==r?void 0:r.index_page_title})(u),v=null==u?void 0:u.object_type,m=null===(i=u.violation_info)||void 0===i?void 0:i.violation_info_status,f=null!==g,y=null===(s=null===(n=null==u?void 0:u.violation_info)||void 0===n?void 0:n.appeal_info)||void 0===s?void 0:s.appeal_status,b=y!==C.APPEAL_SUCCESS||f,x=(null===(l=null==u?void 0:u.violation_info)||void 0===l?void 0:l.header)||"",S=y===C.APPEAL_EXPIRED,I=S&&!f,O=S&&f,L=O||y===C.NOT_APPEAL,E=(null==_?void 0:_.sub_title_v2)&&J.includes(v.toString()),R=v===k.CONTENT_CHECK_VIDEO,D=m===j.VIOLATION_INFO_IN_PROGRESS,M=R&&D,F=u.content_info_list,N=(0,r.useRef)({}),B=(0,r.useCallback)(((e,t)=>{const i=`category_${e+1}`;"no"===N.current[i]&&t&&(N.current[i]="yes")}),[]),z=(0,r.useMemo)((()=>{switch(null==_?void 0:_.icon_type){case w.STATUS_RECEIVED:return(0,o.jsx)(qt,{$color:"LinePrimary2",children:(0,o.jsx)(ke.i,{size:48})});case w.STATUS_SUCCESS:return(0,o.jsx)(qt,{children:(0,o.jsx)(we.i,{size:48})});case w.STATUS_FAIL:return(0,o.jsx)(qt,{children:(0,o.jsx)(Ce.b,{size:48})});case w.STATUS_FAIL_LIGHT:return(0,o.jsx)(qt,{$color:"LinePrimary2",children:(0,o.jsx)(je.Q,{size:48})});default:return(0,o.jsx)(qt,{children:(0,o.jsx)(Ce.b,{size:48})})}}),[null==_?void 0:_.icon_type]),U=(0,r.useCallback)((e=>(0,P.sH)(void 0,void 0,void 0,(function*(){e&&window.open(e,"_blank")}))),[c,u,h]);if("loading"===c)return(0,o.jsx)(A.R,{center:!0,size:"small"});if(O)return(0,o.jsx)(De,{handleClose:e});const q=(0,o.jsx)(qt,{$color:"TextQuaternary",children:(0,o.jsx)(je.Q,{size:18})}),V={text:d("dsaCGWebapp_detailPg_sectionCG_body"),links:[{link_text:d("dsaCGWebapp_detailPg_sectionCG_link"),placeholder:"%s",url:"https://www.tiktok.com/community-guidelines"}]};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(be,{showTopBanner:I,children:[(0,o.jsx)(Wt,{}),(0,o.jsx)(Ht,{onClick:e,children:(0,o.jsx)(Te.A,{width:14,height:14})})]}),I&&(0,o.jsx)(ti,{icon:q,text:d("dsaCGWebapp_appealExpired_emptyState_body")}),(0,o.jsx)(zt,{children:(0,o.jsxs)(Mt,{children:[(0,o.jsxs)(Ut,{children:[z,(null==_?void 0:_.title)&&(0,o.jsx)(Vt,{children:_.title}),E?(0,o.jsx)(Yt,{btnText:null==_?void 0:_.sub_title_v2,onClick:U}):(null==_?void 0:_.sub_title)&&(0,o.jsx)(Gt,{children:null==_?void 0:_.sub_title})]}),(F||[]).map(((e,t)=>(0,o.jsxs)(Ft,{children:[console.log("ContentInfoSection: ",e),(0,o.jsx)(Dt,{contentInfo:e,handlePressLink:U})]},t))),M&&(0,o.jsx)(Ft,{children:(0,o.jsx)(ri,{successTitle:d("contentCheck_progressScreen_page_bullet2Header"),successDesc:d("contentCheck_progressScreen_page_bullet2Body"),failureTitle:d("contentCheck_progressScreen_page_bullet1Header"),failureDesc:d("contentCheck_progressScreen_page_bullet1Body_postPrivate")})}),b&&(null==h?void 0:h.length)>0&&(0,o.jsx)(Ft,{children:(0,o.jsx)(st,{title:x,list:h,onToggle:B,handleOpenLink:U,seeMoreText:d("search_see_more")})})]})}),(0,o.jsxs)(Bt,{showAppealButton:L,children:[(0,o.jsx)(Nt,{children:(0,o.jsx)(Yt,{hideMargin:!0,btnText:V,onClick:U})}),L&&(0,o.jsx)($t,{onClick:t,children:d("appeal_btn_new")})]})]})},si=(0,me.default)("div",{target:"e3yfed30"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",color:"TextSecondary",fontWeight:"normal"}),{marginTop:24}]),"label:SubtitleDiv;"),li=(0,me.default)("div",{target:"e3yfed31"})((({theme:e})=>({borderTop:`1px solid ${e.colors.LineSecondary}`,paddingLeft:24,paddingRight:24})),"label:Container;"),di=(0,me.default)("div",{target:"e3yfed32"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P2",color:"TextPrimary",fontWeight:"semiBold"}),{marginTop:32}]),"label:SectionHeaderDiv;"),ci=(0,me.default)("div",{target:"e3yfed33"})({width:72,height:72,borderRadius:6,overflow:"hidden",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat"},"label:ImageDiv;"),ui=(0,me.default)("div",{target:"e3yfed34"})({display:"flex",flexDirection:"row",marginTop:16,alignItems:"center"},"label:ContentInfoRow;"),pi=(0,me.default)("div",{target:"e3yfed35"})({display:"flex",flexDirection:"column",marginInlineStart:16},"label:ContentInfoDetails;"),hi=(0,me.default)("div",{target:"e3yfed36"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",color:"TextSecondary",fontWeight:"normal"})]),"label:ContentInfoDetailsTitle;"),gi=(0,me.default)("div",{target:"e3yfed37"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",color:"TextTertiaryAlt",fontWeight:"normal"})]),"label:ContentInfoDetailsContent;"),_i=(0,me.default)("div",{target:"e3yfed38"})({marginTop:32},"label:MarginTop32DivWrapper;"),vi=(0,me.default)("div",{target:"e3yfed39"})({marginTop:16},"label:MarginTop16DivWrapper;"),mi=(0,me.default)("span",{target:"e3yfed310"})((({theme:e})=>[(0,fe.zy)({theme:e,color:"Primary"})]),"label:PrimarySpanText;"),fi=(0,me.default)("textarea",{target:"e3yfed311"})((({theme:e})=>Object.assign(Object.assign({},(e=>({borderStyle:"none",borderColor:"transparent",boxShadow:"none",outline:"none",marginTop:"10px",fontSize:"16px",fontFamily:e.fontFamilies.TikTokFont,fontWeight:e.fontWeights.normal,color:e.colors.TextPrimary,":placeholder":{color:e.colors.TextQuaternary}}))(e)),{resize:"none",height:"48px",width:"100%",backgroundColor:e.colors.BGPrimary})),"label:TextareaDescription;"),yi=(0,me.default)("div",{target:"e3yfed312"})((({theme:e})=>({paddingBottom:"12.5px",borderBottom:`0.5px solid ${e.colors.LineInput}`})),"label:TextareaWrapper;"),bi=(0,me.default)("div",{target:"e3yfed313"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P2",color:"TextPrimary",fontWeight:"semiBold"})]),"label:TextAreaHeader;"),xi=(0,me.default)("div",{target:"e3yfed314"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",color:"TextSecondary",fontWeight:"normal"})]),"label:TextAreaWordCount;"),Si=(0,me.default)("div",{target:"e3yfed315"})({display:"flex",flexDirection:"row"},"label:FlexRowDiv;"),ki=(0,me.default)("div",{target:"e3yfed316"})({flexGrow:1},"label:FlexGrowDiv;"),wi=(0,me.default)("div",{target:"e3yfed317"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P4",color:"TextSecondary",fontWeight:"normal"}),{marginTop:32,marginBottom:17}]),"label:FooterText;"),Ci=(0,me.default)("span",{target:"e3yfed318"})((({theme:e})=>[(0,fe.zy)({theme:e,color:"TextPrimary",fontWeight:"semiBold"})]),"label:LinkSpan;"),ji=(0,me.default)("div",{target:"e3yfed319"})((({theme:e})=>({position:"relative",bottom:"0",left:"0",height:"84px",width:"100%",borderTop:`0.5px solid ${e.colors.LinePrimary2}`,backgroundColor:e.colors.BGPrimary})),"label:DivFooter;"),Ti=(0,me.default)("div",{target:"e3yfed320"})({cursor:"pointer",padding:"9px",height:"32px"},"label:DivCloseButton;"),Ii=(0,me.default)("div",{target:"e1trkmzg0"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P2",color:"TextPrimary",fontWeight:"semiBold"})]),"label:TitleDiv;"),Oi=(0,me.default)("div",{target:"e1trkmzg1"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",color:"TextPrimary",fontWeight:"normal"}),{marginTop:16}]),"label:ContentDiv;"),Li=({title:e,list:t})=>(0,o.jsxs)("div",{children:[(0,o.jsx)(Ii,{children:e}),t.map((({title:e},t)=>(0,o.jsx)(Oi,{children:e},t)))]});var Ei=i(83256);const Ai=({handleBack:e,handleBackKeyDown:t,handleClose:i})=>{var n,s,l;const d=(0,p.s)(),c=(0,u.w)(ve),{status:h,detail:_,contentDetailList:v,reporterAppealInfo:m,loggedOutCode:f}=(0,a.P)(ve),y=(null===(n=_.violation_info)||void 0===n?void 0:n.header)||"",b=JSON.parse(JSON.stringify(_.reporter_appeal_reason||[])).sort(((e,t)=>e.desc>t.desc?1:-1)),[x,S]=(0,r.useState)(""),[w,C]=(0,r.useState)(""),j=(0,r.useCallback)((e=>{S(e.target.value)}),[]),T=(0,r.useCallback)((e=>{C(w===e?"":e)}),[w,C]),I=(0,r.useCallback)((e=>{e.stopPropagation()}),[]),O=_.content_info_list,L=(e=>{const t=e.base_info,i=e.object_type;return i===k.NETZDG_REPORTER||i===k.COMMENT_NETZDG_REPORTER?null==t?void 0:t.appeal_submit_page_title:null==t?void 0:t.index_page_title})(_),E=(e,t=!1,i)=>{var n,o;if(e){let i=null!==(n=e.text)&&void 0!==n?n:"";for(const t of null!==(o=e.elements)&&void 0!==o?o:[])i=i.replace(t.placeholder,`<img class='text-image' src="${t.image_url}" />`);return t?`"${i}"`:i}return t?`"${i}"`:i},P=(0,r.useCallback)((e=>{var t,i,n;if(e.preventDefault(),e.stopPropagation(),"idle"===h&&null!==m){const e=m.report_info.common_data,o=Object.assign(Object.assign({reportType:e.report_type,objectId:e.object_id,objectOwnerId:e.object_owner_id,reason:e.reason,uri:e.uri,reportId:e.report_id,reportDesc:x,reporterAppealReason:w,reporterSignature:e.reporter_signature},f&&{loggedOutCode:f}),{legalJurisdiction:e.legal_jurisdiction,relevantLaw:e.relevant_law,logoutReporterEmail:e.logout_reporter_email,trustedFlaggerEmail:e.trusted_flagger_email,relatedTtid:e.related_ttid,reportMenuClickTime:e.report_menu_click_time}),r=null===(n=null===(i=null===(t=m.report_info)||void 0===t?void 0:t.common_data)||void 0===i?void 0:i.object_type)||void 0===n?void 0:n.toString();if(X.includes(r)){const e=Object.assign(Object.assign({},o),((e,t)=>{const i=t.report_info.live,n=t.report_info.live_comment;return e===k.LIVE_REPORTER?{liveReportType:(null==i?void 0:i.live_request_type)||"",liveRequestPage:(null==i?void 0:i.live_request_page)||"",liveCmpIds:(null==i?void 0:i.live_cmp_ids)||"",liveEnterFromMerge:(null==i?void 0:i.live_enter_from_merge)||"",liveEnterMethod:(null==i?void 0:i.live_enter_method)||"",liveActionType:(null==i?void 0:i.live_action_type)||"",durationEntranceSubmit:(null==i?void 0:i.duration_entrance_submit)||0,targetAnchorId:(null==i?void 0:i.target_anchor_id)||"",targetAudienceId:(null==i?void 0:i.target_audience_id)||"",reportedUserIds:(null==i?void 0:i.reported_user_ids)||"",nonReportedUserIds:(null==i?void 0:i.non_reported_user_ids)||""}:e===k.LIVE_COMMENT_REPORTER?{liveReportType:(null==n?void 0:n.live_report_type)||"",roomId:(null==n?void 0:n.room_id)||"",liveChatType:(null==n?void 0:n.live_chat_type)||"",content:(null==n?void 0:n.content)||"",durationEntranceSubmit:(null==n?void 0:n.duration_entrance_submit)||0}:{}})(r,m));return void c.postLiveReporterAppeal(e)}const a=m.report_info.non_live,s=Object.assign(Object.assign({},o),{relatedUsername:null==a?void 0:a.related_username,commentWithEmoji:null==a?void 0:a.comment_with_emoji});c.postReporterAppeal(s)}}),[x,c,m,h,w]);return"loading"===h?(0,o.jsx)(A.R,{center:!0,size:"small"}):"submitted"===h?(0,o.jsx)(ai,{handleBack:e,handleBackKeyDown:t,handleClose:i}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(be,{children:[(0,o.jsx)(Se,{onClick:e,onKeyDown:t,tabIndex:0,role:"button",children:(0,o.jsx)(g,{width:24,height:24})}),(0,o.jsx)(xe,{children:null==L?void 0:L.title}),(0,o.jsx)(Ti,{onClick:i,children:(0,o.jsx)(Te.A,{width:14,height:14})})]}),(0,o.jsxs)(li,{children:[(0,o.jsx)(si,{children:null==L?void 0:L.sub_title}),O&&O.length>0&&O.map(((e,t)=>(0,o.jsxs)("div",{children:[(0,o.jsx)(di,{children:e.header}),(0,o.jsxs)(ui,{children:[e.image_url&&(0,o.jsx)(ci,{style:{backgroundImage:`url(${e.image_url})`}}),(0,o.jsxs)(pi,{children:[(0,o.jsx)(hi,{dangerouslySetInnerHTML:{__html:dt().sanitize(E(e.rich_text,e.has_quote,e.title))}}),(0,o.jsx)(gi,{children:e.content||""})]})]})]},t))),(0,o.jsx)(_i,{children:(0,o.jsx)(Li,{title:y,list:v})}),(0,o.jsxs)(_i,{children:[(0,o.jsxs)(di,{children:[d("dsa_illegal_appeal_dropdown_title"),(0,o.jsx)(mi,{children:"*"})]}),b.map(((e,t)=>(0,o.jsx)(vi,{onClick:()=>{T(e.code)},children:(0,o.jsx)(nt.h$,{label:e.desc,checked:w.includes(e.code)})},`reporter-appeal-reason-${t}`)))]}),(0,o.jsxs)(_i,{children:[(0,o.jsxs)(Si,{children:[(0,o.jsx)(bi,{children:(null===(s=_.description)||void 0===s?void 0:s.header)||d("dsa_illegal_appeal_explanation")}),(0,o.jsx)(ki,{}),(0,o.jsx)(xi,{children:`${x.length}/400`})]}),(0,o.jsx)(yi,{children:(0,o.jsx)(fi,{rows:2,maxLength:400,placeholder:(null===(l=_.description)||void 0===l?void 0:l.placeholder)||"",value:x,onChange:j,onKeyDown:I})})]}),(0,o.jsxs)(wi,{children:[d("dsa_illegal_appeal_alt_options").replace("%s",""),(0,o.jsx)(Ci,{onClick:()=>{window.open(_.learn_more_link||"","_blank")},children:d("dsa_illegal_placeholder_learnmore")})]})]}),(0,o.jsx)(ji,{children:(0,o.jsx)(Ei.jl,{disabled:""===w,onClick:P,children:d("Submit")})})]})},Pi=(0,me.default)("div",{target:"e1s71jua0"})({paddingLeft:24,paddingRight:24,height:"100%",flexGrow:1},"label:Container;"),Ri=(0,me.default)("div",{target:"e1s71jua1"})((({theme:e})=>({padding:16,backgroundColor:e.colors.BGPrimary,borderRadius:8,marginBottom:8})),"label:ComponentWrapper;"),Di=(0,me.default)("div",{target:"e1s71jua2"})({position:"relative",bottom:"0",left:"0",width:"100%",height:54,marginBottom:16,marginTop:16,padding:8,display:"flex",flexDirection:"column",alignItems:"end",justifyContent:"center"},"label:DivFooter;"),Mi=(0,me.default)("div",{target:"e1s71jua3"})({display:"flex",flexDirection:"column",height:"580px",overflowY:"auto"},"label:ContainerWrapper;"),Fi=(0,me.default)("div",{target:"e1s71jua4"})({display:"flex",flexDirection:"column",alignItems:"start",marginBottom:32},"label:DivSubmitHeader;"),Ni=(0,me.default)("div",{target:"e1s71jua5"})((({theme:e})=>({color:e.colors.Primary,display:"inline",marginLeft:"2px"})),"label:AsteriskColor;"),Bi=(0,me.default)("div",{target:"e1s71jua6"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P1",color:"TextPrimary",fontWeight:"medium"}),{marginBottom:15}]),"label:SectionHeader;"),zi=(0,me.default)("div",{target:"e1s71jua7"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"H4",color:"TextPrimary",fontWeight:"bold"}),{marginTop:16}]),"label:AppealTitle;"),Ui=(0,me.default)("div",{target:"e1s71jua8"})((()=>({marginBottom:"12px","&:last-child":{marginBottom:"0"}})),"label:RadioWrapper;"),qi=(0,me.default)("div",{target:"e1s71jua9"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P2",color:"TextSecondary",fontWeight:"normal"}),{marginTop:12}]),"label:AppealSubtitle;"),Vi=(0,me.default)("div",{target:"e1s71jua10"})({cursor:"pointer",padding:"9px",height:"32px"},"label:DivCloseButton;"),Gi=(0,me.default)("div",{target:"e1s71jua11"})({flexGrow:1},"label:FlexGrowDiv;"),Hi=(0,me.default)("button",{target:"e1s71jua12"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",typography:"P3",color:"ConstTextInverse",fontWeight:"semiBold"}),{height:"36px",padding:"7px 16px",position:"absolute",cursor:"pointer",right:"24px",color:e.colors.ConstTextInverse,background:e.colors.Primary,border:"none",borderRadius:"4px",":disabled":{background:e.colors.BGPlaceholderDefault,color:e.colors.TextQuaternary}}]),"label:ButtonSubmit;"),Wi=({handleBack:e,handleBackKeyDown:t,handleClose:i})=>{var n,s,l,d,c,h,_,v;const m=(0,p.s)(),f=(0,u.w)(ve),{status:y,detail:b,contentDetailList:x,appealReasons:S}=(0,a.P)(ve),[k,w]=(0,r.useState)(null),[C,j]=(0,r.useState)(""),T=null===(s=null===(n=b.base_info)||void 0===n?void 0:n.appeal_submit_page_title)||void 0===s?void 0:s.title,I=null===(d=null===(l=b.base_info)||void 0===l?void 0:l.appeal_submit_page_title)||void 0===d?void 0:d.sub_title,O=null===(h=null===(c=b.base_info)||void 0===c?void 0:c.appeal_submit_page_title)||void 0===h?void 0:h.sub_title_v2,L=null===(_=null==b?void 0:b.violation_info)||void 0===_?void 0:_.appeal_info.appeal_type,E=null==b?void 0:b.object_id,P=null==b?void 0:b.punish_key,R=null==b?void 0:b.object_type,D=!!Array.isArray(S)&&S.length>0,M=O&&J.includes(R.toString()),F=(null===(v=null==b?void 0:b.violation_info)||void 0===v?void 0:v.header)||"";(0,r.useEffect)((()=>{void 0!==L&&f.getAppealReasons({appeal_type:L,object_id:E})}),[L,f,E]);const N=e=>{e&&window.open(e,"_blank")},B=(0,r.useCallback)((t=>{if(t.preventDefault(),t.stopPropagation(),"idle"!==y||void 0===L)return;const i=(({appealType:e,objectId:t,punishKey:i,hasAppealReasons:n,selectedReason:o,descriptionBox:r})=>{const a={appealType:e,objectId:t,punishKey:i};if(r&&!n)a.reason=JSON.stringify({file_uri:"",description:r});else if(n&&null!==o){const e={type:2,options:[o],description:r||""};a.reason=JSON.stringify(e)}return a})({appealType:L,objectId:E,punishKey:P,hasAppealReasons:D,selectedReason:k,descriptionBox:C});f.postViolationAppeal(i),f.setViolationAppealStatus("loading"),e()}),[f,y,L,E,P,k,D,C,e]);return"loading"===y?(0,o.jsx)(A.R,{center:!0,size:"small"}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(be,{children:[(0,o.jsx)(Se,{onClick:e,onKeyDown:t,role:"button",children:(0,o.jsx)(g,{width:24,height:24})}),(0,o.jsx)(Gi,{}),(0,o.jsx)(Vi,{onClick:i,children:(0,o.jsx)(Te.A,{width:14,height:14})})]}),(0,o.jsx)(Mi,{children:(0,o.jsxs)(Pi,{children:[(0,o.jsxs)(Fi,{children:[T&&(0,o.jsx)(zi,{children:T}),M?(0,o.jsx)(Yt,{btnText:O,onClick:N}):I&&(0,o.jsx)(qi,{children:I})]}),(0,o.jsx)(Ri,{children:(0,o.jsx)(st,{title:F,list:x,handleOpenLink:N,seeMoreText:m("search_see_more")})}),D&&(0,o.jsxs)(Ri,{children:[(0,o.jsxs)(Bi,{children:[m("reasonForAppeal_appealPg_appealReasonCard_title"),(0,o.jsx)(Ni,{children:"*"})]}),S.map((e=>(0,o.jsx)(Ui,{children:(0,o.jsx)(nt.v3,{label:e.text,name:"appealReason",value:e.code.toString(),checked:k===e.code,onChange:()=>w(e.code)})},e.code)))]}),D&&(0,o.jsx)(Ri,{children:(0,o.jsx)(nt.U5,{label:m("dsa_illegal_appeal_explanation"),value:C,onChange:e=>j(e.target.value),placeholder:m("dsa_illegal_uploader_vio_appeal_exp_desc"),maxLength:200,block:!0})})]})}),(0,o.jsx)(Di,{children:(0,o.jsx)(Hi,{onClick:B,disabled:D&&null===k,children:m("Submit")})})]})};var $i=i(39232),Ki=i(97493);const Zi=({reportId:e,onBack:t,objectId:i,objectType:n,punishKey:a,onClose:s,verificationCode:l,penaltyDetails:d})=>{const{user:c,language:p}=(0,$i.x)(),h=(0,u.w)(ve),[g,_]=(0,r.useState)(O.STATUS),v=(0,r.useCallback)((()=>{t?t():_(O.STATUS)}),[t]),m=(0,r.useCallback)((()=>{s()}),[s]),f=(0,r.useCallback)((()=>{_(O.SUBMIT)}),[]),y=(0,r.useCallback)((e=>{13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),e.stopPropagation(),v())}),[v]);return(0,r.useEffect)((()=>{var t,o,r;if(d)h.getPenaltyDetail({vid:null!==(t=d.vid)&&void 0!==t?t:"",storeRegion:null!==(o=null==c?void 0:c.storeRegion)&&void 0!==o?o:"",videoInfo:d.videoInfo,lang:p,uid:null!==(r=null==c?void 0:c.uid)&&void 0!==r?r:""});else if(e)h.getReporterAppeal({reportId:e,loggedOutCode:l});else{if(!i||!n)return;h.getViolationDetail({objectId:i,objectType:n,punishKey:a})}}),[i,n,a,h,d]),(0,r.useEffect)((()=>{l&&h.setLoggedOutCode(l)}),[l]),(0,o.jsx)(ye,{children:(0,o.jsx)(Ki.juU,{children:e?(0,o.jsx)(Ai,{handleBack:v,handleBackKeyDown:y,handleClose:m}):g===O.SUBMIT?(0,o.jsx)(Wi,{handleBack:v,handleBackKeyDown:y,handleClose:m}):(0,o.jsx)(ai,{handleBack:v,handleBackKeyDown:y,handleClose:m,handleAppealClick:f})})})};var Qi=i(88149),Yi=i(54469),Ji=i(98128),Xi=i(65804),en=i(23888),tn=i(50540);const nn="DELETE_REPORT",on="REQUEST_ANOTHER_REVIEW",rn="BLOCK_USER",an="UN_BLOCK_USER",sn="RESUBMIT_REPORT";var ln;!function(e){e[e.REPORT_INBOX=0]="REPORT_INBOX",e[e.VIOLATION_APPEAL=1]="VIOLATION_APPEAL",e[e.NONE=2]="NONE"}(ln||(ln={}));const dn=[rn,an,on,sn],cn=({seeOptionsInfo:e,visible:t,reportId:i,onClose:n,onActionExecuted:s})=>{var l,d,c;const p=(0,u.w)(un),[h,g]=(0,r.useState)(ln.REPORT_INBOX),[_,v]=(0,r.useState)(null),m=(0,r.useRef)(null),[f,y]=(0,r.useState)("0px"),{refreshReport:b}=(0,a.P)(un),{showFullSideNav:x}=(0,Qi.vY)(),{reportDetail:{data:S}}=(0,a.P)(un),k=(0,a.P)(Yi.L,{selector:e=>e.lang,dependencies:[]}),w=(0,Ji.Cp)(),{handleShowReport:C}=(0,en.Ah)({undefined:void 0,reportTarget:{lang:k,report_type:null!==(l=null==S?void 0:S.object_type_name)&&void 0!==l?l:"video",object_id:null!==(d=null==S?void 0:S.object_id)&&void 0!==d?d:"",owner_id:null!==(c=null==S?void 0:S.object_owner_id)&&void 0!==c?c:"",dsa_from_inbox:!0,report_record:null==S?void 0:S.report_record,report_id:i}});return(0,r.useEffect)((()=>{null!==b&&s()}),[b]),(0,r.useEffect)((()=>{if(_&&null===m.current){const e=new ResizeObserver((e=>{const t=e[0].target.clientHeight;y(`-${t-80}px`)}));return e.observe(_),m.current=e,()=>{var e;null===(e=m.current)||void 0===e||e.disconnect()}}}),[_]),(0,o.jsxs)(o.Fragment,{children:[t&&h===ln.REPORT_INBOX&&(0,o.jsx)(Q.BQ,{style:{bottom:f},isModalOnLeft:x,children:(0,o.jsx)(Q.$B,{isModalOnLeft:x,children:(0,o.jsx)(Q.bK,{ref:e=>{v(e)},children:(0,o.jsx)(Q.he,{children:e.map(((e,t)=>dn.includes(e.code)?(0,o.jsxs)(Q.zC,{onClick:t=>{((e,t)=>{var o,r,a;switch(e.code){case sn:C(t),n(),w.setInboxTabShowing(!1),tn.o.handleDSAResubmitMoreOptionsClick({enter_from:"report_inbox",object_type:null!==(a=null===(r=null===(o=null==S?void 0:S.report_record)||void 0===o?void 0:o.common_data)||void 0===r?void 0:r.object_type)&&void 0!==a?a:0});break;case on:g(ln.VIOLATION_APPEAL);break;case nn:p.getDeleteReport({reportId:i});break;case an:p.getBlockUser({toolsType:an,processedUserId:e.extra.unblock_uid});break;case rn:p.getBlockUser({toolsType:rn,processedUserId:e.extra.block_uid})}})(e,t)},children:[e.name,(0,o.jsx)(Q._k,{children:(0,o.jsx)(Y.A,{width:16,height:16})})]},`div-options-container-row-${t}`):(0,o.jsx)(o.Fragment,{})))})})})}),(0,o.jsx)(Xi.aF,{visible:h===ln.VIOLATION_APPEAL,onClose:()=>{g(ln.REPORT_INBOX)},children:(0,o.jsx)("div",{style:{width:"800px"},children:(0,o.jsx)(Zi,{reportId:i,onBack:()=>{g(ln.REPORT_INBOX)},onClose:()=>{g(ln.REPORT_INBOX)}})})})]})};let un=class extends R.E{constructor(e,t){super(),this.service=e,this.t=t,this.defaultState={reportDetail:{isLoading:!1,data:null},reportList:{data:[],hasNextPage:!0,pageCount:0},activeReport:null,refreshReport:null,loggedOutCode:void 0}}setLoggedOutCode(e,t){e.loggedOutCode=t}setReportDetail(e,t){e.reportDetail.data=t}setRefreshReport(e,t){e.refreshReport=t}setReportDetailLoading(e,t){e.reportDetail.isLoading=t}setReportListData(e,t){e.reportList.data.push(...t.data),e.reportList.hasNextPage=t.hasNextPage,e.reportList.pageCount=t.pageCount}setActiveReport(e,t){e.activeReport=t}getDeleteReport(e){return e.pipe((0,z.p)((({reportId:e})=>this.service.getDeleteReport({report_id:e}).pipe((0,U.T)((({body:{}})=>this.noop()))))))}getBlockUser(e){return e.pipe((0,z.p)((({toolsType:e,processedUserId:t})=>this.service.getBlockUser({processed_user_id:t,tools_type:e}).pipe((0,U.T)((({body:{status_code:t}})=>0===t?this.getActions().setRefreshReport({type:e===rn?"webapp_mig_blocked":"webapp_mig_unblocked"}):((0,W.n)({callback:this.commonToastError}),this.noop())))))))}getReportDetail(e){return e.pipe((0,z.p)((({reportId:e,reportType:t})=>this.service.getReportDetail(Object.assign({report_id:e,report_type:t},this.state.loggedOutCode&&{verification_code:this.state.loggedOutCode})).pipe((0,U.T)((({body:{detail:e}})=>e?this.getActions().setReportDetail(e):this.noop())),(0,q.Z)(this.getActions().setReportDetailLoading(!0)),(0,V.q)(this.getActions().setReportDetailLoading(!1)),(0,W.n)({callback:this.commonToastError})))))}getReportList(e){return e.pipe((0,G.E)(this.state$),(0,z.p)((([e,{reportList:{pageCount:t,hasNextPage:i}}])=>i?this.service.getReportList({start:t,count:15}).pipe((0,U.T)((({body:{status_code:e,list:i,has_more:n}})=>0!==e?this.noop():this.getActions().setReportListData({data:null!=i?i:[],hasNextPage:n,pageCount:t+15}))),(0,W.n)({callback:this.commonToastError})):(0,N.of)(this.noop()))))}setActiveReportLoggedOut(e){return e.pipe((0,H.Z)((e=>[this.getActions().setLoggedOutCode(e.code),this.getActions().setActiveReport(e)])))}updateActiveReport(e){return e.pipe((0,H.Z)((e=>[this.getActions().setActiveReport(e)])))}commonToastError(){L.F.destroy(),L.F.open({content:this.t(K.z$),duration:3,widthType:"half"})}};(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,String]),(0,P.Sn)("design:returntype",void 0)],un.prototype,"setLoggedOutCode",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Object]),(0,P.Sn)("design:returntype",void 0)],un.prototype,"setReportDetail",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Object]),(0,P.Sn)("design:returntype",void 0)],un.prototype,"setRefreshReport",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Boolean]),(0,P.Sn)("design:returntype",void 0)],un.prototype,"setReportDetailLoading",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Object]),(0,P.Sn)("design:returntype",void 0)],un.prototype,"setReportListData",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Object]),(0,P.Sn)("design:returntype",void 0)],un.prototype,"setActiveReport",null),(0,P.Cg)([(0,D.Mj)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[B.c]),(0,P.Sn)("design:returntype",void 0)],un.prototype,"getDeleteReport",null),(0,P.Cg)([(0,D.Mj)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[B.c]),(0,P.Sn)("design:returntype",void 0)],un.prototype,"getBlockUser",null),(0,P.Cg)([(0,D.Mj)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[B.c]),(0,P.Sn)("design:returntype",void 0)],un.prototype,"getReportDetail",null),(0,P.Cg)([(0,D.Mj)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[B.c]),(0,P.Sn)("design:returntype",void 0)],un.prototype,"getReportList",null),(0,P.Cg)([(0,D.Mj)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[B.c]),(0,P.Sn)("design:returntype",void 0)],un.prototype,"setActiveReportLoggedOut",null),(0,P.Cg)([(0,D.Mj)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[B.c]),(0,P.Sn)("design:returntype",void 0)],un.prototype,"updateActiveReport",null),un=(0,P.Cg)([(0,M.n)("ReportInbox"),(0,P.Qj)(1,(0,F.y)($.hp)),(0,P.Sn)("design:paramtypes",[Z.o,Function])],un);const pn=i.p+"863338800afbd636244a.png";var hn,gn,_n,vn=i(75667);function mn(){return mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},mn.apply(null,arguments)}const fn=function(e){return r.createElement("svg",mn({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 20",width:"1em",height:"1em"},e),hn||(hn=r.createElement("rect",{width:1.501,height:17.768,fill:"#fff",rx:.5,transform:"scale(1 -1) rotate(45.638 27.162 10.536)"})),gn||(gn=r.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M10.57 14.556c1.11 0 2.163-.17 3.11-.472L12.5 12.93a.512.512 0 01-.058-.068 9.006 9.006 0 01-1.873.193c-1.802 0-3.368-.514-4.445-1.267-1.08-.757-1.557-1.658-1.557-2.484 0-.826.476-1.728 1.557-2.485a5.44 5.44 0 01.075-.051L5.11 5.702c-1.266.94-2.043 2.207-2.043 3.602 0 2.9 3.36 5.252 7.503 5.252zM7.475 4.518c.943-.3 1.99-.466 3.093-.466 4.144 0 7.503 2.351 7.503 5.252 0 1.39-.77 2.652-2.03 3.592l-1.09-1.066a5.9 5.9 0 00.062-.042c1.08-.757 1.557-1.658 1.557-2.484 0-.826-.476-1.728-1.557-2.485-1.076-.753-2.643-1.267-4.445-1.267-.65 0-1.268.067-1.844.188l-1.25-1.222z",clipRule:"evenodd"})),_n||(_n=r.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M11.357 11.81a2.626 2.626 0 01-3.31-3.236l3.31 3.236zM9.803 6.792a2.626 2.626 0 013.296 3.224L9.804 6.792z",clipRule:"evenodd"})))};var yn=i(45489),bn=i.n(yn);function xn(e){if(isNaN(Number(e)))return"";const t=bn().unix(Number(e)),i=e=>e.toString().padStart(2,"0"),n=i(t.month()+1),o=i(t.date()),r=i(t.hour()),a=i(t.minute()),s=i(t.second());return`${t.year()}-${n}-${o} ${r}:${a}:${s}`}const Sn=(0,me.default)("div",{target:"egjh0py0"})({display:"flex",padding:"10px 0"},"label:DivItemContainer;"),kn=(0,me.default)("div",{target:"egjh0py1"})((({theme:{direction:e,colors:t}})=>[{height:"48px",width:"48px",borderRadius:"50%",border:`1px solid ${t.LinePrimary}`,backgroundColor:t.BGTertiary,display:"flex",alignItems:"center",justifyContent:"center","> svg > path":{fill:t.TextPrimary}},(0,fe.mp)({direction:e,marginEnd:"12px"})]),"label:DivLogoContainer;"),wn=(0,me.default)("img",{target:"egjh0py2"})((({theme:{direction:e}})=>[{height:"48px",width:"48px",borderRadius:"50%"},(0,fe.mp)({direction:e,marginEnd:"12px"})]),"label:ImgLeftIcon;"),Cn=(0,me.default)("img",{target:"egjh0py3"})((({theme:{colors:e}})=>({objectFit:"cover",backgroundColor:e.TextTertiary})),"label:ImgCover;"),jn=(0,me.default)("div",{target:"egjh0py4"})({flex:1,display:"flex",justifyContent:"space-between"},"label:DivRightContent;"),Tn=(0,me.default)("div",{target:"egjh0py5"})((({theme:{colors:e,direction:t}})=>[{flex:1,color:e.TextPrimary},(0,fe.mp)({direction:t,marginEnd:"12px"})]),"label:DivDialogContent;"),In=(0,me.default)("span",{target:"egjh0py6"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",typography:"P3"}),{lineHeight:"17px"}]),"label:SpanTitle;"),On=(0,me.default)("div",{target:"egjh0py7"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",typography:"P3"}),{lineHeight:"17px"}]),"label:DivContent;"),Ln=(0,me.default)("span",{target:"egjh0py8"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"normal",typography:"P3",color:"TextQuaternary"}),{lineHeight:"17px"}]),"label:SpanTime;"),En=(0,me.default)("div",{target:"egjh0py9"})({width:"42px",height:"56px",borderRadius:"2px",overflow:"hidden",position:"relative"},"label:DivImgWrapper;"),An=(0,me.default)("div",{target:"egjh0py10"})((({theme:{direction:e}})=>[{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",width:"100%",height:"100%",top:0,backgroundColor:"rgba(0, 0, 0, .5)"},(0,fe.mp)({direction:e,start:0})]),"label:DivViolationMask;"),Pn="report_detail_dsa_learn_more",Rn=({item:e,isV2:t})=>{const[i,n]=(0,r.useState)(!1),[a,s]=(0,r.useState)(!1),l=(0,p.s)(),d=(0,r.useCallback)((()=>{n(!0)}),[]),c=(0,r.useCallback)((()=>{s(!0)}),[]),u=e=>{var t;(null===(t=e.target)||void 0===t?void 0:t.id)===Pn&&window.open("https://www.tiktok.com/legal/page/global/reporting-illegal-content/en")},{title:h="",content:g="",time:_="",cover_url:v="",avatar_url:m="",has_mask:f=!1}=e;return(0,o.jsxs)(Sn,{role:"listitem",tabIndex:0,"aria-label":g,children:[m&&""!==m?(0,o.jsx)(wn,{src:m||pn}):(0,o.jsx)(kn,{children:(0,o.jsx)(vn.c,{size:32})}),(0,o.jsxs)(jn,{children:[(0,o.jsxs)(Tn,{children:[(0,o.jsx)(In,{children:h}),(0,o.jsxs)(On,{children:[(e=>{const t=e.split(/({{.*?}})/);return(0,o.jsx)("div",{onClick:u,children:t.map((e=>e.startsWith("{{")&&e.endsWith("}}")?(e.slice(2,-2),(0,o.jsx)("b",{id:Pn,children:l("dsa_illegal_placeholder_learnmore")})):e))})})(g)," ",(0,o.jsx)(Ln,{children:t?xn(_):_})]})]}),v&&(0,o.jsxs)(En,{children:[!a&&(0,o.jsx)(Cn,{width:"100%",height:"100%",src:v,onLoad:d,onError:c}),f&&i&&(0,o.jsx)(An,{children:(0,o.jsx)(fn,{width:20,height:20})})]})]})]})};var Dn=i(23810);const Mn=(0,me.default)("div",{target:"eaptjjg0"})((({theme:{direction:e}})=>[{paddingTop:"8px",display:"flex",flexGrow:1,flexDirection:"column",alignItems:"stretch",position:"relative"},(0,fe.mp)({direction:e,paddingStart:"16px",paddingEnd:"24px"})]),"label:DivReportDetail;"),Fn=(0,me.default)(Dn.y,{target:"eaptjjg1"})({marginTop:"12px",marginBottom:"16px",border:"none"},"label:MoreOptionsButton;"),Nn=(0,me.default)(Dn.y,{target:"eaptjjg2"})((({theme:{colors:e}})=>[{marginTop:"auto",marginBottom:"16px",background:e.Primary,color:e.ConstTextInverse}]),"label:MobileMoreOptionsButton;"),Bn=(0,me.default)("div",{target:"eaptjjg3"})({flexGrow:1,overflowY:"auto",height:"100px"},"label:DivDetailsContainer;");var zn=i(98281),Un=i(93122);const qn=(0,me.default)("div",{target:"e1itzts50"})({padding:"16px",display:"flex",alignItems:"center"},"label:DivItemContainer;"),Vn=(0,me.default)("div",{target:"e1itzts51"})((({theme:{colors:e}})=>[{fontSize:"15px",fontStyle:"normal",fontWeight:"600",lineHeight:"130%",color:e.TextPrimary,marginLeft:"17px"}]),"label:DivText;"),Gn=(0,me.default)("div",{target:"e1itzts52"})((({theme:{colors:e}})=>[{margin:"0px 16px",height:"0.5px",background:e.LineSecondary}]),"label:DivLine;"),Hn=({text:e,icon:t,onClick:i,hideLine:n=!1})=>(0,o.jsxs)("div",{children:[(0,o.jsxs)(qn,{onClick:i,children:[t,(0,o.jsx)(Vn,{children:e})]}),!1===n&&(0,o.jsx)(Gn,{})]});var Wn=i(22541),$n=i(4884),Kn=i(1340),Zn=i(45417),Qn=i(18675),Yn=i(63161),Jn=i(69872);const Xn={padding:"0px 0px 16px 0px"},eo=({reportId:e,reportType:t})=>{var i;const{reportDetail:{isLoading:n,data:s}}=(0,a.P)(un),l=(0,u.w)(un),[d,c]=(0,r.useState)(!1),{isMobile:h}=(0,zn.L$)((0,Un.U)((()=>["isMobile"]),[])),{refreshReport:g,loggedOutCode:_}=(0,a.P)(un),v=(0,p.s)(),m=(0,Yn.W6)(),f=(0,r.useCallback)((()=>{l.getReportDetail({reportId:e,reportType:t})}),[e,t,l]);(0,r.useEffect)((()=>{null!==g&&(L.F.open({content:v(g.type),key:`refreshReport ${g.type}`,duration:3,widthType:"half"}),l.setRefreshReport(null))}),[g]),(0,r.useEffect)((()=>{f()}),[f]);const y=(0,r.useCallback)((e=>{switch(e){case rn:return(0,o.jsx)(Wn.O,{size:20});case an:return(0,o.jsx)($n.N,{size:20});case on:return(0,o.jsx)(Kn.Z,{size:20});case nn:return(0,o.jsx)(Zn.u,{size:20});default:return(0,o.jsx)(Qn._,{size:20})}}),[]),b=()=>{c(!1),f()},x=(0,r.useCallback)((()=>{var t;return null===(t=null==s?void 0:s.see_option_infos)||void 0===t?void 0:t.map(((t,i)=>dn.includes(t.code)?(0,o.jsx)(Hn,{onClick:()=>{(t=>{var i,n,o;let r,a;switch(t.code){case sn:r=`/report/${null!==(i=null==s?void 0:s.object_type_name)&&void 0!==i?i:"video"}`,a=Object.assign({objectId:null!==(n=null==s?void 0:s.object_id)&&void 0!==n?n:"",ownerId:null!==(o=null==s?void 0:s.object_owner_id)&&void 0!==o?o:"",dsa_from_inbox:!0,report_record:JSON.stringify(null==s?void 0:s.report_record),report_id:e},void 0!==_&&{logged_out_code:_}),m.push(`${r}?${(0,Jn.stringify)(a)}`);break;case on:r="/violation-appeal",a=Object.assign({reportId:null!=e?e:""},void 0!==_&&{logged_out_code:_}),m.push(`${r}?${(0,Jn.stringify)(a)}`);break;case nn:l.getDeleteReport({reportId:e}),f();break;case an:l.getBlockUser({toolsType:an,processedUserId:t.extra.unblock_uid}),f();break;case rn:l.getBlockUser({toolsType:rn,processedUserId:t.extra.block_uid}),f()}})(t),c(!1)},text:t.name,icon:y(t.code),hideLine:i===(null==s?void 0:s.see_option_infos.length)-1},t.code):(0,o.jsx)(o.Fragment,{})))}),[null==s?void 0:s.see_option_infos]),S=(0,r.useCallback)((()=>{var t;return!1===h?(0,o.jsx)(cn,{reportId:e,seeOptionsInfo:null!==(t=null==s?void 0:s.see_option_infos)&&void 0!==t?t:[],visible:d,onActionExecuted:b,onClose:()=>{c(!1)}}):(0,o.jsx)(E.l,{contentStyle:Xn,needTouchEvents:!1,visible:d,maskClosable:!0,closeStyle:{display:"none"},onClose:()=>{c(!1)},children:x()})}),[h,d,s,e,x]),k=(0,r.useMemo)((()=>h?Nn:Fn),[h]);if(n)return(0,o.jsx)(A.R,{center:!0,size:"small"});if(!s)return(0,o.jsx)("div",{});const{text_infos:w}=s,C=void 0!==t;return(0,o.jsxs)(Mn,{role:"list",style:Object.assign({},h&&{height:"100%"}),children:[(0,o.jsx)(Bn,{style:Object.assign({},h&&{height:"100%"}),children:null==w?void 0:w.map(((e,t)=>(0,o.jsx)(Rn,{item:e,isV2:C},t)))}),S(),(null===(i=null==s?void 0:s.see_option_infos)||void 0===i?void 0:i.filter((e=>dn.includes(e.code))).length)>0&&(0,o.jsx)(k,{onClick:()=>{c(!d)},children:v("dsa_illegal_more_options_link")})]})};var to,io=i(21730),no=i(85784);function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},oo.apply(null,arguments)}const ro=function(e){return r.createElement("svg",oo({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 32 32",width:"1em",height:"1em"},e),to||(to=r.createElement("path",{fillRule:"evenodd",d:"M16.58 6.023c-2.175-1.546-4.752-1.507-6.651-1.157a14.519 14.519 0 00-3.097.948 8.763 8.763 0 00-.252.116l-.016.008-.006.003-.004.001A1 1 0 006 6.838v20.495c0 .369.298.667.667.667h.666A.667.667 0 008 27.333v-8.247l.233-.09c.515-.19 1.236-.42 2.059-.57 1.674-.31 3.597-.27 5.129.819 2.174 1.546 4.751 1.506 6.65 1.156a14.515 14.515 0 003.097-.948 8.48 8.48 0 00.253-.116l.015-.007h.001l.005-.003.003-.002A1 1 0 0026 18.43V6.838a1 1 0 00-1.444-.896h-.001l-.006.003a3.144 3.144 0 01-.186.085 12.52 12.52 0 01-2.654.812c-1.675.309-3.598.27-5.13-.82zm-6.288.81c1.674-.308 3.597-.269 5.129.82 2.174 1.546 4.751 1.506 6.65 1.156a14.358 14.358 0 001.929-.5v9.464a12.486 12.486 0 01-2.292.661c-1.674.309-3.597.27-5.129-.82-2.174-1.545-4.751-1.506-6.65-1.156a14.35 14.35 0 00-1.929.5V7.495l.233-.09c.515-.19 1.236-.42 2.059-.57z",clipRule:"evenodd"})))},ao={101:"report_inbox_video",102:"report_inbox_comment",103:"report_inbox_account",107:"report_inbox_live",130:"report_inbox_livecomment",106:"report_inbox_directmessage",115:"report_inbox_directmessage",123:"report_inbox_directmessage",105:"report_inbox_sound",119:"report_inbox_hashtag",141:"shoutouts_detail_comment_report_title",142:"tns_intro_reporter_title",160:"%s - qareport_question",230:"profile_page_events_list",210:"photo_name_nocaption"},so={1:"report_inbox_inreview",3:"report_inbox_violation",2:"report_inbox_noviolation",4:"showVidStatus_reportInbox_vidStatusDeleted_label",5:"showVidStatus_reportInbox_vidStatusIneligible_label"};var lo=i(98530);const co=({report:e,index:t,onClick:i,onKeyDown:n})=>{const{timeTranslator:a}=(0,no.T)(),s=(0,p.s)(),{isMobile:l}=(0,zn.L$)((0,Un.U)((()=>["isMobile"]),[])),[d,c]=(0,r.useState)(!1),u=ao[e.report_type]?s(ao[e.report_type]):"",h=a(1e3*Number(e.modify_time)),g=(0,r.useCallback)((()=>{i()}),[i]),_=(0,r.useCallback)((()=>{c(!0)}),[]),v=so[e.status]?s(so[e.status]):"";return(0,o.jsxs)(lo.iA,{onClick:g,onKeyDown:n,isMobile:l,tabIndex:0,role:"button","aria-labelledby":`report-item-content-${t}`,children:[(0,o.jsx)(lo.Fs,{children:(0,o.jsx)(ro,{width:32,height:32})}),(0,o.jsxs)(lo.eH,{id:`report-item-content-${t}`,children:[(0,o.jsx)(lo.dM,{children:(()=>{if(e.title)return e.title;if(160===e.report_type){const t=` - ${s("qareport_question")||"Question"}`;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(lo.WA,{children:e.object_desc}),(0,o.jsx)("span",{children:t.padStart(t.length+1)})]})}return u.replace("%s",e.object_owner_name||e.object_desc||"")})()}),(0,o.jsxs)(lo.tU,{children:[s("report_inbox_status"),": ",v,(0,o.jsx)(lo.hH,{children:h.padStart(h.length+1)})]})]}),e.cover_image?(0,o.jsxs)(lo.$2,{children:[(0,o.jsx)(lo.mW,{isNotLoaded:!d,src:e.cover_image,onLoad:_}),3===e.status&&d&&(0,o.jsx)(lo.xj,{children:(0,o.jsx)(fn,{width:20,height:20})})]}):(0,o.jsx)(lo.MH,{children:(0,o.jsx)(Y.A,{width:16,height:16})})]})},uo=(0,me.default)("div",{target:"eq5dlep0"})({display:"flex",flexGrow:1,flexDirection:"column",alignItems:"stretch",overflow:"auto",height:"100%"},"label:DivReportList;"),po=()=>{const{reportList:{data:e,hasNextPage:t}}=(0,a.P)(un),i=(0,u.w)(un),n=(0,r.useRef)(null);(0,r.useEffect)((()=>{e.length>0||i.getReportList()}),[i,e.length]);const s=(0,r.useCallback)((()=>{i.getReportList()}),[i]),l=(0,r.useCallback)((e=>()=>{i.updateActiveReport({reportId:e.report_id,reportType:e.report_type})}),[i]),d=(0,r.useCallback)((e=>t=>{13!==t.keyCode&&32!==t.keyCode||i.updateActiveReport({reportId:e.report_id,reportType:e.report_type})}),[i]);return(0,r.useEffect)((()=>{if(t&&e.length>0){if(!n.current)return;const{clientHeight:e,scrollHeight:o}=n.current;!(o>e)&&t&&i.getReportList()}}),[t,n,i,e]),function({elemRef:e,onHitBottom:t,bottomThreshold:i=10,throttle:n=100,isFirstRender:o}){const a=(0,io._g)((()=>{if(!e.current||o)return;const{offsetHeight:n,scrollTop:r,scrollHeight:a}=e.current;n+r+i>=a&&(null==t||t())}),[i,e,t,o],n);(0,r.useEffect)((()=>{const{current:t}=e;return null==t||t.addEventListener("scroll",a),()=>{null==t||t.removeEventListener("scroll",a)}}),[e,e.current,a])}({elemRef:n,onHitBottom:s,bottomThreshold:200,throttle:200}),(0,o.jsxs)(uo,{ref:n,children:[e.map(((e,t)=>(0,o.jsx)(co,{report:e,index:t,onClick:l(e),onKeyDown:d(e)},t))),t&&(0,o.jsx)("div",{children:(0,o.jsx)(A.R,{center:!0,size:"small"})})]})},ho=(0,me.default)("div",{target:"e115u39r0"})({height:"100%",width:"100%",display:"flex",flexDirection:"column",alignItems:"stretch"},"label:DivReportInboxContainer;"),go=(0,me.default)("div",{target:"e115u39r1"})({display:"flex",flexDirection:"row",alignItems:"center",padding:"0 16px",margin:"24px 0 18px"},"label:DivHeader;"),_o=(0,me.default)("span",{target:"e115u39r2"})((({theme:e})=>[(0,fe.zy)({theme:e,fontFamily:"TikTokDisplayFont",typography:"H4",color:"TextPrimary",fontWeight:"bold"})]),"label:SpanHeaderTitle;"),vo=(0,me.default)("div",{target:"e115u39r3"})((({theme:{direction:e,colors:t}})=>[Object.assign(Object.assign({width:"24px",height:"24px",cursor:"pointer"},"rtl"===e&&{transform:"rotate(180deg)"}),{"> svg > path":{fill:t.TextPrimary}})]),"label:DivBackButton;"),mo=({onClose:e})=>{var t,i;const{reportDetail:n,activeReport:s}=(0,a.P)(un),l=(0,p.s)(),d=(0,u.w)(un),c=(0,r.useCallback)((()=>{null===s?e():d.setActiveReport(null)}),[s,d,e]),h=(0,r.useCallback)((e=>{13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),e.stopPropagation(),c())}),[c]),_=l("report_inbox_title"),v=null!==s&&null!==(i=null===(t=n.data)||void 0===t?void 0:t.tab_title)&&void 0!==i?i:_,m=null!==s?"Back to report list":"Back to notification list";return(0,o.jsxs)(ho,{children:[(0,o.jsxs)(go,{children:[(0,o.jsx)(vo,{onClick:c,onKeyDown:h,tabIndex:0,role:"button","aria-label":m,children:(0,o.jsx)(g,{width:24,height:24})}),(0,o.jsx)(_o,{children:v})]}),null!==s?(0,o.jsx)(eo,{reportId:s.reportId,reportType:s.reportType}):(0,o.jsx)(po,{})]})};var fo=i(53391);function yo({elementRef:e,threshold:t=1e3,onHitBottom:i,onPageBottom:n,shouldRunOnMount:o,onScroll:a}){const s=(0,r.useRef)(null),l=(0,r.useRef)(0),d=(0,r.useRef)(0),c=(0,r.useRef)(!o),u=(0,r.useCallback)((()=>{"undefined"!=typeof window&&window.clearInterval(d.current)}),[]),p=(0,io._g)((()=>{var o,r,d,p,h,g,_;if(!s)return;let v,m;if(e)v=null!==(d=null===(r=e.current)||void 0===r?void 0:r.scrollTop)&&void 0!==d?d:0,m=(null!==(h=null===(p=e.current)||void 0===p?void 0:p.scrollHeight)&&void 0!==h?h:0)-(null!==(_=null===(g=e.current)||void 0===g?void 0:g.clientHeight)&&void 0!==_?_:0)-v;else{const e=document.documentElement||document.body.parentNode||document.body;v=void 0!==window.pageYOffset?window.pageYOffset:e.scrollTop,m=Number(null===(o=s.current)||void 0===o?void 0:o.scrollHeight)-v-window.innerHeight}0!==v&&(null==a||a(v)),!c.current&&m>0&&u(),m-t<=0&&l.current<=v&&(null==i||i(),!c.current&&u()),m<=-60&&v-l.current>=18&&(null==n||n()),l.current=v}),[i,t,n,e,u],100),h=(0,r.useRef)(p);return h.current=p,(0,r.useEffect)((()=>{o&&(d.current=window.setInterval((()=>{var e;null===(e=h.current)||void 0===e||e.call(h)}),100))}),[]),(0,r.useEffect)((()=>{var t;const i=null!==(t=null==e?void 0:e.current)&&void 0!==t?t:window;return i.addEventListener("scroll",p),()=>{i.removeEventListener("scroll",p)}}),[p,e]),s}var bo=i(556),xo=i(91019),So=i(65724),ko=i(47798),wo=i(46467),Co=i(40872);const jo=(0,me.default)("div",{target:"e1d0xjxi0"})({padding:"88px 32px 0",display:"flex",flexDirection:"column",alignItems:"center"},"label:DivErrorContainer;"),To=(0,me.default)("p",{target:"e1d0xjxi1"})((({theme:e})=>(0,fe.zy)({theme:e,typography:"P2",fontWeight:"semiBold"})),{marginTop:"20px"},"label:PErrorTitle;"),Io=(0,me.default)("p",{target:"e1d0xjxi2"})((({theme:e})=>(0,fe.zy)({theme:e,typography:"H6",color:"TextSecondary"})),{marginTop:"12px",textAlign:"center"},"label:PErrorDesc;"),Oo={500:{title:"inbox_all_activity",desc:"inbox_default_text",Icon:xo.A},2:{title:"Inbox_Comments_on_your_videos",desc:"Inbox_When_someone_comments_on__one_of_your_videos_you_ll_see_it_here",Icon:So.A},7:{title:"Inbox_New_followers",desc:"Inbox_When_someone_new_follows_you_you_ll_see_it_here",Icon:ko.A},3:{title:"Inbox_Likes_on_your_videos",desc:"Inbox_When_someone_likes_one_of_your_videos_you_ll_see_it_here",Icon:wo.A},505:{title:"Inbox_Likes_on_your_videos",desc:"Inbox_When_someone_likes_one_of_your_videos_you_ll_see_it_here",Icon:wo.A},6:{title:"Inbox_Mentions_of_You",desc:"Inbox_When_someone_mentions_you_you_ll_see_it_here",Icon:Co.A}},Lo=(0,r.memo)((function({type:e}){const t=(0,p.s)(),{colors:i}=(0,bo.u)(),{title:n,desc:r,Icon:a}=Oo[e];return(0,o.jsxs)(jo,{children:[(0,o.jsx)(a,{width:70,height:70,fill:i.TextQuaternary}),(0,o.jsx)(To,{children:t(n)}),(0,o.jsx)(Io,{children:t(r)})]})})),Eo=({item:e,onClick:t})=>{var i,n,a,s,l,d,c;const{isMobile:u=!1}=null!==(i=(0,Un.U)((()=>["isMobile"]),[]))&&void 0!==i?i:{},{timeTranslator:p}=(0,no.T)(),h=p(1e3*Number(e.create_time)),g=null!==(s=null===(a=null===(n=e.template_notice)||void 0===n?void 0:n.notice)||void 0===a?void 0:a.content)&&void 0!==s?s:"",_=(0,r.useCallback)((()=>{u?window.location.href="/report/inbox":null==t||t()}),[u,t]),v=(0,r.useCallback)((e=>{13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),e.stopPropagation(),_())}),[_]);return(0,o.jsxs)(lo.iA,{isNotice:!0,onClick:_,onKeyDown:v,tabIndex:0,role:"button","aria-labelledby":"notice-report-title",children:[(0,o.jsx)(lo.Fs,{children:(0,o.jsx)(ro,{width:32,height:32})}),(0,o.jsx)(lo.eH,{children:(0,o.jsxs)(lo.dM,{isNotice:!0,id:"notice-report-title",children:[null===(c=null===(d=null===(l=e.template_notice)||void 0===l?void 0:l.notice)||void 0===d?void 0:d.title)||void 0===c?void 0:c.title,":",(0,o.jsxs)(lo.tU,{isNotice:!0,children:[g.padStart(g.length+1),(0,o.jsx)(lo.hH,{children:h.padStart(h.length+1)})]})]})}),(0,o.jsx)(lo.MH,{children:(0,o.jsx)(Y.A,{width:16,height:16})})]})};var Ao=i(26679),Po=i(75962),Ro=i(56295),Do=i(52602),Mo=i(34111),Fo=i(74073),No=i(3954),Bo=i(47251),zo=i(53376);function Uo({beforeStart:e,href:t,shouldUsePush:i,state:n,newTab:o=!1}){const a=(0,Bo.w)();return t=(0,zo.U)(t),(0,r.useCallback)((r=>{null==e||e(r),o?window.open(t,"_blank"):a(r,{href:t,shouldUsePush:i,state:n})}),[e,a,t,o,i,n])}function qo(e){let t=e.target;for(;!((null==t?void 0:t.dataset.method)||t===e.currentTarget&&t);)t=t.parentElement;return t.dataset.method}function Vo({uniqueId:e,onClick:t,enter_method:i,enter_from:n,previous_page:o,shouldHandleDom:s}){const l=(0,a.P)(Yi.L,{selector:t=>{var i;const{appContext:n}=t;return(null==n?void 0:n.user)&&(null===(i=null==n?void 0:n.user)||void 0===i?void 0:i.uniqueId)===e},dependencies:[e]});return(0,r.useCallback)((e=>{var r;let a=i;s&&(a=null!==(r=qo(e))&&void 0!==r?r:i),null==t||t(e);const d={enter_method:a,page_name:null!=n?n:"homepage_message",enter_from:null!=n?n:"homepage_message",previous_page:null!=o?o:Rt.f.commonParams.page_name};l?No.q.handleEnterProfile(d):No.q.handleEnterUser(d)}),[i,s,t,l,n,o])}var Go=i(20559);const Ho=({theme:e})=>[(0,fe.zy)({theme:e,typography:"H6"}),fe.AB,{display:"flex",flexDirection:"row",padding:"10px 16px",alignItems:"flex-start",cursor:"pointer",":hover":{background:e.colors.BGView}}],Wo=(0,me.default)("div",{target:"exfus50"})(Ho,"label:DivItemContainer;"),$o=(0,me.default)(Fo.N_,{target:"exfus51"})(Ho,"label:LinkItemContainer;"),Ko=(0,me.default)("div",{target:"exfus52"})({position:"relative",width:"48px",height:"48px",flex:"0 0 48px"},"label:DivAvatarContainer;"),Zo=(0,me.default)(Go.e,{target:"exfus53"})((({size:e,multiple:t,theme:i})=>t?{position:"absolute",border:`1px solid ${i.colors.BGPrimary}`,background:i.colors.BGPrimary,boxSizing:"content-box",":first-of-type":{right:0,top:0},":last-of-type":{left:0,bottom:0}}:{flex:`0 0 ${e}px`}),"label:StyledAvatar;"),Qo=(0,me.default)(Dn.y,{target:"exfus54"})({alignSelf:"center",flex:"0 0 auto","& > svg":{marginRight:"6px"}},"label:StyledFollowButton;"),Yo=(0,me.default)("div",{target:"exfus55"})({flex:"0 0 42px",width:"42px",height:"56px",background:"center no-repeat",backgroundSize:"cover",borderRadius:"2px"},"label:DivVideoCover;"),Jo=(0,me.default)(Fo.N_,{target:"exfus56"})({flex:"0 0 42px",width:"42px",height:"56px",background:"center no-repeat",backgroundSize:"cover",borderRadius:"2px"},"label:StyledLinkVideoCover;"),Xo=(0,me.default)("div",{target:"exfus57"})({padding:"0 12px",flex:"1 1 auto"},"label:DivContentContainer;"),er=({theme:e})=>({fontWeight:e.fontWeights.semiBold,wordBreak:"break-all"}),tr=({theme:e})=>({fontWeight:e.fontWeights.semiBold,wordBreak:"break-all","&:focus":{outline:"none"},"&:focus-visible":{outline:`2px solid ${e.colors.Negative}`}}),ir=(0,me.default)("p",{target:"exfus58"})((0,fe.m4)(1),er,"label:PTitleText;"),nr=(0,me.default)("a",{target:"exfus59"})((0,fe.m4)(1),tr,"label:ATitleLink;"),or=(0,me.default)(Fo.N_,{target:"exfus510"})((0,fe.m4)(1),er,"label:StyledTitleTextLink;"),rr=(0,me.default)("p",{target:"exfus511"})((0,fe.m4)(7),(({theme:e})=>({color:e.colors.TextTertiary,maxHeight:130,wordBreak:"break-word"})),"label:PDescText;"),ar=(0,me.default)("span",{target:"exfus512"})((({theme:{colors:e}})=>({color:e.TextPrimary})),"label:SpanPrimary;"),sr=(0,me.default)(rr,{target:"exfus513"})((({theme:e})=>({position:"relative",paddingLeft:"8px",marginTop:"4px",lineClamp:1,WebkitLineClamp:1,"::before":{content:'""',position:"absolute",top:0,left:0,width:"2px",height:"100%",background:e.colors.LineSecondary}})),"label:StyledExtraText;"),lr=(0,me.default)("div",{target:"exfus514"})({marginTop:"8px"},"label:DivFollowReqButtonWrapper;"),dr=(0,me.default)(Dn.y,{target:"exfus515"})({display:"inline-flex",":not(:first-of-type)":{marginLeft:"8px"}},"label:StyledFollowReqButton;"),cr=(0,me.default)(Yn.N_,{target:"exfus516"})((({theme:e})=>({"&:focus":{outline:"none"},"&:focus-visible":{outline:`2px solid ${e.colors.Negative}`}})),"label:StyledLink;"),ur=(0,me.default)("div",{target:"exfus517"})([Ho,{alignItems:"center"}],"label:DivSystemNotifItemContainer;"),pr=(0,me.default)("div",{target:"exfus518"})([{minWidth:"48px",width:"48px",height:"48px",borderRadius:"24px",border:"1px solid rgba(22, 24, 35, 1)",backgroundColor:"rgba(22, 24, 35, 1)",display:"flex",justifyContent:"center",alignItems:"center"}],"label:DivSystemNotifIconContainer;"),hr=(0,me.default)("div",{target:"exfus519"})((({theme:{direction:e,colors:t}})=>[Object.assign(Object.assign({minWidth:"16px",width:"16px",height:"16px"},"rtl"===e&&{transform:"rotate(180deg)"}),{"> svg > path":{fill:t.TextTertiary}})]),"label:DivArrowContainer;"),gr=(0,me.default)("p",{target:"exfus520"})((0,fe.m4)(2),(({theme:e})=>({color:e.colors.TextTertiary,maxHeight:130,wordBreak:"break-word"})),"label:PSystemNotifDescText;"),_r=(0,me.default)("div",{target:"exfus521"})((({theme:e})=>({alignItems:"flex-start",backgroundColor:e.isDark?"rgba(54, 54, 54, 1)":"rgba(245, 245, 245, 1)",display:"flex",flexDirection:"column",borderRadius:"4px",margin:"0px 16px",marginBottom:"22px",padding:"16px",":hover":{cursor:"pointer"}})),"label:DivSystemNotifListItem;"),vr=(0,me.default)("div",{target:"exfus522"})({display:"flex",alignItems:"center"},"label:DivSystemNotifListItemHeader;"),mr=(0,me.default)("div",{target:"exfus523"})((({theme:e})=>({alignItems:"center",justifyContent:"center",display:"flex",borderRadius:"16px",border:"1px solid "+(e.isDark?"rgba(62, 62, 62, 1)":"rgba(232, 232, 232, 1)"),backgroundColor:e.isDark?"rgba(62, 62, 62, 1)":"rgba(232, 232, 232, 1)",color:e.colors.TextPrimary,minWidth:"32px",width:"32px",height:"32px",marginInlineEnd:"8px"})),"label:DivSystemNotifListItemHeaderIcon;"),fr=(0,me.default)("div",{target:"exfus524"})({marginTop:"8px",flex:1},"label:DivSystemNotifListItemBody;"),yr=(0,me.default)("hr",{target:"exfus525"})((({theme:e})=>({color:e.isDark?"rgb(255, 255, 255)":"rgb(22, 24, 35)",opacity:.1,borderTop:"1px solid",margin:"12px 0px 8px 0px",width:"100%"})),"label:HrDivider;"),br=(0,r.memo)((function({item:e,content:t}){var i,n;const{timeTranslator:r}=(0,no.T)(),{comment:a,create_time:s}=e,{comment_type:l,reply_comment:d}=a,c=(0,o.jsxs)(o.Fragment,{children:[" ",r(1e3*Number(s))]});return 2===l||11===l?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(rr,{"data-e2e":"inbox-content",children:[(0,o.jsx)(ar,{children:t}),c]}),(0,o.jsx)(sr,{children:`${null!==(n=null===(i=null==d?void 0:d.user)||void 0===i?void 0:i.nickname)&&void 0!==n?n:""}: ${null==d?void 0:d.text}`})]}):(0,o.jsxs)(rr,{"data-e2e":"inbox-content",children:[(0,o.jsx)(ar,{children:t}),c]})})),xr=(0,r.memo)((function({item:e}){var t;const{t:i}=(0,no.T)(),{user:n,content:r,itemHref:a,coverUrl:s,handleClickNotice:l,handleClickVideoCover:d}=(0,Po.g)({item:e}),c=(0,Ro.fJR)({uniqueId:null!==(t=null==n?void 0:n.uniqueId)&&void 0!==t?t:"",secUid:null==n?void 0:n.secUid}),u=Vo({uniqueId:null==n?void 0:n.uniqueId,onClick:Do.dG,enter_method:"click_head"}),p=Vo({uniqueId:null==n?void 0:n.uniqueId,onClick:Do.dG,enter_method:"click_name"});return n?(0,o.jsxs)(Wo,{"data-e2e":"inbox-list-item",onClick:l,children:[(0,o.jsx)(Fo.N_,{to:c,onClick:u,ariaLabel:i("accessibilityLabels_link_userProfile",{username:n.nickname}),children:(0,o.jsx)(Zo,{size:48,src:n.avatarThumb,multiple:!1,alt:""})}),(0,o.jsxs)(Xo,{children:[(0,o.jsx)(or,{"data-e2e":"inbox-title",to:c,onClick:p,children:n.nickname}),(0,o.jsx)(br,{item:e,user:n,content:r})]}),(0,o.jsx)(Fo.N_,{to:a,onClick:d,children:(0,o.jsx)(Yo,{style:{backgroundImage:`url(${s})`}})})]}):(0,Mo.d)(["user"])}));var Sr=i(1783),kr=i(46863);const wr=(0,r.memo)((function({item:e}){var t,i,n,a,s,l;const{t:d,timeTranslator:u}=(0,no.T)(),p=(0,Sr._u)(),h=(0,kr.nW)((t=>{var i;return t.users[null!==(i=e.duet.aweme.author.unique_id)&&void 0!==i?i:""]}),c.bN),g=p({uniqueId:null!==(t=null==h?void 0:h.uniqueId)&&void 0!==t?t:"",secUid:null==h?void 0:h.secUid,videoId:e.duet.aweme.aweme_id,isPhotomode:150===e.duet.aweme.aweme_type}),_=(0,Ro.fJR)({uniqueId:null!==(i=null==h?void 0:h.uniqueId)&&void 0!==i?i:"",secUid:null==h?void 0:h.secUid}),v=Vo({uniqueId:null==h?void 0:h.uniqueId,enter_method:"click_head"}),m=Vo({uniqueId:null==h?void 0:h.uniqueId,enter_method:"click_name"}),f=Uo({href:g,shouldUsePush:!0,beforeStart:function(e){const{vid:t,authorId:i}=e;return(0,r.useCallback)((()=>{No.q.handleEnterVideo({enter_method:"click_noti",group_id:t,to_group_id:t,to_author_id:i})}),[i,t])}({vid:e.duet.aweme.aweme_id,authorId:e.duet.aweme.author.uid})});return h?(0,o.jsxs)(Wo,{"data-e2e":"inbox-list-item",onClick:f,children:[(0,o.jsx)(Fo.N_,{to:_,onClick:v,ariaLabel:d("accessibilityLabels_link_userProfile",{username:h.nickname}),children:(0,o.jsx)(Zo,{size:48,src:h.avatarThumb,alt:""})}),(0,o.jsxs)(Xo,{children:[(0,o.jsx)(or,{"data-e2e":"inbox-title",to:_,onClick:m,children:h.nickname}),(0,o.jsxs)(rr,{"data-e2e":"inbox-content",children:[d("Inbox_created_a_duet_with_you").replace(/%(s|#)/g,"")," ",u(1e3*Number(e.create_time))]})]}),(0,o.jsx)(Yo,{style:{backgroundImage:`url(${null===(l=null===(s=null===(a=null===(n=e.duet.aweme)||void 0===n?void 0:n.video)||void 0===a?void 0:a.cover)||void 0===s?void 0:s.url_list)||void 0===l?void 0:l[0]})`}})]}):(0,Mo.d)(["user"])}));var Cr=i(83508);const jr=(0,r.memo)((function({item:e}){const{user:t,userHref:i,content:n,followButton:r,handleClickNotice:a}=(0,Cr.U)({item:e,isPopup:!1}),{t:s,timeTranslator:l}=(0,no.T)();if(!t)return(0,Mo.d)(["user"]);const d=l(1e3*Number(e.create_time));return(0,o.jsxs)(Wo,{"data-e2e":"inbox-list-item",onClick:a,children:[(0,o.jsx)(Go.e,{size:48,src:t.avatarThumb,style:{flex:"0 0 48px"},"data-method":"click_head",alt:""}),(0,o.jsxs)(Xo,{children:[(0,o.jsx)(nr,{"data-e2e":"inbox-title",href:i,onClick:Do.wo,"data-method":"click_name","aria-label":s("accessibilityLabels_link_userProfile",{username:t.nickname}),children:t.nickname}),(0,o.jsxs)(rr,{"data-e2e":"inbox-content",children:[n," ",d]})]}),r]})}));var Tr,Ir=i(31068);!function(e){e[e.Single=48]="Single",e[e.Multiple=36]="Multiple"}(Tr||(Tr={}));const Or=(0,r.memo)((function({users:e}){var t,i,n,r,a;const s=(0,p.s)(),l=Boolean(null==e?void 0:e[1]),d=Vo({uniqueId:null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.uniqueId,enter_method:"click_head"});if(!l){const{uniqueId:t="",secUid:r,nickname:a}=null!==(i=null==e?void 0:e[0])&&void 0!==i?i:{},l=(0,Ro.fJR)({uniqueId:t,secUid:r});return(0,o.jsx)(Ko,{onClick:Do.dG,children:(0,o.jsx)(cr,{to:l,onClick:d,"aria-label":s("accessibilityLabels_link_userProfile",{username:a}),children:(0,o.jsx)(Zo,{size:48,src:null===(n=null==e?void 0:e[0])||void 0===n?void 0:n.avatarThumb,alt:""})})})}return(0,o.jsxs)(Ko,{"data-e2e":"inbox-avatar-multiple",children:[(0,o.jsx)(Zo,{size:36,multiple:!0,src:null===(r=null==e?void 0:e[1])||void 0===r?void 0:r.avatarThumb,alt:""}),(0,o.jsx)(Zo,{size:36,multiple:!0,src:null===(a=null==e?void 0:e[0])||void 0===a?void 0:a.avatarThumb,alt:""})]})})),Lr=function({user:e}){const t=(0,p.s)(),i=Vo({uniqueId:null==e?void 0:e.uniqueId,enter_method:"click_name"});if(!e)return null;const{uniqueId:n,secUid:r,nickname:a}=e,s=(0,Ro.fJR)({uniqueId:n,secUid:r});return(0,o.jsx)(cr,{to:s,onClick:i,"aria-label":t("accessibilityLabels_link_userProfile",{username:a}),children:e.nickname})},Er=(0,r.memo)((function({item:e,content:t}){var i;const{timeTranslator:n}=(0,no.T)(),r=n(1e3*Number(e.create_time),!0);if(1===e.digg.digg_type)return(0,o.jsxs)(rr,{"data-e2e":"inbox-content",children:[t," ",r]});if(3===e.digg.digg_type){const{text:n,user:a}=null!==(i=e.digg.comment)&&void 0!==i?i:{};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(rr,{"data-e2e":"inbox-content",children:[t," ",r]}),(0,o.jsxs)(sr,{children:[null==a?void 0:a.nickname,": ",n]})]})}return null})),Ar=function({merge_count:e,users:t}){const i=(0,p.s)();return(null==t?void 0:t[1])?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Lr,{user:null==t?void 0:t[0]}),","," ",(0,o.jsx)(Lr,{user:null==t?void 0:t[1]}),"number"==typeof e&&e>2&&(0,o.jsxs)(o.Fragment,{children:[" ",i("Inbox_and")," ",i("Inbox_others").replace(/%d/,String(e-2))]})]}):(0,o.jsx)(Lr,{user:null==t?void 0:t[0]})},Pr=(0,r.memo)((function({item:e}){const{users:t,content:i,itemHref:n,coverUrl:r,handleClickNotice:a,handleClickVideoCover:s}=(0,Ir.w)({item:e});return(0,o.jsxs)(Wo,{"data-e2e":"inbox-list-item",onClick:a,children:[(0,o.jsx)(Or,{users:t}),(0,o.jsxs)(Xo,{children:[(0,o.jsx)(ir,{"data-e2e":"inbox-title",onClick:Do.dG,children:(0,o.jsx)(Ar,{users:t,merge_count:e.digg.merge_count})}),(0,o.jsx)(Er,{item:e,content:i})]}),(0,o.jsx)(Jo,{onClick:s,to:n,style:{backgroundImage:`url(${r})`}})]})}));var Rr=i(53519);const Dr=({item:e,content:t})=>{var i;const{timeTranslator:n}=(0,no.T)(),{create_time:r,at:a}=e,{sub_type:s,reply_comment:l}=a,d=(0,o.jsxs)(o.Fragment,{children:[" ",n(1e3*Number(r))]});return 1===s?(0,o.jsxs)(rr,{"data-e2e":"inbox-content",children:[t,d]}):2===s?(0,o.jsxs)(rr,{"data-e2e":"inbox-content",children:[(0,o.jsx)(ar,{children:t}),d]}):5===s?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(rr,{"data-e2e":"inbox-content",children:[(0,o.jsx)(ar,{children:t}),d]}),(0,o.jsx)(sr,{children:null!==(i=null==l?void 0:l.text)&&void 0!==i?i:""})]}):null},Mr=(0,r.memo)((function({item:e}){var t;const{t:i}=(0,no.T)(),{user:n,content:r,itemHref:a,coverUrl:s,handleClickNotice:l,handleClickVideoCover:d}=(0,Rr.h)({item:e}),c=(0,Ro.fJR)({uniqueId:null!==(t=null==n?void 0:n.uniqueId)&&void 0!==t?t:"",secUid:null==n?void 0:n.secUid}),u=Vo({uniqueId:null==n?void 0:n.uniqueId,onClick:Do.dG,enter_method:"click_head"}),p=Vo({uniqueId:null==n?void 0:n.uniqueId,onClick:Do.dG,enter_method:"click_name"});return n?(0,o.jsxs)(Wo,{"data-e2e":"inbox-list-item",onClick:l,children:[(0,o.jsx)(Fo.N_,{to:c,onClick:u,ariaLabel:i("accessibilityLabels_link_userProfile",{username:null==n?void 0:n.nickname}),children:(0,o.jsx)(Zo,{size:48,src:n.avatarThumb,alt:""})}),(0,o.jsxs)(Xo,{children:[(0,o.jsx)(or,{"data-e2e":"inbox-title",to:c,onClick:p,children:n.nickname}),(0,o.jsx)(Dr,{item:e,content:r})]}),(0,o.jsx)(Fo.N_,{to:a,onClick:d,children:(0,o.jsx)(Yo,{style:{backgroundImage:`url(${s})`}})})]}):(0,Mo.d)(["user"])}));var Fr,Nr=i(37332);!function(e){e[e.Single=48]="Single",e[e.Multiple=36]="Multiple"}(Fr||(Fr={}));const Br=(0,r.memo)((function({users:e}){var t,i,n,r,a;const s=(0,p.s)(),l=Boolean(e[1]),d=Vo({uniqueId:null===(t=e[0])||void 0===t?void 0:t.uniqueId,enter_method:"click_head"});if(!l){const{uniqueId:t="",secUid:r,nickname:a}=null!==(i=null==e?void 0:e[0])&&void 0!==i?i:{},l=(0,Ro.fJR)({uniqueId:t,secUid:r});return(0,o.jsx)(Ko,{onClick:Do.dG,children:(0,o.jsx)(cr,{to:l,onClick:d,"aria-label":s("accessibilityLabels_link_userProfile",{username:a}),children:(0,o.jsx)(Zo,{size:48,src:null===(n=e[0])||void 0===n?void 0:n.avatarThumb,alt:""})})})}return(0,o.jsxs)(Ko,{"data-e2e":"inbox-avatar-multiple",children:[(0,o.jsx)(Zo,{size:36,multiple:!0,src:null===(r=e[1])||void 0===r?void 0:r.avatarThumb,alt:""}),(0,o.jsx)(Zo,{size:36,multiple:!0,src:null===(a=e[0])||void 0===a?void 0:a.avatarThumb,alt:""})]})})),zr=function({user:e}){const t=(0,p.s)(),i=Vo({uniqueId:null==e?void 0:e.uniqueId,enter_method:"click_name"});if(!e)return null;const{uniqueId:n,secUid:r,nickname:a}=e,s=(0,Ro.fJR)({uniqueId:n,secUid:r});return(0,o.jsx)(cr,{to:s,onClick:i,"aria-label":t("accessibilityLabels_link_userProfile",{username:a}),children:e.nickname})},Ur=(0,r.memo)((function({item:e,content:t}){const{timeTranslator:i}=(0,no.T)(),n=i(1e3*Number(e.create_time),!0);return(0,o.jsxs)(rr,{"data-e2e":"inbox-content",children:[t," ",n]})})),qr=function({mergeCount:e,users:t}){const i=(0,p.s)();return t[1]?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(zr,{user:t[0]}),","," ",(0,o.jsx)(zr,{user:t[1]}),"number"==typeof e&&e>2&&(0,o.jsxs)(o.Fragment,{children:[" ",i("Inbox_and")," ",i("Inbox_others").replace(/%d/,String(e-2))]})]}):(0,o.jsx)(zr,{user:t[0]})},Vr=(0,r.memo)((function({item:e}){var t,i,n;const{users:r,content:a,itemHref:s,coverUrl:l,handleClickVideoCover:d}=(0,Nr.A)({item:e});return(0,o.jsxs)($o,{"data-e2e":"inbox-list-item",onClick:d,to:s,children:[(0,o.jsx)(Br,{users:r}),(0,o.jsxs)(Xo,{children:[(0,o.jsx)(ir,{"data-e2e":"inbox-title",onClick:Do.dG,children:(0,o.jsx)(qr,{users:r,mergeCount:null!==(n=null===(i=null===(t=e.template_notice.notice)||void 0===t?void 0:t.title)||void 0===i?void 0:i.merge_count)&&void 0!==n?n:0})}),(0,o.jsx)(Ur,{item:e,content:a})]}),l&&(0,o.jsx)(Jo,{onClick:d,to:s,style:{backgroundImage:`url(${l})`}})]})})),Gr=(0,r.memo)((function({item:e,onReportInboxClick:t}){return Ao.BS.isFollowNotice(e)?(0,o.jsx)(jr,{item:e}):Ao.BS.isLikeNotice(e)?(0,o.jsx)(Pr,{item:e}):Ao.BS.isCommentNotice(e)?(0,o.jsx)(xr,{item:e}):Ao.BS.isDuetNotice(e)?(0,o.jsx)(wr,{item:e}):Ao.BS.isMentionNotice(e)?(0,o.jsx)(Mr,{item:e}):Ao.BS.isReportInboxNotice(e)?(0,o.jsx)(Eo,{item:e,onClick:t}):Ao.BS.isRepostInboxNotice(e)?(0,o.jsx)(Vr,{item:e}):null}));var Hr,Wr=i(68079);function $r(){return $r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)({}).hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},$r.apply(null,arguments)}const Kr=function(e){return r.createElement("svg",$r({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 16",width:"1em",height:"1em"},e),Hr||(Hr=r.createElement("path",{fill:"white",d:"M14.24 0c.828 0 1.56.454 1.808 1.123l1.78 4.81c.113.307.172.63.172.955V14.4c0 .425-.2.832-.555 1.131-.355.3-.837.469-1.34.469H1.895c-.503 0-.985-.168-1.34-.469C.2 15.232 0 14.824 0 14.4V6.888c0-.325.059-.648.173-.955l1.78-4.81C2.202.455 2.934 0 3.762 0h10.478zm-.918 2.133H4.678c-.284 0-.54.15-.651.379l-.031.079-.982 3.16a.5.5 0 00.477.649h11.017a.5.5 0 00.478-.648l-.983-3.161c-.083-.27-.363-.457-.681-.458z"})))};var Zr=i(9139);const Qr=(0,r.memo)((function(e){var t,i;const n=(0,p.s)(),r=Zr.Sb[(0,Ao.G6)(e.systemNotif.type)],a=r?n(r.label):null;return a?(0,o.jsxs)(ur,{onClick:e.onClick,children:[(0,o.jsx)(pr,{children:(0,o.jsx)(Kr,{width:16,height:16})}),(0,o.jsxs)(Xo,{children:[(0,o.jsx)(ir,{children:n("system_notifications_inbox_header")}),(0,o.jsxs)(gr,{children:[a,": ",null===(i=null===(t=e.systemNotif.template_notice)||void 0===t?void 0:t.notice)||void 0===i?void 0:i.content]})]}),(0,o.jsx)(hr,{children:(0,o.jsx)(Wr.A,{style:{fontSize:16}})})]}):null})),Yr=(0,r.memo)((function({uniqueId:e}){var t;const i=(0,p.s)(),n=(0,kr.nW)((t=>t.users[e]),c.bN),s=(0,Ji.Cp)(),l=(0,r.useCallback)((t=>i=>{i.preventDefault(),i.stopPropagation(),s.postFollowReply({approveOrReject:t,uniqueId:e,uid:null==n?void 0:n.id})}),[s,e,null==n?void 0:n.id]),d=(0,r.useCallback)((t=>i=>{13!==i.keyCode&&32!==i.keyCode||(i.preventDefault(),i.stopPropagation(),s.postFollowReply({approveOrReject:t,uniqueId:e,uid:null==n?void 0:n.id}))}),[s,e,null==n?void 0:n.id]),u=(0,Ro.fJR)({uniqueId:null!==(t=null==n?void 0:n.uniqueId)&&void 0!==t?t:"",secUid:null==n?void 0:n.secUid}),h=Uo({href:u,shouldUsePush:!0,beforeStart:Vo({uniqueId:null==n?void 0:n.uniqueId,enter_method:"click_noti",enter_from:"follow_request_page",previous_page:"homepage_message",shouldHandleDom:!0})}),g=function({uniqueId:e,onKeyDown:t,enter_method:i,enter_from:n,previous_page:o,shouldHandleDom:s}){const l=(0,a.P)(Yi.L,{selector:t=>{var i;const{appContext:n}=t;return(null==n?void 0:n.user)&&(null===(i=null==n?void 0:n.user)||void 0===i?void 0:i.uniqueId)===e},dependencies:[e]});return(0,r.useCallback)((e=>{var r;let a=i;s&&(a=null!==(r=qo(e))&&void 0!==r?r:i),null==t||t(e);const d={enter_method:a,page_name:null!=n?n:"homepage_message",enter_from:null!=n?n:"homepage_message",previous_page:null!=o?o:Rt.f.commonParams.page_name};l?No.q.handleEnterProfile(d):No.q.handleEnterUser(d)}),[i,s,t,l,n,o])}({uniqueId:null==n?void 0:n.uniqueId,enter_method:"click_noti",enter_from:"follow_request_page",previous_page:"homepage_message",shouldHandleDom:!0}),_=function({beforeStart:e,href:t,shouldUsePush:i,state:n}){const o=(0,Bo.w)();return t=(0,zo.U)(t),(0,r.useCallback)((r=>{null==e||e(r),o(r,{href:t,shouldUsePush:i,state:n})}),[e,o,t,i,n])}({href:u,shouldUsePush:!0,beforeStart:g}),v=(0,r.useCallback)((e=>{13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),e.stopPropagation(),_(e))}),[_]);return n?(0,o.jsxs)(Wo,{"data-e2e":"inbox-list-item",onClick:h,onKeyDown:v,tabIndex:0,role:"listitem","aria-label":i("accessibilityLabels_link_userProfile",{username:n.nickname}),children:[(0,o.jsx)(Zo,{size:48,src:n.avatarThumb,"data-method":"click_head",alt:""}),(0,o.jsxs)(Xo,{children:[(0,o.jsx)(nr,{"data-e2e":"inbox-title",href:u,onClick:Do.wo,"data-method":"click_name",tabIndex:-1,"aria-label":i("accessibilityLabels_link_userProfile",{username:n.nickname}),children:n.uniqueId}),(0,o.jsx)(rr,{children:n.nickname}),(0,o.jsxs)(lr,{children:[(0,o.jsx)(dr,{size:"tiny",onClick:l(1),onKeyDown:d(1),"aria-label":i("delete"),children:i("delete")}),(0,o.jsx)(dr,{"data-e2e":"inbox-request-accept",size:"tiny",buttonTheme:"primary",onClick:l(0),onKeyDown:d(0),"aria-label":i("inbox_request_accept"),children:i("inbox_request_accept")})]})]})]}):(0,Mo.d)(["user"])}));var Jr=i(67643);const Xr=(0,me.default)("div",{target:"e11z9zg00"})({flex:"1 1 auto",overflow:"auto"},"label:DivInboxContentContainer;"),ea=(0,me.default)("p",{target:"e11z9zg01"})((({theme:e})=>(0,fe.zy)({theme:e,typography:"P3",fontWeight:"semiBold",color:"TextTertiary"})),{padding:"0 16px",marginTop:"8px"},"label:PTimeGroupTitle;"),ta=(0,me.default)(Fo.N_,{target:"e11z9zg02"})({display:"block",width:"54px",height:"72px",background:"center no-repeat",backgroundSize:"cover",borderRadius:"2px",margin:"auto"},"label:StyledAnchor;"),ia=(0,me.default)("p",{target:"e11z9zg03"})((({theme:e})=>(0,fe.zy)({theme:e,typography:"H6",color:"TextTertiary"})),fe.PR,{padding:"8px 48px 2px"},"label:PCommentText;"),na=(0,me.default)("div",{target:"e11z9zg04"})((({theme:{colors:e}})=>({height:"1px",background:e.LineSecondary,transform:"scaleY(0.5)",margin:"8px 16px"})),"label:DivSplit;"),oa=(0,me.default)("div",{target:"e11z9zg05"})({cursor:"pointer",display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"8px"},(({theme:{direction:e}})=>(0,fe.mp)({direction:e,marginStart:"16px",marginEnd:"auto"})),"label:DivBack;"),ra=(0,me.default)(Jr.A,{target:"e11z9zg06"})((({theme:{direction:e}})=>"ltr"===e?null:{transform:"rotate(180deg)"}),"label:StyledChevronLeftOffset;"),aa=(0,me.default)("div",{target:"e11z9zg07"})((({theme:e})=>(0,fe.zy)({theme:e,typography:"P3"})),{padding:"8px 24px 8px 16px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},"label:DivFollowReqEntranceContainer;"),sa=(0,me.default)("span",{target:"e11z9zg08"})({display:"flex",flexDirection:"row",alignItems:"center"},"label:SpanHintContainer;"),la=(0,me.default)("i",{target:"e11z9zg09"})((({theme:{colors:e,direction:t}})=>[{width:"8px",height:"8px",borderRadius:"8px",background:e.Primary},(0,fe.mp)({direction:t,marginEnd:"8px"})]),"label:IDot;"),da=(0,me.default)("span",{target:"e11z9zg010"})((({theme:{colors:e,direction:t}})=>[{color:e.TextTertiary,marginRight:"8px"},(0,fe.mp)({direction:t,marginEnd:"8px"})]),"label:SpanHintText;"),ca=(0,me.default)("ul",{target:"e11z9zg011"})({padding:0,margin:0,listStyleType:"none"},"label:UlInboxItemListContainer;"),ua=(0,me.default)("li",{target:"e11z9zg012"})({padding:0,margin:0,listStyleType:"none"},"label:LiInboxItemWrapper;"),pa=(0,r.memo)((function(e){const t=(0,p.s)(),i=(0,r.useMemo)((()=>t("Back")),[t]);return(0,o.jsxs)(oa,{"data-e2e":"inbox-second-back",onClick:e.onClickBack,onKeyDown:e.onBackKeyDown,tabIndex:0,role:"button","aria-label":i,children:[(0,o.jsx)(Jr.A,{}),(0,o.jsx)("span",{children:i})]})})),ha=(0,r.memo)((function(e){const{item:t}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(pa,{onClickBack:e.onClickBack,onBackKeyDown:e.onBackKeyDown}),(0,o.jsx)(Xr,{"data-e2e":"inbox-list",role:"list",children:t.users.map((e=>(0,o.jsx)(Yr,{uniqueId:e},e)))})]})}));var ga=i(14e3);const _a=(0,r.memo)((function(e){const{total:t}=e,i=(0,p.s)(),{colors:n}=(0,bo.u)();return(0,o.jsxs)(aa,{"data-e2e":"inbox-follow-request",onClick:e.onClick,onKeyDown:e.onKeyDown,tabIndex:0,role:"button","aria-labelledby":"inbox-follow-req-entrance-header",children:[(0,o.jsx)("h4",{id:"inbox-follow-req-entrance-header",children:i("Inbox_Follow_requests")}),(0,o.jsxs)(sa,{children:[(0,o.jsx)(la,{}),(0,o.jsx)(da,{children:t}),(0,o.jsx)(ga.A,{fill:n.TextTertiary,width:12,height:12})]})]})}));var va=i(35214),ma=i(54353);const fa=(0,r.memo)((function({uniqueId:e}){var t;const i=(0,p.s)(),n=(0,kr.nW)((t=>t.users[e]),c.bN),{handleFollow:a,isFollowing:s,text:l,relation:d}=(0,ma.Tu)({uniqueId:e,prevent:!0,teaParams:{enter_from:"homepage_message"}}),u=(0,r.useCallback)((e=>{13!==e.keyCode&&32!==e.keyCode||a(e)}),[a]),h=(0,Ro.fJR)({uniqueId:null!==(t=null==n?void 0:n.uniqueId)&&void 0!==t?t:"",secUid:null==n?void 0:n.secUid}),g=Uo({href:h,shouldUsePush:!0,beforeStart:Vo({uniqueId:e,enter_method:"click_noti",shouldHandleDom:!0})});return n?(0,o.jsxs)(Wo,{"data-e2e":"inbox-list-item",onClick:g,children:[(0,o.jsx)(Zo,{size:48,src:n.avatarThumb,"data-method":"click_head",alt:""}),(0,o.jsxs)(Xo,{children:[(0,o.jsx)(nr,{"data-e2e":"inbox-title",href:h,onClick:Do.wo,"data-method":"click_name","aria-label":i("accessibilityLabels_link_userProfile",{username:n.nickname}),children:n.uniqueId}),(0,o.jsx)(rr,{"data-e2e":"inbox-content",children:n.nickname})]}),(0,o.jsxs)(Qo,{onClick:a,onKeyDown:u,size:"tiny",buttonTheme:s?"default":"primary",children:[2===d?(0,o.jsx)(va.A,{}):null,l]})]}):(0,Mo.d)(["user"])})),ya=(0,r.memo)((function(e){var t,i,n;const{item:a}=e,s=(0,p.s)(),l=(0,Sr._u)(),[{loading:d,users:u},h]=(0,Ji.P4)((e=>e.diggList),c.bN);(0,r.useEffect)((()=>{var e,t;return h.fetchDiggListData({ref_id:null!==(t=null===(e=a.digg.comment)||void 0===e?void 0:e.cid)&&void 0!==t?t:a.digg.aweme.aweme_id}),()=>{h.setDiggList([]),h.setDiggListLoading(!1)}}),[h,a.digg.aweme.aweme_id,null===(t=a.digg.comment)||void 0===t?void 0:t.cid]);const g=(0,r.useCallback)((()=>d&&!u.length?(0,o.jsx)(A.R,{size:"small",center:!0}):u.map((e=>(0,o.jsx)(fa,{uniqueId:e},e)))),[d,u]),_=l(a),v=(0,zo.U)(_),m=(0,r.useCallback)((()=>{location.href=v}),[v]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(oa,{"data-e2e":"inbox-second-back",onClick:e.onClickBack,onKeyDown:e.onBackKeyDown,tabIndex:0,role:"button","aria-label":s("Back"),children:[(0,o.jsx)(ra,{}),(0,o.jsx)("span",{children:s("Back")})]}),(0,o.jsxs)(Xr,{"data-e2e":"inbox-list",children:[(0,o.jsx)(ta,{to:v,style:{backgroundImage:`url(${null===(i=a.digg.aweme.video.cover.url_list)||void 0===i?void 0:i[0]})`},onClick:m}),(null===(n=a.digg.comment)||void 0===n?void 0:n.text)&&(0,o.jsx)(ia,{children:a.digg.comment.text}),(0,o.jsx)(na,{}),g()]})]})}));var ba;!function(e){e[e.New=0]="New",e[e.Today=1]="Today",e[e.Yesterday=2]="Yesterday",e[e.ThisWeek=3]="ThisWeek",e[e.ThisMonth=4]="ThisMonth",e[e.Previous=5]="Previous"}(ba||(ba={}));const xa={0:"Inbox_New",1:"Inbox_Today",2:"Inbox_Yesterday",3:"Inbox_This_Week",4:"Inbox_This_Month",5:"Inbox_Previous"},Sa=[0,1,6,(new Date).getDate()].map((e=>function(e=0){return(new Date).setHours(0,0,0,0)/1e3-86400*e}(e))),ka=e=>{if(!e||!e.has_read)return 0;const t=Sa.findIndex((t=>t<e.create_time));return-1===t?5:t+1},wa=(0,r.memo)((function({item:e,activeGroup:t,reportInboxList:i,onReportInboxClick:n,systemNotifItem:a,onSystemNotifItemClick:l}){var c,u;const h=(0,p.s)(),g=i[0],_=(0,s.Nj)(d.b),{isRepostNoticeEnabled:v}=(0,Qi.hn)(),m=(0,r.useMemo)((()=>{var i;let n=(null!==(i=e.notice_list)&&void 0!==i?i:[]).slice();if(v||(n=n.filter((e=>!Ao.BS.isRepostInboxNotice(e)))),500!==t||!g)return n;const o=ka(g),r=n;for(let e=0;e<r.length;e++){const t=r[e],i=ka(t);if(0===o&&0!==i)return r.splice(e,0,g),r;if(g.create_time>t.create_time)return r.splice(e,0,g),r}return r.push(g),r}),[t,g,e.notice_list]),f=a&&500===t,y=f?(0,o.jsx)(Qr,{systemNotif:a,onClick:l}):null;(0,r.useEffect)((()=>{f&&_.handleSystemNotificationShow()}),[_,f]);let b=ka(null==m?void 0:m[0]);const x=(0,r.useMemo)((()=>{const e=[];let t=0;if(null==m||m.map(((i,n)=>{if(0===n||0===b&&i.has_read||i.create_time<Sa[b-1]){if(b=ka(i),0!==n){const i=m.slice(t,n);e.push(i)}t=n}return i})),t<m.length){const i=m.slice(t);e.push(i)}if(f){const t=ka(a),i=Object.assign(Object.assign({},a),{isSystemNotif:!0});for(let n=0;n<e.length;n++){const o=e[n];if(t===ka(o[0])){o.splice(0,0,i);break}if(a.create_time>o[0].create_time){e.splice(n,0,[i]);break}if(n===e.length-1&&a.create_time<o[0].create_time){e.push([i]);break}}0===e.length&&e.push([i])}return e}),[b,m,f]);return e.loading&&!(null===(c=e.notice_list)||void 0===c?void 0:c.length)?(0,o.jsx)(A.R,{center:!0,size:"small"}):x.length?(0,o.jsx)(o.Fragment,{children:null===(u=null!=x?x:[])||void 0===u?void 0:u.map((e=>{const t=ka(e[0]),i=(0,o.jsx)(ea,{children:h(xa[t])});return(0,o.jsxs)(r.Fragment,{children:[i,(0,o.jsx)(ca,{children:e.map((e=>{const t="nid_str"in e?e.nid_str:e.nid;return!0===e.isSystemNotif?(0,o.jsx)(ua,{children:y},t):(0,o.jsx)(ua,{children:(0,o.jsx)(Gr,{item:e,onReportInboxClick:n})},t)}))})]},t)}))}):(0,o.jsx)(Lo,{type:t})})),Ca=(0,r.memo)((function(e){var t;const{activeGroup:i,item:n,systemNotifItem:a,reportInboxList:u,followItem:p,showFollow:h,onFollowChange:g,onHitBottom:_,onReportInboxClick:v,onSystemNotifItemClick:m}=e,f=(0,s.Nj)(d.b),[y,{setExpandedLikeItem:b}]=(0,l.nG)((e=>e.expandedLikeItem),c.bN),x=(0,r.useCallback)((()=>{b(null)}),[b]),S=(0,r.useCallback)((e=>{13!==e.keyCode&&32!==e.keyCode||b(null)}),[b]),k=(0,r.useRef)(null);yo({elementRef:k,onHitBottom:_,threshold:100});const w=(0,r.useCallback)((()=>{g(!1)}),[g]),C=(0,r.useCallback)((e=>{13!==e.keyCode&&32!==e.keyCode||g(!1)}),[g]),j=(0,r.useCallback)((()=>{g(!0),f.handleEnterFollow({request_cnt:Number(p.total)})}),[p.total,g,f]),T=(0,r.useCallback)((e=>{13!==e.keyCode&&32!==e.keyCode||j()}),[j]),I=(0,Ao.Bl)();return y?(0,o.jsx)(ya,{item:y,onClickBack:x,onBackKeyDown:S}):h?(0,o.jsx)(ha,{onClickBack:w,onBackKeyDown:C,item:p}):(0,o.jsxs)(Xr,{"data-e2e":"inbox-list",id:"header-inbox-list",ref:k,tabIndex:0,role:"tabpanel","aria-labelledby":`inbox-tab-${I.indexOf(i)}`,children:[500===i&&Boolean(p.total)&&(0,o.jsx)(_a,{onClick:j,onKeyDown:T,total:p.total}),(0,o.jsx)(wa,{item:n,reportInboxList:u,activeGroup:i,onReportInboxClick:v,systemNotifItem:a,onSystemNotifItemClick:m}),Boolean(null===(t=n.notice_list)||void 0===t?void 0:t.length)&&n.loading&&(0,o.jsx)(A.R,{center:!0,size:"small"})]})})),ja=(0,me.default)("div",{target:"e1bp8k4k0"})((({theme:{direction:e}})=>[{paddingTop:"24px",flex:"0 0 auto"},(0,fe.mp)({direction:e,paddingStart:"16px"})]),"label:DivInboxHeaderContainer;"),Ta=(0,me.default)("h2",{target:"e1bp8k4k1"})([({theme:e})=>(0,fe.zy)({theme:e,fontFamily:"TikTokDisplayFont",fontWeight:"bold",typography:"H4",color:"TextPrimary"}),({clickable:e=!1})=>({":hover":{cursor:e?"pointer":"auto"}}),{display:"flex"}],"label:H2InboxTitle;"),Ia=(0,me.default)("div",{target:"e1bp8k4k2"})({marginInlineEnd:"22px"},"label:DivTitleIconContainer;"),Oa=(0,me.default)("div",{target:"e1bp8k4k3"})((({theme:e})=>(0,fe.zy)({theme:e,fontFamily:"TikTokFont",fontWeight:"semiBold",typography:"P3",color:"TextPrimary"})),{marginTop:"16px",display:"flex",flexDirection:"row",flexWrap:"wrap"},"label:DivGroupContainer;"),La=e=>({0:{color:e.TextPrimary,background:e.BGPlaceholderDefault,":hover":{background:e.ShadowPrimary}},1:{color:e.BGPrimary,background:e.TextPrimary}}),Ea=(0,me.default)("button",{target:"e1bp8k4k4"})((({theme:{colors:e,direction:t},active:i})=>[La(e)[Number(i)],{":not(:last-child)":[(0,fe.mp)({direction:t,marginEnd:"8px"})]},{border:"none",padding:"2px 8px",marginBottom:"12px",textAlign:"center",cursor:"pointer",borderRadius:"12px",transition:"all 300ms"}]),"label:ButtonGroupItem;"),Aa={500:"Inbox_All",3:"Inbox_Likes",505:"Inbox_Likes",2:"Inbox_Comments",6:"Inbox_Mentions",7:"Followers"},Pa=["all","likes","comments","mentions","followers"],Ra=(0,r.memo)((0,r.forwardRef)((({value:e,onChange:t,onKeyDown:i},n)=>{const a=(0,p.s)(),s=(0,r.useCallback)((e=>()=>{t(e)}),[t]),l=(0,r.useRef)(null),d=(0,Ao.Bl)(),c=(0,r.useCallback)((e=>{var t,i;null===(i=null===(t=l.current)||void 0===t?void 0:t.children[d.indexOf(e)])||void 0===i||i.focus()}),[]);return(0,r.useImperativeHandle)(n,(()=>({setFocus:c}))),(0,o.jsxs)(ja,{children:[(0,o.jsx)(Ta,{id:"header-inbox-title",children:a("Inbox_Notifications")}),(0,o.jsx)(Oa,{"data-e2e":"inbox-bar",id:"header-inbox-bar",onKeyDown:i,ref:l,role:"tablist","aria-labelledby":"header-inbox-title",children:d.map(((t,i)=>(0,o.jsx)(Ea,{"data-e2e":Pa[i],id:`inbox-tab-${i}`,active:t===e,tabIndex:t===e?0:-1,onClick:s(t),role:"tab","aria-selected":t===e,"aria-controls":"header-inbox-list",children:a(Aa[t])},t)))})]})}))),Da=(0,me.default)("div",{target:"e32s1fi0"})({height:"100%",display:"flex",flexDirection:"column"},"label:DivInboxContainer;");var Ma=i(78030),Fa=i(45372),Na=i.n(Fa),Ba=i(30367),za=i(52075),Ua=i(24318),qa=i(61297),Va=i(24742),Ga=i(52141);const Ha=(0,r.memo)((function(e){const{iconLanguage:t,iconConfig:i}=(0,r.useMemo)((()=>(0,Va.w4)(e)),[e]),{region:n=""}=e,a=(0,p.s)()("add_windows_store_badge_download_app_stores"),s=(0,r.useCallback)((e=>{Ua.jA.handleClickAppStore(e)}),[]);return(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(Ga.Rv,{children:a}),(0,o.jsx)(Ga.h5,{region:n,children:i.map((({alt:e,href:i,platform:n})=>(0,o.jsx)(Ga.OS,{href:i,target:"_blank",rel:"nofollow noopener noreferrer",onClick:s.bind(null,n),children:(0,o.jsx)(Ga.j5,{src:"microsoft"===n?(0,Ga.ZR)(t):qa,platform:n,alt:e,lang:t})},n)))})]})}));var Wa=i(71293),$a=i(43065),Ka=i(34088),Za=i(5957),Qa=i(89322);const Ya=(0,me.default)("div",{target:"eamnwhk0"})({textAlign:"center",maxWidth:"400px"},"label:DivLargeContentContainer;"),Ja=(0,me.default)("div",{target:"eamnwhk1"})((({theme:{direction:e,colors:t}})=>[{borderBottom:`0.5px solid ${t.LinePrimary}`,paddingTop:"24px",paddingBottom:"16px",maxWidth:"400px"},(0,fe.mp)({direction:e,paddingStart:"24px",paddingEnd:"48px"})]),"label:DivModalHeader;"),Xa=(0,me.default)("p",{target:"eamnwhk2"})((({theme:e})=>(0,fe.zy)({theme:e,typography:"P0",fontWeight:"bold"})),"label:PTitle;"),es=(0,me.default)("p",{target:"eamnwhk3"})((({theme:e})=>(0,fe.zy)({theme:e,typography:"P1",fontWeight:"semiBold"})),{margin:"32px 0 24px 0",width:"auto",padding:"0 24px"},"label:PSubTitle;"),ts=(0,me.default)("div",{target:"eamnwhk4"})({position:"relative",display:"flex",flexDirection:"column",alignItems:"center"},"label:DivQRContainer;"),is=(0,me.default)("div",{target:"eamnwhk5"})((({showDownloadOptions:e})=>[{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",margin:e?"":"0 0 47px 0"}]),"label:DivQRContentContainer;"),ns=(0,me.default)(Qa.A,{target:"eamnwhk6"})({display:"block"},"label:StyledQrBg;"),os=(0,me.default)("div",{target:"eamnwhk7"})({position:"absolute",width:"174px",height:"174px",left:"50%",top:"50%",transform:"translate(-50%, -50%)",borderRadius:"4px",overflow:"hidden"},"label:DivQRCodeWrapper;"),rs=(0,me.default)("img",{target:"eamnwhk8"})({width:"100%"},"label:ImgQRCode;"),as=(0,me.default)("div",{target:"eamnwhk13"})({display:"flex",flexDirection:"column",alignItems:"center",width:"400px",padding:"24px 24px 60px 24px"},"label:DivDownloadLContainer;"),ss=(0,me.default)("div",{target:"eamnwhk14"})((({theme:{direction:e}})=>[{position:"absolute",top:"24px",borderRadius:"50%",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1,width:"24px",height:"24px"},(0,fe.mp)({direction:e,end:"24px"})]),"label:DivCloseWrapper;"),ls=(0,r.memo)((function({appType:e,text:t,style:i={}}){const n="t"===e?Ka:$a;return(0,o.jsxs)(ts,{style:i,children:[(0,o.jsx)(ns,{width:"176",height:"176"}),(0,o.jsx)(os,{children:t?(0,o.jsx)(Za.U,{size:174,value:t}):(0,o.jsx)(rs,{src:n})})]})})),ds=(0,r.memo)((function(e){var t,i;const{visible:n,qrCodeText:s,onClose:l=Na(),showAppStores:d=!0}=e,c=(0,p.s)(),u=null!==(t=e.title)&&void 0!==t?t:c("add_windows_store_badge_get_tiktok_app"),h=null!==(i=e.subTitle)&&void 0!==i?i:c("add_windows_store_badge_scan_qr"),{region:g,appType:_,lang:v}=(0,a.P)(Yi.L,{selector:e=>{var t,i;return{region:null===(t=e.appContext)||void 0===t?void 0:t.region,lang:e.lang,appType:null===(i=e.appContext)||void 0===i?void 0:i.appType}},dependencies:[]}),m=(0,a.P)(Wa.$,{selector:e=>{var t,i,n,o;return{isIOS:null===(t=e.bizContext)||void 0===t?void 0:t.isIOS,isAndroid:null===(i=e.bizContext)||void 0===i?void 0:i.isAndroid,downloadLink:null!==(o=null===(n=e.bizContext)||void 0===n?void 0:n.downloadLink)&&void 0!==o?o:{}}},dependencies:[]}),f=(0,r.useMemo)((()=>Object.assign({lang:v},m)),[v,m]);return(0,o.jsxs)(za.i,{isOpen:n,onClose:l,compact:!0,closeOnBackdropClick:!0,closeOnEsc:!0,children:[(0,o.jsxs)(Ja,{children:[(0,o.jsx)(ss,{onClick:l,children:(0,o.jsx)(Ba.A,{width:24,height:24})}),(0,o.jsx)(Xa,{children:u})]}),(0,o.jsxs)(Ya,{children:[(0,o.jsxs)(is,{showDownloadOptions:d,children:[(0,o.jsx)(es,{children:h}),(0,o.jsx)(ls,{appType:_,text:s})]}),d&&(0,o.jsx)(as,{children:(0,o.jsx)(Ha,Object.assign({},f,{region:g}))})]})]})}));var cs=i(8433),us=i.n(cs);function ps(e){const t=(e=>{const t=(e||location.href).split("?")[1]||"";if(t){const e=t.split("&"),i={};for(let t=0;t<e.length;t++){const n=e[t].split("=");if(n.length>=2){const e=n.shift();e&&(i[e]=decodeURIComponent(n.join("=")))}}return i}return{}})(new URL(e).search);return function(e){const t={};for(const i in e)t[i]=us()(e[i]);return t}(t)}let hs=class{constructor(e){this.fetch=e}getReportDetail(e){return this.fetch.get("/bi/notification/reporter/record",{query:e,baseUrlType:2})}};hs=(0,P.Cg)([(0,ee._)(),(0,P.Sn)("design:paramtypes",[te.pM])],hs);let gs=class extends R.E{constructor(e,t){super(),this.service=e,this.t=t,this.defaultState={visible:!1,violationAppealInfo:{},reportDetail:{isLoading:!1,data:null}}}setVisible(e,t){e.visible=t}setAppealInfoAndShow(e,t){const{url:i}=t,n=ps(decodeURIComponent(i));e.reportDetail.data=null,e.violationAppealInfo=n,e.visible=!0}setReportDetailLoading(e,t){e.reportDetail.isLoading=t}setReportDetail(e,t){e.reportDetail.data=t}getLogoutReportDetail(e){return e.pipe((0,z.p)((({reportId:e})=>this.service.getReportDetail({report_id:e}).pipe((0,H.Z)((e=>(null==e?void 0:e.link_status)?(0,N.of)(this.getActions().setReportDetail(e),this.getActions().setVisible(!0)):(0,N.of)(this.noop()))),(0,q.Z)(this.getActions().setReportDetailLoading(!0)),(0,V.q)(this.getActions().setReportDetailLoading(!1)),(0,W.n)({callback:this.commonToastError})))))}commonToastError(){L.F.destroy(),L.F.open({content:this.t(K.z$),duration:3,widthType:"half"})}};(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Boolean]),(0,P.Sn)("design:returntype",void 0)],gs.prototype,"setVisible",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Object]),(0,P.Sn)("design:returntype",void 0)],gs.prototype,"setAppealInfoAndShow",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Boolean]),(0,P.Sn)("design:returntype",void 0)],gs.prototype,"setReportDetailLoading",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Object]),(0,P.Sn)("design:returntype",void 0)],gs.prototype,"setReportDetail",null),(0,P.Cg)([(0,D.Mj)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[B.c]),(0,P.Sn)("design:returntype",void 0)],gs.prototype,"getLogoutReportDetail",null),gs=(0,P.Cg)([(0,M.n)("AdViolationAppealModal"),(0,P.Qj)(1,(0,F.y)($.hp)),(0,P.Sn)("design:paramtypes",[hs,Function])],gs);var _s,vs=i(59158),ms=i(94488),fs=i(73471);!function(e){e.AdReasonGet="ads_report_subcategory_list_show",e.AdReasonSelect="ads_report_subcategory_list_click",e.AdEditPageView="ads_report_subcategory_detail_show",e.Report="report"}(_s||(_s={}));var ys=i(70853),bs=i(90064);let xs=class{constructor(e){this.fetch=e}getReportReasons(e){return this.fetch.get("/api/ad/v1/report/",{query:Object.assign({origin:"tiktok_web",report_ad_type:4},e),baseUrlType:2,headers:{[bs.nk]:this.fetch.csrfToken}})}postReport(e,t){return this.fetch.post("/api/ad/v1/report/feedback/",{body:(0,Jn.stringify)(Object.assign({},e)),query:t,baseUrlType:2,headers:{[bs.nk]:this.fetch.csrfToken}})}uploadImage(e){const t=new FormData;return t.append("file",e),t.append("source","0"),this.fetch.post("/api/upload/image/",{body:t,baseUrlType:2,headers:{[bs.nk]:this.fetch.csrfToken},omitContentType:!0})}getTustedFlaggerState(){return this.fetch.get("/trusted_flagger/check/v1",{})}unbindTrustedFlagger(){return this.fetch.delete("/trusted_flagger/unbind/v1",{})}};var Ss,ks;xs=(0,P.Cg)([(0,ee._)(),(0,P.Sn)("design:paramtypes",[te.pM])],xs),function(e){e[e.Spam=6]="Spam",e[e.OffensiveContent=4]="OffensiveContent",e[e.SexuallyInappropriate=7]="SexuallyInappropriate",e[e.Violence=3]="Violence",e[e.IntellectualPropertyInfringementOld=8]="IntellectualPropertyInfringementOld",e[e.Misleading=9]="Misleading",e[e.FraudOrScam=10]="FraudOrScam",e[e.DangerousGoodsOrServices=11]="DangerousGoodsOrServices",e[e.Others=14]="Others",e[e.MinorsToPurchase=15]="MinorsToPurchase",e[e.ChildSexualExploitation=17]="ChildSexualExploitation",e[e.ReportIllegalContent=16]="ReportIllegalContent",e[e.ContentIsChildSexualAbuseMaterial=18]="ContentIsChildSexualAbuseMaterial",e[e.OfferingToSupplyChildSexAbuseMaterial=19]="OfferingToSupplyChildSexAbuseMaterial",e[e.ContentRelatesToGroomingOrSexualSolicitationOfAChild=20]="ContentRelatesToGroomingOrSexualSolicitationOfAChild",e[e.TerroristOffences=21]="TerroristOffences",e[e.ProvocationToCommitTerroristOffence=22]="ProvocationToCommitTerroristOffence",e[e.ContentRelatingToSupportFoTerrorism=23]="ContentRelatingToSupportFoTerrorism",e[e.InstructionsOnHowToMakeExplosives=24]="InstructionsOnHowToMakeExplosives",e[e.IllegalHateSpeech=25]="IllegalHateSpeech",e[e.ContentRelatingToViolent=26]="ContentRelatingToViolent",e[e.DepictionsOfGraphicViolence=27]="DepictionsOfGraphicViolence",e[e.ParticipationInOrganisedCriminalOrganization=28]="ParticipationInOrganisedCriminalOrganization",e[e.IllegalRrivacyRelatedViolations=29]="IllegalRrivacyRelatedViolations",e[e.ImageBasedPrivacyViolations=30]="ImageBasedPrivacyViolations",e[e.IllegalImpersonation=31]="IllegalImpersonation",e[e.OtherIllegalPrivacyViolations=32]="OtherIllegalPrivacyViolations",e[e.NonConsensualSharingOfPrivateImages=33]="NonConsensualSharingOfPrivateImages",e[e.IllegalGoods=34]="IllegalGoods",e[e.ContentRelatedToHumanTrafficking=35]="ContentRelatedToHumanTrafficking",e[e.PromotionOfProstitution=36]="PromotionOfProstitution",e[e.ProductionIllegalDrugs=37]="ProductionIllegalDrugs",e[e.ContentThatPromotesThePoaching=38]="ContentThatPromotesThePoaching",e[e.IllicitArmsTrafficking=39]="IllicitArmsTrafficking",e[e.HarrassmentOrThreats=40]="HarrassmentOrThreats",e[e.Defamation=41]="Defamation",e[e.ConsumerRelatedOffences=42]="ConsumerRelatedOffences",e[e.BreachOfConsumerLaw=43]="BreachOfConsumerLaw",e[e.UnsafeProducts=44]="UnsafeProducts",e[e.InformationRelatedOffences=45]="InformationRelatedOffences",e[e.CriminalMisinformation=46]="CriminalMisinformation",e[e.ContemptOfCourt=47]="ContemptOfCourt",e[e.InstructionsInRelationToSuicide=48]="InstructionsInRelationToSuicide",e[e.FinancialCrime=49]="FinancialCrime",e[e.Fraud=50]="Fraud",e[e.MoneyLaundering=51]="MoneyLaundering",e[e.Extortion=52]="Extortion",e[e.NationalSecurityRelatedOffences=53]="NationalSecurityRelatedOffences",e[e.NationalSecurityRelatedCrimes=54]="NationalSecurityRelatedCrimes",e[e.OtherIllegalContent=55]="OtherIllegalContent",e[e.PoliticalContent=56]="PoliticalContent",e[e.IntellectualPropertyInfringementNew=57]="IntellectualPropertyInfringementNew",e[e.AISynthetic=58]="AISynthetic",e[e.HateSpeechAndDiscrimination=59]="HateSpeechAndDiscrimination",e[e.ChildrenRelatedOffensiveContent=60]="ChildrenRelatedOffensiveContent"}(Ss||(Ss={})),function(e){e[e.Spam=6]="Spam",e[e.FraudOrScam=10]="FraudOrScam",e[e.Misleading=9]="Misleading",e[e.SexuallyInappropriate=7]="SexuallyInappropriate",e.ProhibitedOrInfringing="ProhibitedOrInfringing",e.IPInfringement="IPInfringement",e.IPInfringementRightOwner="IPInfringementRightOwner",e.ProhibitedOrViolence="ProhibitedOrViolence",e[e.Offensive=4]="Offensive",e[e.ReportIllegalContent=16]="ReportIllegalContent",e[e.Others=14]="Others"}(ks||(ks={}));const ws=encodeURIComponent("https://www.tiktok.com/falcon/ad_report/page/submit_ad/index.html"),Cs={app_id:1988,aid:1988,app_name:"tiktok_web",device_id:0,device_platform:"tiktok_web",device_type:"tiktok_web"};var js;!function(e){e[e.Reason=0]="Reason",e[e.Normal=1]="Normal",e[e.DSASubmit=2]="DSASubmit",e[e.ChooseCountry=3]="ChooseCountry"}(js||(js={}));let Ts=class extends R.E{constructor(e,t){var i;super(),this.service=e,this.t=t,this.defaultState={reasons:null,showing:!1,loading:!1,requesting:void 0,reportTarget:null,lastStatus:"",PageState:0,PageStateData:void 0,PreState:[],UserData:{selectedReason:void 0,submitresult:void 0,HistoryReason:[]},blockedVideos:[],submitCallback:void 0,choosenDSACountry:void 0,DSACountriesList:(i=this.t,[{code:"AT",desc:i("region_at")},{code:"BE",desc:i("region_be")},{code:"BG",desc:i("region_bg")},{code:"HR",desc:i("region_hr")},{code:"CY",desc:i("region_cy")},{code:"CZ",desc:i("region_cz")},{code:"DK",desc:i("region_dk")},{code:"EE",desc:i("region_ee")},{code:"FI",desc:i("region_fi")},{code:"FR",desc:i("region_fr")},{code:"DE",desc:i("region_de")},{code:"GR",desc:i("region_gr")},{code:"HU",desc:i("region_hu")},{code:"IS",desc:i("region_is")},{code:"IE",desc:i("region_ie")},{code:"IT",desc:i("region_it")},{code:"LV",desc:i("region_lv")},{code:"LI",desc:i("region_li")},{code:"LT",desc:i("region_lt")},{code:"LU",desc:i("region_lu")},{code:"MT",desc:i("region_mt")},{code:"NL",desc:i("region_nl")},{code:"NO",desc:i("region_no")},{code:"PL",desc:i("region_pl")},{code:"PT",desc:i("region_pt")},{code:"RO",desc:i("region_ro")},{code:"SK",desc:i("region_sk")},{code:"SI",desc:i("region_si")},{code:"ES",desc:i("region_es")},{code:"SE",desc:i("region_se")}]),isRereport:!1,rereportQuery:{}}}setIsRereport(e,t){e.isRereport=t}setRereportQuery(e,t){e.rereportQuery=t}setSubmitCallback(e,t){e.submitCallback=t}setChoosenDSACountry(e,t){e.choosenDSACountry=t}setReportTarget(e,t){e.reportTarget=t}setReasons(e,t){e.reasons=t,e.PageStateData={reasons:t}}addBlockVideo(e,t){e.blockedVideos.includes(t)||e.blockedVideos.push(t)}removeBlockVideo(e,t){e.blockedVideos=e.blockedVideos.filter((e=>e!==t))}setLoading(e,t){e.loading=t}getReasons(e){return e.pipe((0,G.E)(this.state$),(0,H.Z)((([{reportTarget:e,uid:t},i])=>{var n;if(Ne()(e,i.reportTarget)&&i.reasons&&(null===(n=i.reasons)||void 0===n?void 0:n.length)>0)return(0,N.of)(this.getActions().setReasons(i.reasons));const o=Object.assign(Object.assign({},Cs),{app_language:e.lang||"",sys_language:e.lang||"",language:e.lang||"",user_id:Number(t)});return this.service.getReportReasons(o).pipe((0,ms.W)((()=>(0,N.of)({status:"unknown_error"}))),(0,H.Z)((t=>{var i,n,o,r;if("success"===t.status){const a=(0,ys.zW)(null==e?void 0:e.ad_info);r={tag:(null==e?void 0:e.isVideoDetailBannerAds)?"creative":e.play_mode&&fs.EM[e.play_mode]||fs.xY.OneColumn,category:fs.XJ,refer:fs.Hq.Button,log_extra:(null===(i=null==e?void 0:e.ad_info)||void 0===i?void 0:i.log_extra)||JSON.stringify({rit:(null==e?void 0:e.isVideoDetailBannerAds)?fs.uY:fs.OZ,req_id:null==a?void 0:a.req_id}),description:"",value:String(null===(n=null==e?void 0:e.ad_info)||void 0===n?void 0:n.creative_id),is_ad_event:"1"},Rt.f.event("ads_report_subcategory_list_show",r);let s=null!==(o=t.data)&&void 0!==o?o:[];const l=[Ss.Violence,Ss.DangerousGoodsOrServices,Ss.MinorsToPurchase,Ss.IntellectualPropertyInfringementOld],d=[Ss.Violence,Ss.DangerousGoodsOrServices,Ss.MinorsToPurchase],c={reason_type:"ProhibitedOrInfringing",reason_type_id:"ProhibitedOrInfringing",text:this.t("report_Prohibited_or_infringing"),sub_reason:[]};let u={reason_type:"IPInfringement",reason_type_id:"IPInfringement",text:this.t("Intellectual Property Infringement"),sub_reason:[{reason_type:"IPInfringementRightOwner",reason_type_id:"IPInfringementRightOwner",text:this.t("report_Right_owner")}]};const p={reason_type:"ProhibitedOrViolence",reason_type_id:"ProhibitedOrViolence",text:this.t("report_Prohibited_or_violence"),sub_reason:[]},h={reason_type:"Misleading",reason_type_id:"Misleading",text:"",sub_reason:[]},g={reason_type:"Offensive",reason_type_id:"Offensive",text:"",sub_reason:[]};let _=s.map((e=>Object.assign(Object.assign({},e),{reason_type:e.reason_type||e.reason_type_id})));_.some((e=>e.reason_type_id===Ss.IntellectualPropertyInfringementNew))?(_=_.filter((e=>d.includes(e.reason_type_id)?((p.sub_reason||[]).push(e),!1):e.reason_type_id!==Ss.IntellectualPropertyInfringementNew||((u.sub_reason||[]).push(Object.assign(Object.assign({},e),{text:this.t("report_Not_right_owner")})),e.text&&(u.text=e.text),!1))),_.splice(4,0,u,p)):(_=_.filter((e=>!l.includes(e.reason_type_id)||((c.sub_reason||[]).push(e),!1))),_.splice(4,0,c)),_.some((e=>e.reason_type_id===Ss.AISynthetic))&&(_=_.filter((e=>e.reason_type_id===Ss.Misleading?(h.sub_reason.push(Object.assign(Object.assign({},e),{text:this.t("ad_report_reason_L1Misinfo_L2misinfo")})),e.reason_type_id===Ss.Misleading&&(h.text=e.text),!1):e.reason_type_id!==Ss.AISynthetic||(h.sub_reason.push(e),!1))),_.splice(3,0,h));let v=0;return _.some((e=>e.reason_type_id===Ss.HateSpeechAndDiscrimination))&&(_=_.filter(((e,t)=>e.reason_type_id===Ss.OffensiveContent?(v=t,g.sub_reason.push(Object.assign(Object.assign({},e),{text:this.t("ad_report_reason_Offensive_Content")})),g.text=e.text,!1):![Ss.HateSpeechAndDiscrimination,Ss.ChildrenRelatedOffensiveContent].includes(e.reason_type_id)||(g.sub_reason.push(e),!1))),_.splice(v,0,g)),(0,N.of)(this.getActions().setReasons(_))}return L.F.open({content:this.t("Sorry, something wrong with the server, please try again."),duration:2,widthType:"half"}),(0,N.of)(this.getActions().setReasons([]))})),(0,q.Z)(this.getActions().setLoading(!0)),(0,V.q)(this.getActions().setLoading(!1)))})))}handleNextReason(e){return e.pipe((0,G.E)(this.state$),(0,H.Z)((([{nextReason:e},{PageStateData:t,PageState:i}])=>(0,N.of)(this.getActions().setPageStateData({reasons:e}),this.getActions().appendToPreState({state:i,data:t})))))}handleNextForm(e){return e.pipe((0,G.E)(this.state$),(0,H.Z)((([e,{PageStateData:t,PageState:i}])=>(0,N.of)(this.getActions().setPageState(e),this.getActions().setPageStateData({}),this.getActions().appendToPreState({state:i,data:t})))))}setShowing(e,t){e.showing=t}showReport(e){return e.pipe((0,H.Z)((({reportTarget:e,uid:t})=>(0,N.of)(this.getActions().setShowing(!0),this.getActions().getReasons({reportTarget:e,uid:t}),this.getActions().setReportTarget(e)))))}showRereport(e){return e.pipe((0,H.Z)((({rereportUrl:e,rereportObj:t})=>{const i=t||ps(decodeURIComponent(e||""));return(0,N.of)(this.getActions().setIsRereport(!0),this.getActions().setShowing(!0),this.getActions().setRereportQuery(i),this.getActions().setPageState((n=Number(i.report_type_id))>=Ss.ChildSexualExploitation&&n<=Ss.OtherIllegalContent?2:1),this.getActions().setUserData({selectedReason:{reason_type_id:Number(i.report_type_id),text:i.report_type_name,desc:i.reasonDesc,link:i.learnLink}}));var n})))}hideReport(e){return e.pipe((0,H.Z)((()=>(0,N.of)(this.getActions().setShowing(!1)))))}setRequesting(e,t){e.requesting=t}setLastStatus(e,t){e.lastStatus=t}postReport(e){return e.pipe((0,G.E)(this.state$),(0,z.p)((([{isDsaMode:e,reason:t,text:i,extraData:n,region:o,uid:r,loggedOut:a,closeModal:s},{reportTarget:l,submitCallback:d,isRereport:c,rereportQuery:u}])=>{var p,h;if(!c&&!l)return vs.w;const g=c?(e=>{if(e)try{const t=JSON.parse(e);return{req_id:JSON.parse(t.log_extra).req_id}}catch(e){return}})(u.extra||""):(0,ys.zW)(null==l?void 0:l.ad_info),_=null==g?void 0:g.req_id,v=c?(e=>{if(e)try{return JSON.parse(e).log_extra}catch(e){return}})(u.extra||""):(null===(p=null==l?void 0:l.ad_info)||void 0===p?void 0:p.log_extra)||JSON.stringify({rit:(null==l?void 0:l.isVideoDetailBannerAds)?fs.uY:fs.OZ,req_id:_}),m=c?(e=>{if(e)try{return JSON.parse(e).cid}catch(e){return}})(u.extra||""):String(null===(h=null==l?void 0:l.ad_info)||void 0===h?void 0:h.creative_id),f={origin:"tiktok_web",data:JSON.stringify(Object.assign(Object.assign(Object.assign(Object.assign({app_name:"tiktok_web",aid:1988,current_region:o,reason:t},l),{target:null==l?void 0:l.object_id,report_type:"ad"}),{}),{report_from:"creative",user_id:r,user_ip:"",version:"",device_id:"",platform:"web",install_id:"",group_id:"",item_id:"",text:(null==n?void 0:n.description)||"",report_type_id:Number(t),report_type_name:i,extra:JSON.stringify({cid:m,log_extra:v,req_id:_}),content_type:"ad"}))},y=Object.assign(Object.assign({},Cs),{app_language:(null==l?void 0:l.lang)||"",sys_language:(null==l?void 0:l.lang)||"",language:(null==l?void 0:l.lang)||"",user_id:Number(r)});return this.service.postReport(f,y).pipe((0,ms.W)((()=>(0,N.of)({status:"unknown_error"}))),(0,H.Z)((i=>{if(d)return null==d||d(i),(0,N.of)(this.noop());let o;if(o="success"===i.status?{title:this.t("Web_report_thanks_for_report"),content:a?this.t("dsa_illegal_report_received_confirm_logout"):this.t("dsa_illegal_report_received_confirm"),button:this.t("pm_mt_live_done"),success:!0}:{title:this.t("Web_report_report_for_error"),content:this.t("Sorry, something wrong with the server, please try again."),button:this.t("live_close"),success:!1},"success"===i.status){const i=e?{description:(null==n?void 0:n.description)||"",report_scene:(null==n?void 0:n.report_scene)||"",signature:(null==n?void 0:n.signature)||"",email:(null==n?void 0:n.email)||"",relevant_law:(null==n?void 0:n.relevant_law)||"",law_country_code:(null==n?void 0:n.law_country_code)||"",is_trusted_flagger:(null==n?void 0:n.is_trusted_flagger)||!1,reason_id:`${t}`}:{description:(null==n?void 0:n.description)||"",screenshot_uri:(null==n?void 0:n.uri)||"",reason_id:`${t}`};r={tag:c?null==u?void 0:u.report_from:(null==l?void 0:l.isVideoDetailBannerAds)?"creative":(null==l?void 0:l.play_mode)&&fs.EM[l.play_mode]||fs.xY.OneColumn,category:fs.XJ,refer:fs.Hq.Button,ad_extra_data:JSON.stringify(i),log_extra:v,value:m,is_ad_event:"1"},Rt.f.event("report",r)}else L.F.open({content:this.t("Sorry, something wrong with the server, please try again."),duration:2,widthType:"half"});var r;return"video"===(null==l?void 0:l.report_type)&&"success"===i.status&&(null==l?void 0:l.object_id)?(L.F.open({content:this.t("Web_report_thanks_for_report"),duration:2,widthType:"half"}),s(),(0,N.of)(this.getActions().addBlockVideo(null==l?void 0:l.object_id),this.getActions().setLastStatus(i.status),this.getActions().setUserData({submitresult:o}),this.getActions().hideReport())):"success"===i.status?(L.F.open({content:this.t("Web_report_thanks_for_report"),duration:2,widthType:"half"}),s(),(0,N.of)(this.getActions().setLastStatus(i.status),this.getActions().setUserData({submitresult:o}),this.getActions().hideReport())):(0,N.of)(this.getActions().setLastStatus(i.status),this.getActions().setUserData({submitresult:o}))})),(0,q.Z)(this.getActions().setRequesting(!0)),(0,V.q)(this.getActions().setRequesting(!1)))})))}setPageState(e,t){e.PageState=t}appendToPreState(e,t){e.PreState.push(t)}removeFromPreState(e){e.PreState.pop()}resetPreState(e){e.PreState=[]}setUserData(e,t){e.UserData=Object.assign(Object.assign({},e.UserData),t)}setPageStateData(e,t){e.PageStateData=t}resetState(e){return e.pipe((0,H.Z)((e=>(0,N.of)(this.getActions().resetPreState(),this.getActions().setUserData({selectedReason:void 0,HistoryReason:[]}),this.getActions().setPageState(0),this.getActions().setPageStateData(null),this.getActions().setSubmitCallback(void 0)))))}handlePrevStep(e){return e.pipe((0,G.E)(this.state$),(0,H.Z)((([e,{PreState:t}])=>{if(0===t.length)return vs.w;const{state:i,data:n}=t[t.length-1];return(0,N.of)(this.getActions().setPageState(i),this.getActions().setPageStateData(n),this.getActions().removeFromPreState())})))}};(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Boolean]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"setIsRereport",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Object]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"setRereportQuery",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Object]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"setSubmitCallback",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Object]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"setChoosenDSACountry",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Object]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"setReportTarget",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Array]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"setReasons",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,String]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"addBlockVideo",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,String]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"removeBlockVideo",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Boolean]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"setLoading",null),(0,P.Cg)([(0,D.Mj)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[B.c]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"getReasons",null),(0,P.Cg)([(0,D.Mj)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[B.c]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"handleNextReason",null),(0,P.Cg)([(0,D.Mj)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[B.c]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"handleNextForm",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Boolean]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"setShowing",null),(0,P.Cg)([(0,D.Mj)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[B.c]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"showReport",null),(0,P.Cg)([(0,D.Mj)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[B.c]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"showRereport",null),(0,P.Cg)([(0,D.Mj)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[B.c]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"hideReport",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Boolean]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"setRequesting",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,String]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"setLastStatus",null),(0,P.Cg)([(0,D.Mj)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[B.c]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"postReport",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Number]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"setPageState",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Object]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"appendToPreState",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"removeFromPreState",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"resetPreState",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Object]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"setUserData",null),(0,P.Cg)([(0,D.h5)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[Object,Object]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"setPageStateData",null),(0,P.Cg)([(0,D.Mj)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[B.c]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"resetState",null),(0,P.Cg)([(0,D.Mj)(),(0,P.Sn)("design:type",Function),(0,P.Sn)("design:paramtypes",[B.c]),(0,P.Sn)("design:returntype",void 0)],Ts.prototype,"handlePrevStep",null),Ts=(0,P.Cg)([(0,M.n)("AdReport"),(0,P.Qj)(1,(0,F.y)($.hp)),(0,P.Sn)("design:paramtypes",[xs,Function])],Ts);var Is=i(44295),Os=i(18640);const Ls=(0,r.memo)((function(e){var t,i,n,a,l,c,p,h;const{t:g,timeTranslator:_}=(0,no.T)(),v=(0,u.w)(Is.s),m=(0,u.w)(gs),f=(0,u.w)(Ts),[y,b]=(0,r.useState)(!1),x=(0,r.useCallback)((()=>{b(!1)}),[]),S=(0,s.Nj)(d.b),{notificationShouldBeClickable:k}=(0,Os.AP)(),w=null!==(i=null===(t=e.notice.template_notice)||void 0===t?void 0:t.schema_url)&&void 0!==i?i:"";w&&(0,Ao.Eo)(w)&&Rt.f.event("web_appeal_result_notification_view");const C=(0,r.useCallback)((()=>{var t,i,n,o,r;if(1!==e.notice.display_type)if(2===e.notice.display_type)S.handleSystemNotificationClick({enter_method:"click_get_app_for_pc"}),b(!0);else if(3===e.notice.display_type&&(S.handleSystemNotificationClick({}),window&&void 0!==(null===(t=e.notice.template_notice)||void 0===t?void 0:t.schema_url))){const t=null===(i=e.notice.template_notice)||void 0===i?void 0:i.schema_url;if(t&&t.startsWith("https://www.tiktok.com/violation-appeal")){const e=new URLSearchParams(new URL(t).search),i=null!==(n=e.get("object_id"))&&void 0!==n?n:void 0,a=null!==(o=e.get("object_type"))&&void 0!==o?o:void 0,s=null!==(r=e.get("punish_key"))&&void 0!==r?r:void 0;return v.setViolationAppealInfo({objectId:i,objectType:a,punishKey:s}),void v.setVisible(!0)}if(t&&(0,Ao.Eo)(t)){if(k){Rt.f.event("web_appeal_result_view_more_click");const e=JSON.parse(t);v.setViolationAppealInfo({objectId:e.vid,objectType:"1",penaltyDetails:e}),v.setVisible(!0)}return}if(t&&t.startsWith(ws))return void(t.includes(encodeURIComponent("is_appeal=1"))?m.setAppealInfoAndShow({url:t}):f.showRereport({rereportUrl:t}));window.location.href=t}}),[S,e.notice.display_type,null===(n=e.notice.template_notice)||void 0===n?void 0:n.schema_url,v]),j=(0,r.useMemo)((()=>{var t,i,n,r;return 2===e.notice.display_type?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(yr,{}),(0,o.jsx)(nt.Fm,{type:"P3-Regular",children:g("system_notifications_details_button")})]}):3===e.notice.display_type&&(null===(i=null===(t=e.notice.template_notice)||void 0===t?void 0:t.schema_url)||void 0===i?void 0:i.includes(ws))?(null===(r=null===(n=e.notice.template_notice)||void 0===n?void 0:n.schema_url)||void 0===r?void 0:r.includes(encodeURIComponent("is_appeal=1")))?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(yr,{}),(0,o.jsx)(nt.Fm,{type:"P3-Regular",children:g("dsa_bi_illegal_more_options_link")})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(yr,{}),(0,o.jsx)(nt.Fm,{type:"P3-Regular",children:g("dsa_illegal_report_again_link")})]}):null}),[e.notice.display_type,g]),T=Zr.Sb[(0,Ao.G6)(e.notice.type)],I=T?g(T.label):null,O=null===(c=null===(l=null===(a=e.notice.template_notice)||void 0===a?void 0:a.notice)||void 0===l?void 0:l.title)||void 0===c?void 0:c.title,L=null===(h=null===(p=e.notice.template_notice)||void 0===p?void 0:p.notice)||void 0===h?void 0:h.content;if(null===I||null===O||null===L)return null;const E=null!==e.notice.create_time?(0,o.jsxs)(nt.Fm,{type:"P4-Regular",color:"TextQuaternary",children:[" ",_(1e3*e.notice.create_time,!0)]}):null,A=(0,Ao.fG)((0,Ao.G6)(e.notice.type));return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(_r,{onClick:C,children:[(0,o.jsxs)(vr,{children:[(0,o.jsx)(mr,{children:A&&(0,o.jsx)(A,{style:{fontSize:16}})}),(0,o.jsx)(nt.Fm,{type:"P3-Semibold",children:I})]}),(0,o.jsx)(yr,{}),(0,o.jsx)(Ma.F.P3,{style:{maxWidth:"100%",overflowX:"hidden",textOverflow:"ellipsis"},children:O}),(0,o.jsx)(fr,{children:(0,o.jsxs)(nt.Fm,{type:"P4-Regular",children:[L,E]})}),j]}),y&&(0,o.jsx)(ds,{visible:y,onClose:x})]})})),Es=(0,r.memo)((function({noticeItem:e,onHitBottom:t}){var i;const n=(0,r.useRef)(null);return yo({elementRef:n,onHitBottom:t,threshold:100}),(0,o.jsxs)(Xr,{ref:n,tabIndex:0,role:"tabpanel",children:[(null!==(i=e.notice_list)&&void 0!==i?i:[]).map((e=>(0,o.jsx)(ua,{children:(0,o.jsx)(Ls,{notice:e})},e.nid))),e.loading&&(0,o.jsx)(A.R,{center:!0,size:"small"})]})}));var As=i(31323);const Ps=(0,r.memo)((({onHeaderClick:e})=>{const t=(0,p.s)(),i=(0,o.jsx)(Ia,{children:(0,o.jsx)(As.A,{fontSize:18})});return(0,o.jsx)(ja,{children:(0,o.jsxs)(Ta,{id:"header-inbox-title",onClick:e,clickable:null!=e,children:[i,t("system_notifications_inbox_header")]})})})),Rs=(0,me.default)("div",{target:"ewlck080"})({height:"100%",display:"flex",flexDirection:"column"},"label:DivInboxContainer;"),Ds=(0,me.default)("div",{target:"ewlck081"})({padding:"20px 16px"},"label:DivListBox;"),Ms=(0,r.memo)((function(e){var t,i;const n=(0,p.s)(),[a,s]=(0,Ji.P4)((e=>e),c.bN),[l,d]=(0,r.useState)([661]);(0,r.useEffect)((()=>{var e;if(661!==a.activeSystemNoticeGroup)return;if(!(null===(e=a.noticeList.notice_list)||void 0===e?void 0:e.length))return void d([661]);const t=[],i=new Set;a.noticeList.notice_list.forEach((e=>{const n=(0,Ao.G6)(e.type);i.has(n)||(t.push(n),i.add(n))})),d([661,...t])}),[a.activeSystemNoticeGroup,a.noticeList.notice_list]);const u=(0,r.useRef)(!0),h=(0,r.useCallback)((()=>{u.current||(u.current=!0,s.fetchSystemNoticeData())}),[s]);(0,r.useEffect)((()=>{u.current=Boolean(a.noticeList.loading)}),[a.noticeList.loading]);const g=(0,r.useMemo)((()=>l.map((e=>Zr.Sb[e]?{value:e.toString(),label:n(Zr.Sb[e].label,{},Zr.Sb[e].label)}:null)).filter((e=>null!==e))),[l,n]),_=(0,r.useCallback)((e=>{Object.entries(Zr.Sb).forEach((t=>{t[0].toString()===e&&s.changeActiveSystemNoticeGroup(t[1].value)}))}),[s]),v=(0,o.jsx)(Ps,{onHeaderClick:e.onBack}),m=(0,o.jsx)(Ds,{children:(0,o.jsx)(nt.dB,{block:!0,label:"",hideLabel:!0,value:null!==(i=null===(t=a.activeSystemNoticeGroup)||void 0===t?void 0:t.toString())&&void 0!==i?i:"",onChange:_,placeholder:"",options:g,size:"small"})}),f=(0,o.jsx)(Es,{onHitBottom:h,noticeItem:a.noticeList});return(0,o.jsxs)(Rs,{children:[v,m,f]})}));var Fs=i(7306);const Ns=(0,r.memo)((function(){const[e,{setIsFollowRequestShowing:t}]=(0,l.nG)((e=>e.isFollowRequestShowing),c.bN),[i,{setActivePage:n}]=(0,l.nG)((e=>e.activePage),c.bN),u=(0,r.useCallback)((()=>{n("report-inbox")}),[n]),p=(0,r.useCallback)((()=>{n("main")}),[n]),h=(0,a.P)(Yi.L,{selector:e=>{var t,i,n,o,r;return{uid:null!==(n=null===(i=null===(t=e.appContext)||void 0===t?void 0:t.user)||void 0===i?void 0:i.uid)&&void 0!==n?n:"",did:null!==(r=null===(o=e.appContext)||void 0===o?void 0:o.wid)&&void 0!==r?r:""}},dependencies:[]}),g=(0,a.P)(fo.kK,{selector:e=>e.reportInbox.noticeList,dependencies:[]}),[{activeGroup:_,noticeList:v,followRequest:m,latestSystemNotice:f},y]=(0,Ji.P4)((e=>{const{activeGroup:t,noticeList:i,followRequest:n,latestSystemNotice:o}=e;return{activeGroup:t,noticeList:i,followRequest:n,latestSystemNotice:o}}),c.bN),{setExpandedLikeItem:b}=(0,l.i7)(),x=(0,r.useMemo)(Ao.Bl,[]),[S,k]=(0,r.useState)(x.indexOf(_)),w=(0,r.useCallback)((e=>{y.changeActiveGroup({group:e}),b(null),t(!1),k(x.indexOf(e))}),[y,b,t,x]),C=(0,s.Nj)(d.b),j=(0,r.useCallback)((()=>{C.handleChangeTab({to_tab_name:"system"}),n("system-notif"),y.changeActiveSystemNoticeGroup(661)}),[y,C,n]);(0,r.useEffect)((()=>{e||setTimeout((()=>{y.fetchNoticeFollowRequest(Object.assign(Object.assign({},h),{refresh:!0}))}),2e3)}),[y,h,e]),(0,r.useEffect)((()=>{m.has_more||0!==m.total?m.has_more&&m.users.length<=10&&y.fetchNoticeFollowRequest(h):t(!1)}),[y,m.has_more,m.total,m.users.length,h,t]);const T=(0,r.useRef)(!0),I=(0,r.useRef)(null),O=(0,r.useCallback)((()=>{T.current||(T.current=!0,y.fetchNoticeData())}),[y]),L=(0,r.useCallback)((e=>{var t,i,n,o;switch(e.keyCode){case 39:e.stopPropagation(),e.preventDefault();const r=S<x.length-1?S+1:0;k(r),w(x[r]),null===(t=I.current)||void 0===t||t.setFocus(x[r]);break;case 37:e.stopPropagation(),e.preventDefault();const a=0===S?x.length-1:S-1;k(a),w(x[a]),null===(i=I.current)||void 0===i||i.setFocus(x[a]);break;case 36:k(0),w(x[0]),null===(n=I.current)||void 0===n||n.setFocus(x[0]);break;case 35:k(x.length-1),w(x[x.length-1]),null===(o=I.current)||void 0===o||o.setFocus(x[x.length-1]);break;default:return}}),[S,x,w]);(0,r.useEffect)((()=>{T.current=Boolean(v.loading)}),[v.loading]),(0,r.useEffect)((()=>{y.fetchLatestSystemNotice()}),[y]);const E=(0,r.useCallback)((()=>{n("main"),w(500)}),[w,n]);return"report-inbox"===i?(0,o.jsx)(mo,{onClose:p}):"system-notif"===i?(0,o.jsx)(Ms,{onBack:E}):(0,o.jsx)(Fs.t,{isMobile:!1,containerStyle:{height:"100%",width:"100%"},children:(0,o.jsxs)(Da,{"data-e2e":"inbox-notifications",children:[(0,o.jsx)(Ra,{value:_,onChange:w,onKeyDown:L,ref:I}),(0,o.jsx)(Ca,{activeGroup:_,item:v,onHitBottom:O,followItem:m,showFollow:e,onFollowChange:t,reportInboxList:g,onReportInboxClick:u,systemNotifItem:f,onSystemNotifItemClick:j})]})})}))},26679:(e,t,i)=>{i.d(t,{BS:()=>T,mX:()=>I,G6:()=>E,fG:()=>O,Bl:()=>P,Eo:()=>A});var n=i(60726),o=i(78022),r=i(75667),a=i(1676),s=i(38768),l=i(8656),d=i(96131),c=i(27725),u=i(74158),p=i(12570),h=i(88485),g=i(1891),_=i(28975),v=i(86279),m=i(82230),f=i(78019),y=i(72041),b=i(70935),x=i(56750),S=i(69872);const k=({src:e})=>{const t=/^https?:\/\/[a-zA-Z0-9-]+-sg/.test(e)?"t.tiktok.com":"m.tiktok.com";return(0,S.stringifyUrl)({url:`https://${t}/node-a/video/playsv`,query:{play_url:e}})};var w=i(88149),C=i(9139);const j=[228,261,302],T={isFollowNotice:e=>33===e.type&&Boolean(e.follow),isFollowApprovalNotice:e=>"type"in e&&23===e.type&&Boolean(e.follow_request_approve),isLikeNotice:e=>41===e.type&&Boolean(e.digg),isCommentNotice:e=>31===e.type&&Boolean(e.comment),isDuetNotice:e=>21===e.type&&Boolean(e.duet),isMentionNotice:e=>45===e.type&&Boolean(e.at),isReportInboxNotice:e=>213===e.type&&Boolean(e.template_notice),isRepostInboxNotice:e=>j.includes(e.type)&&Boolean(e.template_notice)},I=e=>{var t,i,n,o,r,a,s,l,d,c,u,p,h,g,_,v,m,f,y,b;if(T.isLikeNotice(e)){const a=null===(n=null===(i=null===(t=e.digg.aweme)||void 0===t?void 0:t.video)||void 0===i?void 0:i.cover)||void 0===n?void 0:n.url_list;if(0!==(null===(r=null===(o=e.digg.aweme)||void 0===o?void 0:o.status)||void 0===r?void 0:r.private_status)&&a){const e=k({src:a[0]});a[0]=e}}if(T.isCommentNotice(e)){const t=null===(l=null===(s=null===(a=e.comment.aweme)||void 0===a?void 0:a.video)||void 0===s?void 0:s.cover)||void 0===l?void 0:l.url_list;if(0!==(null===(c=null===(d=e.comment.aweme)||void 0===d?void 0:d.status)||void 0===c?void 0:c.private_status)&&t){const e=k({src:t[0]});t[0]=e}}if(T.isDuetNotice(e)){const t=null===(h=null===(p=null===(u=e.duet.aweme)||void 0===u?void 0:u.video)||void 0===p?void 0:p.cover)||void 0===h?void 0:h.url_list;if(0!==(null===(_=null===(g=e.duet.aweme)||void 0===g?void 0:g.status)||void 0===_?void 0:_.private_status)&&t){const e=k({src:t[0]});t[0]=e}}if(T.isMentionNotice(e)){const t=null===(f=null===(m=null===(v=e.at.aweme)||void 0===v?void 0:v.video)||void 0===m?void 0:m.cover)||void 0===f?void 0:f.url_list;if(0!==(null===(b=null===(y=e.at.aweme)||void 0===y?void 0:y.status)||void 0===b?void 0:b.private_status)&&t){const e=k({src:t[0]});t[0]=e}}};function O(e){switch(e){case 661:return n.A;case 47:return o.A;case 12:return r.A;case 61:return a.A;case 21:return s.A;case 82:return l.A;case 81:return d.A;case 212:return c.A;case 215:return u.A;case 218:return p.A;case 223:return h.A;case 224:return g.A;case 249:return _.A;case 254:return v.A;case 255:return m.A;case 256:return f.A;case 262:return y.A;case 272:return b.A;case 274:return x.A;default:return}}const L={2:47,6:21};function E(e){var t;return null!==(t=L[e])&&void 0!==t?t:e}function A(e){try{return"object"==typeof JSON.parse(e)}catch(e){return!1}}function P(){const{isRepostNoticeEnabled:e}=(0,w.Fl)();return e?C.ri:C.E4}},61090:(e,t,i)=>{i.d(t,{fu:()=>m});var n=i(11379),o=i(68055),r=i(54954),a=i(59158),s=i(13919),l=i(73766),d=i(90245),c=i(33152),u=i(95831),p=i(33293),h=i(72038),g=i(96095),_=i(88489),v=i(58475);let m=class extends v.E{constructor(){super(...arguments),this.defaultState={isSearchPersonalized:!0,isFeedPersonalized:!0,isSearchConfigInitialized:!1,isFeedConfigInitialized:!1,isManageModalOpen:!1,isExplanationModalOpen:!1,isShowingToast:!1}}setIsShowingToast(e,t){(0,g.nH)().setIsShowingToast(t)}setIsManageModalOpen(e,t){(0,g.nH)().setIsManageModalOpen(t)}setIsExplanationModalOpen(e,t){(0,g.nH)().setIsExplanationModalOpen(t)}setIsSearchPersonalized(e,t){(0,g.nH)().setIsSearchPersonalized(t)}setIsFeedPersonalized(e,t){(0,g.nH)().setIsFeedPersonalized(t)}setSearchConfigInitialized(e,t){(0,g.nH)().setSearchConfigInitialized(t)}setFeedConfigInitialized(e,t){(0,g.nH)().setFeedConfigInitialized(t)}staticInit(e,t){(0,g.nH)().init(t)}init(e){return e.pipe((0,c.E)(this.state$),(0,u.p)((([{isFeed:e},{isSearchConfigInitialized:t,isFeedConfigInitialized:i}])=>t&&!e||i&&e?a.w:(0,s.H)((0,g.nH)().init({isFeed:e})).pipe((0,p.Z)((()=>(0,l.of)(this.noop()))),(0,h.q)(this.terminate("init"))))))}};m.jotaiAtom=g.WH,(0,n.Cg)([(0,o.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Boolean]),(0,n.Sn)("design:returntype",void 0)],m.prototype,"setIsShowingToast",null),(0,n.Cg)([(0,o.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Boolean]),(0,n.Sn)("design:returntype",void 0)],m.prototype,"setIsManageModalOpen",null),(0,n.Cg)([(0,o.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Boolean]),(0,n.Sn)("design:returntype",void 0)],m.prototype,"setIsExplanationModalOpen",null),(0,n.Cg)([(0,o.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Boolean]),(0,n.Sn)("design:returntype",void 0)],m.prototype,"setIsSearchPersonalized",null),(0,n.Cg)([(0,o.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Boolean]),(0,n.Sn)("design:returntype",void 0)],m.prototype,"setIsFeedPersonalized",null),(0,n.Cg)([(0,o.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Boolean]),(0,n.Sn)("design:returntype",void 0)],m.prototype,"setSearchConfigInitialized",null),(0,n.Cg)([(0,o.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Boolean]),(0,n.Sn)("design:returntype",void 0)],m.prototype,"setFeedConfigInitialized",null),(0,n.Cg)([(0,o.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Object]),(0,n.Sn)("design:returntype",void 0)],m.prototype,"staticInit",null),(0,n.Cg)([(0,o.Mj)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[d.c]),(0,n.Sn)("design:returntype",void 0)],m.prototype,"init",null),m=(0,n.Cg)([(0,r.n)("SearchPersonalization")],m),g.WH.__SIGI_MODULE__=m,(0,_.y)(m)},25535:(e,t,i)=>{i.d(t,{H1:()=>_});var n=i(18898),o=i(65622),r=i(63161),a=i(52528),s=i(38527),l=i(17096),d=i(12688),c=i(22616),u=i(92328),p=i(18993),h=i(55148),g=i(52025);function _(e){var t;const i=(0,a.s)(),_=(0,o.useMemo)((()=>i(e?"search_videosearchbar_recommended_generic_1":"please_input_search_keyword")),[i,e]),f=(0,l.Ul)(),{id:y}=null!=f?f:{},{abTestVersion:b}=null!==(t=(0,c.W)((()=>["abTestVersion"]),[]))&&void 0!==t?t:{},x="v2"===(0,d.qt)(b,"search_entry_search_bar"),{wordList:S,logId:k}=function(e,t){var i;const{user:r}=null!==(i=(0,c.W)((()=>["user"]),[]))&&void 0!==i?i:{},{wordIdList:a,videoIdList:s}=(0,n.P)(g.Zr,{selector:e=>{var t,i;return null!==(i=e.blockListMap[null!==(t=null==r?void 0:r.uid)&&void 0!==t?t:g.yJ])&&void 0!==i?i:{}},dependencies:[r]}),l=(0,n.P)(h.k,{selector:t=>t[null!=e?e:""],dependencies:[e]});return(0,o.useMemo)((()=>{var e,i,n,o;if(!l||r&&!r.hasSearchPermission||m(null==l?void 0:l.id,s))return{wordList:[],hintText:""};const d=(null!==(i=null===(e=l.videoSuggestWordsList)||void 0===e?void 0:e.video_suggest_words_struct)&&void 0!==i?i:[]).find((e=>e.scene===t)),c=null!==(n=null==d?void 0:d.words)&&void 0!==n?n:[];return{wordList:v(c,a),hintText:null!==(o=null==d?void 0:d.hint_text)&&void 0!==o?o:"",logId:l.logId}}),[s,a,t,r,l])}(null!=y?y:"","feed_bar"),{newGuessSearchWord:w}=(0,n.P)(p._),{inputFocus:C}=(0,n.P)(u.C),{shouldRemainOpen:j}=(0,n.P)(p._),{pathname:T}=(0,r.zy)();return(0,o.useMemo)((()=>{var t;const{word:i,word_id:n}=null!==(t=S[0])&&void 0!==t?t:{},{word:o="",group_id:r=""}=null!=w?w:{},a={placeholder:_,hasVideoSugWord:!1},l=(0,s.sn)(T);return x?i&&(e||["fyp","following","video"].includes(l))?{placeholder:i,word_id:n,hasVideoSugWord:!0,logId:k,videoId:y}:(C||j)&&o&&!e?{placeholder:o,word_id:r,hasVideoSugWord:!0,logId:k,videoId:y}:a:a}),[S,w,_,T,x,e,C,j,k,y])}const v=(e,t)=>t&&0!==t.length?e.filter((({word_id:e})=>!t.includes(e))):e,m=(e,t)=>{var i;return null!==(i=null==t?void 0:t.includes(e))&&void 0!==i&&i}},92328:(e,t,i)=>{i.d(t,{C:()=>O});var n=i(11379),o=i(83238),r=i(68055),a=i(54954),s=i(73766),l=i(90245),d=i(45277),c=i(91109),u=i(55416),p=i(15825),h=i(33152),g=i(60057),_=i(33293),v=i(74895),m=i(72038),f=i(50374),y=i(21870),b=i(87866),x=i(95763),S=i(54469),k=i(71293),w=i(26895),C=i(61090),j=i(49610),T=i(2070);let I=class{constructor(e){this.fetch=e}getSugList(e){const t=Object.assign(Object.assign({},e),{aid:1988});return this.fetch.get("/api/search/user/preview/",{query:t,baseUrlType:2})}getGeneralSugList(e){const t=Object.assign(Object.assign({},e),{aid:1988});return this.fetch.get("/api/search/general/preview/",{query:t,baseUrlType:2})}getMobileGeneralSugList(e){const t=Object.assign(Object.assign({},e),{aid:1988});return this.fetch.get("/api/search/general/sug/",{query:t,baseUrlType:2})}};I=(0,n.Cg)([(0,j._)(),(0,n.Sn)("design:paramtypes",[T.pM])],I);let O=class extends o.E{constructor(e,t,i,n,o,r){super(),this.service=e,this.home=t,this.biz=i,this.videoPlayerJotai=n,this.search=o,this.personalization=r,this.defaultState={sugList:[],mobileSugList:[],loading:!1,activeIndex:-1,searchValue:"",previousSearchValue:"",inputFocus:!1,newSugSessionTimeStamp:void 0,queryId:void 0,videoPageType:""}}setVideoPageType(e,t){e.videoPageType=t}setSearchValue(e,t){e.searchValue=t}setPreviousSearchValue(e,t){e.previousSearchValue=t}setInputFocus(e,t){e.inputFocus=t}handleInputFocusChange(e){return e.pipe((0,d.M)((e=>{e&&y.$G.handleSearchEntry({enter_method:"enter"})})),(0,c.T)(this.getActions().setInputFocus))}setNewSugSessionTimeStamp(e,t){e.newSugSessionTimeStamp=t}setList(e,t){e.sugList=t}setMobileList(e,t){e.mobileSugList=t}setLoading(e,t){e.loading=t}setActiveIndex(e,t){e.activeIndex=t}setActiveUp(e){e.activeIndex=Math.max(0,e.activeIndex-1)}setActiveDown(e){const{sugList:t,activeIndex:i}=e;e.activeIndex=Math.min(t.length,i+1)}setQueryId(e,t){e.queryId=t}getSugList(e){return e.pipe((0,u.w)("keyword"),(0,p.B)(500),(0,h.E)(this.state$,this.home.state$,this.biz.state$,this.videoPlayerJotai.state$,this.search.state$,this.personalization.state$),(0,c.T)((([e,t,{appContext:i},{bizContext:n},{currentVideo:o},{searchGlobalParams:r},{isSearchPersonalized:a}])=>({payload:e,inputFocus:t.inputFocus,isLogin:Boolean(null==i?void 0:i.user),searchVideoForLoggedin:null==n?void 0:n.searchVideoForLoggedin,currentVideo:o,rootEnterFrom:null==r?void 0:r.rootEnterFrom,nonPersonalized:a?void 0:1}))),(0,g.n)((({payload:e,inputFocus:t,isLogin:i,searchVideoForLoggedin:n,currentVideo:o,rootEnterFrom:r,nonPersonalized:a})=>e.keyword?(i||!n?this.service.getGeneralSugList({keyword:e.keyword,app_language:e.app_language,is_non_personalized_search:a}):this.service.getSugList(Object.assign(Object.assign({},e),{is_non_personalized_search:a}))).pipe((0,c.T)((e=>{const{status_code:t,sug_list:i=[],log_pb:n}=e;let o=[];return 0===t&&i.length&&(o=i.map((e=>{var t;return Object.assign(Object.assign({},e),{impr_id:null!==(t=null==n?void 0:n.impr_id)&&void 0!==t?t:""})}))),Object.assign(Object.assign({},e),{sug_list:o})})),(0,d.M)((({sug_list:i,words_query_record:n,log_pb:a})=>{var s,l;if(t){const t="browser_mode"===this.state.videoPageType,d={impr_id:null!==(s=null==a?void 0:a.impr_id)&&void 0!==s?s:"",enter_from:r,raw_query:e.keyword,search_position:t?"video_detail":f.f.commonParams.page_name,video_page_type:this.state.videoPageType,enter_group_id:null!==(l=null==o?void 0:o.id)&&void 0!==l?l:""};y.$G.handleSugGroupImpression(Object.assign({words_source:"sug",words_num:String(i.length)},d)),i.forEach(((e,t)=>{var i;y.$G.handleSugImpression(Object.assign({words_source:"sug",words_position:t,words_content:e.content,sug_type:e.extra_info.sug_user_id?"enrich_sug":"normal_sug",query_id:null!==(i=null==n?void 0:n.query_id)&&void 0!==i?i:"",group_id:e.word_record.group_id},d))}))}})),(0,_.Z)((e=>{var t;return(0,s.of)(this.getActions().setList(e.sug_list),this.getActions().setQueryId(null===(t=null==e?void 0:e.words_query_record)||void 0===t?void 0:t.query_id))})),(0,v.Z)(this.getActions().setLoading(!0),this.getActions().setActiveIndex(-1)),(0,m.q)(this.getActions().setLoading(!1))):(0,s.of)(this.getActions().setList([])))))}getMobileSugList(e){return e.pipe((0,p.B)(500),(0,h.E)(this.state$,this.personalization.state$),(0,g.n)((([{keyword:e,app_language:t},{newSugSessionTimeStamp:i},{isSearchPersonalized:n}])=>e?this.service.getMobileGeneralSugList({keyword:e,app_language:t,is_non_personalized_search:n?void 0:1}).pipe((0,c.T)((e=>{const{status_code:t,sug_list:i=[],log_pb:n}=e;let o=[];return 0===t&&i.length&&(o=i.map((e=>{var t;return Object.assign(Object.assign({},e),{impr_id:null!==(t=null==n?void 0:n.impr_id)&&void 0!==t?t:""})}))),Object.assign(Object.assign({},e),{sug_list:o})})),(0,d.M)((({sug_list:t,words_query_record:n,log_pb:o,extra:r})=>{y.$G.handleSugGroupImpression({words_source:"sug",words_num:String(t.length),raw_query:e,search_position:f.f.commonParams.previous_page}),t.forEach(((t,a)=>{var s,l;y.$G.handleSugImpression({impr_id:null!==(s=null==o?void 0:o.impr_id)&&void 0!==s?s:"",words_source:"sug",words_position:a,words_content:t.content,raw_query:e,sug_type:t.extra_info.sug_user_id?"enrich_sug":"normal_sug",query_id:null!==(l=null==n?void 0:n.query_id)&&void 0!==l?l:"",group_id:t.word_record.group_id,search_position:f.f.commonParams.previous_page,new_sug_session_id:String(null!=i?i:null==r?void 0:r.now)})}))})),(0,_.Z)((e=>{var t;return(0,s.of)(this.getActions().setMobileList(e.sug_list),this.getActions().setNewSugSessionTimeStamp(String(null!=i?i:null===(t=e.extra)||void 0===t?void 0:t.now)))})),(0,x.n)({})):(0,s.of)(this.getActions().setMobileList([]),this.getActions().setNewSugSessionTimeStamp(void 0)))))}};(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,String]),(0,n.Sn)("design:returntype",void 0)],O.prototype,"setVideoPageType",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,String]),(0,n.Sn)("design:returntype",void 0)],O.prototype,"setSearchValue",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,String]),(0,n.Sn)("design:returntype",void 0)],O.prototype,"setPreviousSearchValue",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Boolean]),(0,n.Sn)("design:returntype",void 0)],O.prototype,"setInputFocus",null),(0,n.Cg)([(0,r.Mj)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[l.c]),(0,n.Sn)("design:returntype",void 0)],O.prototype,"handleInputFocusChange",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Object]),(0,n.Sn)("design:returntype",void 0)],O.prototype,"setNewSugSessionTimeStamp",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Array]),(0,n.Sn)("design:returntype",void 0)],O.prototype,"setList",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Array]),(0,n.Sn)("design:returntype",void 0)],O.prototype,"setMobileList",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Boolean]),(0,n.Sn)("design:returntype",void 0)],O.prototype,"setLoading",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Number]),(0,n.Sn)("design:returntype",void 0)],O.prototype,"setActiveIndex",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object]),(0,n.Sn)("design:returntype",void 0)],O.prototype,"setActiveUp",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object]),(0,n.Sn)("design:returntype",void 0)],O.prototype,"setActiveDown",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Object]),(0,n.Sn)("design:returntype",void 0)],O.prototype,"setQueryId",null),(0,n.Cg)([(0,r.Mj)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[l.c]),(0,n.Sn)("design:returntype",void 0)],O.prototype,"getSugList",null),(0,n.Cg)([(0,r.Mj)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[l.c]),(0,n.Sn)("design:returntype",void 0)],O.prototype,"getMobileSugList",null),O=(0,n.Cg)([(0,a.n)("Sug"),(0,n.Sn)("design:paramtypes",[I,S.L,k.$,b.Q,w.tq,C.fu])],O)},56471:(e,t,i)=>{i.d(t,{_:()=>n});const n={2:"hot",17:"top",18:"music"}},18993:(e,t,i)=>{i.d(t,{_:()=>w});var n=i(11379),o=i(83238),r=i(68055),a=i(54954),s=i(33293),l=i(73766),d=i(90245),c=i(33152),u=i(91109),p=i(60057),h=i(45277),g=i(74895),_=i(50374),v=i(21870),m=i(26895),f=i(92328),y=i(61090),b=i(56471),x=i(49610),S=i(2070);let k=class{constructor(e){this.fetch=e}getTransferList(e){return this.fetch.get("/api/search/suggest/guide/",{query:e,baseUrlType:2})}};k=(0,n.Cg)([(0,x._)(),(0,n.Sn)("design:paramtypes",[S.pM])],k);let w=class extends o.E{constructor(e,t,i,n){super(),this.service=e,this.search=t,this.sug=i,this.personalization=n,this.defaultState={historyList:[],guessSearchList:[],mobileGuessSearchList:[],activeIndex:-1,blankpageEnterMethod:void 0,preRecomShowId:"",videoSuggestWord:void 0,newGuessSearchWord:void 0,logId:void 0,mobileLogId:void 0,shouldRemainOpen:!1,shouldUpdateData:!0}}setData(e,t){e.guessSearchList=t}setMobileData(e,t){e.mobileGuessSearchList=t}setLogId(e,t){e.logId=t}setMobileLogId(e,t){e.mobileLogId=t}setActiveIndex(e,t){e.activeIndex=t}setEnterMethod(e,t){e.blankpageEnterMethod=t}setHistoryList(e,t){e.historyList=t}setVideoSuggestWord(e,t){e.videoSuggestWord=t}setNewGuessSearchWord(e,t){e.newGuessSearchWord=t}setShouldRemainOpen(e,t){e.shouldRemainOpen=t}setShouldUpdateData(e,t){e.shouldUpdateData=t}getTransferList(e){return e.pipe((0,c.E)(this.search.state$,this.sug.state$,this.state$,this.personalization.state$),(0,u.T)((([e,{searchGlobalParams:t},{videoPageType:i},{videoSuggestWord:n},{isSearchPersonalized:o}])=>({payload:e,rootEnterFrom:null==t?void 0:t.rootEnterFrom,videoSuggestWord:n,videoPageType:i,nonPersonalized:o?void 0:1}))),(0,p.n)((({payload:e,rootEnterFrom:t,videoSuggestWord:i,videoPageType:n,nonPersonalized:o})=>{var r;return this.service.getTransferList(Object.assign(Object.assign({},e),{is_non_personalized_search:o,current_placeholder:null!==(r=null==i?void 0:i.word)&&void 0!==r?r:""})).pipe((0,u.T)((e=>{const{status_code:t,data:i=[],log_id:n}=e;let o=[];return 0===t&&i.length&&(o=i.map((e=>Object.assign(Object.assign({},e),{impr_id:n})))),Object.assign(Object.assign({},e),{data:o})})),(0,h.M)((({data:i,log_id:o})=>{const r={enter_from:t,words_source:"recom_search",search_position:_.f.commonParams.page_name,enter_group_id:e.from_group_id,impr_id:null!=o?o:"",raw_query:"",video_page_type:n};v.$G.handleTrendingShow(Object.assign({words_num:i.length},r)),i.forEach(((e,t)=>{var i,n,o,a;return v.$G.handleTrendingWordsShow(Object.assign({words_position:t,words_content:null!==(i=null==e?void 0:e.word)&&void 0!==i?i:"",words_type:null!==(o=b._[null!==(n=null==e?void 0:e.word_type)&&void 0!==n?n:""])&&void 0!==o?o:"",group_id:null!==(a=null==e?void 0:e.group_id)&&void 0!==a?a:""},r))}))})),(0,s.Z)((e=>{var t;return(0,l.of)(this.getActions().setData(null==e?void 0:e.data),this.getActions().setLogId(null==e?void 0:e.log_id),this.getActions().setNewGuessSearchWord(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t[0]))})),(0,g.Z)(this.getActions().setActiveIndex(-1)))})))}getMobileTransferList(e){return e.pipe((0,c.E)(this.search.state$,this.sug.state$,this.state$,this.personalization.state$),(0,u.T)((([e,{searchGlobalParams:t},{videoPageType:i},{videoSuggestWord:n},{isSearchPersonalized:o}])=>({payload:e,rootEnterFrom:null==t?void 0:t.rootEnterFrom,videoSuggestWord:n,videoPageType:i,nonPersonalized:o?void 0:1}))),(0,p.n)((({payload:e,videoSuggestWord:t,nonPersonalized:i})=>{var n;return this.service.getTransferList(Object.assign(Object.assign({},e),{is_non_personalized_search:i,current_placeholder:null!==(n=null==t?void 0:t.word)&&void 0!==n?n:""})).pipe((0,u.T)((e=>{const{status_code:t,data:i=[],log_id:n}=e;let o=[];return 0===t&&i.length&&(o=i.map((e=>Object.assign(Object.assign({},e),{impr_id:n})))),Object.assign(Object.assign({},e),{data:o})})),(0,h.M)((({data:e,log_id:t})=>{const i={words_source:"recom_search",search_position:"search_blankpage_web",impr_id:null!=t?t:""};e.forEach(((e,t)=>{var n,o,r,a;v.$G.handleTrendingWordsShow(Object.assign({words_position:t,words_content:null!==(n=null==e?void 0:e.word)&&void 0!==n?n:"",words_type:null!==(r=b._[null!==(o=null==e?void 0:e.word_type)&&void 0!==o?o:""])&&void 0!==r?r:"",group_id:null!==(a=null==e?void 0:e.group_id)&&void 0!==a?a:""},i))}))})),(0,s.Z)((e=>(0,l.of)(this.getActions().setMobileData(null==e?void 0:e.data),this.getActions().setMobileLogId(null==e?void 0:e.log_id)))))})))}};(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Array]),(0,n.Sn)("design:returntype",void 0)],w.prototype,"setData",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Array]),(0,n.Sn)("design:returntype",void 0)],w.prototype,"setMobileData",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,String]),(0,n.Sn)("design:returntype",void 0)],w.prototype,"setLogId",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,String]),(0,n.Sn)("design:returntype",void 0)],w.prototype,"setMobileLogId",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Number]),(0,n.Sn)("design:returntype",void 0)],w.prototype,"setActiveIndex",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Object]),(0,n.Sn)("design:returntype",void 0)],w.prototype,"setEnterMethod",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Array]),(0,n.Sn)("design:returntype",void 0)],w.prototype,"setHistoryList",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Object]),(0,n.Sn)("design:returntype",void 0)],w.prototype,"setVideoSuggestWord",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Object]),(0,n.Sn)("design:returntype",void 0)],w.prototype,"setNewGuessSearchWord",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Boolean]),(0,n.Sn)("design:returntype",void 0)],w.prototype,"setShouldRemainOpen",null),(0,n.Cg)([(0,r.h5)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[Object,Boolean]),(0,n.Sn)("design:returntype",void 0)],w.prototype,"setShouldUpdateData",null),(0,n.Cg)([(0,r.Mj)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[d.c]),(0,n.Sn)("design:returntype",void 0)],w.prototype,"getTransferList",null),(0,n.Cg)([(0,r.Mj)(),(0,n.Sn)("design:type",Function),(0,n.Sn)("design:paramtypes",[d.c]),(0,n.Sn)("design:returntype",void 0)],w.prototype,"getMobileTransferList",null),w=(0,n.Cg)([(0,a.n)("Transfer"),(0,n.Sn)("design:paramtypes",[k,m.tq,f.C,y.fu])],w)},26895:(e,t,i)=>{i.d(t,{I4:()=>W,Fy:()=>H,tq:()=>Q});var n,o,r,a,s,l=i(11379),d=i(83238),c=i(68055),u=i(54954),p=i(60842),h=i(73766),g=i(33583),_=i(90245),v=i(33152),m=i(91109),f=i(60057),y=i(33293),b=i(74895),x=i(72038),S=i(88314),k=i(45277),w=i(94488),C=i(23298),j=i(21870),T=i(50374);!function(e){e.LiveShow="livesdk_live_show",e.LiveRecPlay="livesdk_rec_live_play",e.LiveWindowDuration="livesdk_live_window_duration_v2"}(n||(n={})),function(e){e.Click="click",e.Draw="draw"}(o||(o={})),function(e){e.General="general_search",e.SearchResult="search_result",e.SearchUser="search_user"}(r||(r={})),function(e){e.OthersPhoto="others_photo",e.Cover="live_cover",e.Cell="live_cell"}(a||(a={})),function(e){e.AutoMatic="automatic",e.Hover="hover"}(s||(s={}));const I=e=>{T.f.event("livesdk_live_show",e)};var O,L,E=i(54086),A=i(88457),P=i(35999),R=i(73021),D=i(60690),M=i(71293),F=i(84716),N=i(51824),B=i(35219),z=i(95199),U=i(9190),q=i(61090),V=i(73620),G=i(87866);!function(e){e[e.NetworkError=-1]="NetworkError",e[e.NoResultText=10]="NoResultText",e[e.SelfHarmText=11]="SelfHarmText",e[e.HateSexualizationText=12]="HateSexualizationText",e[e.Guide=13]="Guide"}(O||(O={})),function(e){e.ShowWithButton="show_with_button",e.ShowDirectly="show_directly",e.NoResult="no_results"}(L||(L={}));const H={keyword:"",error:null,loading:!0,hasMore:!0,cursor:0,items:[],preloadList:[],searchPrecheck:null},W={keyword:"",error:null,loading:!0,hasMore:!0,totalLength:0,isGoToHashtag:!1,cursor:0,data:{videoList:[],otherDataList:[]},preloadList:[],searchPrecheck:null},$={rootEnterFrom:void 0,preSearchId:void 0},K={1:(e,t)=>{var i,n,o,r,a,s,l,d,c;t.totalLength++,t.data.videoList=[...t.data.videoList,null!==(n=null===(i=e.item)||void 0===i?void 0:i.id)&&void 0!==n?n:""];const u={id:null!==(a=null===(r=null===(o=e.item)||void 0===o?void 0:o.video)||void 0===r?void 0:r.id)&&void 0!==a?a:"",url:null!==(d=null===(l=null===(s=e.item)||void 0===s?void 0:s.video)||void 0===l?void 0:l.playAddr)&&void 0!==d?d:""};t.preloadList=[...null!==(c=t.preloadList)&&void 0!==c?c:[],u]},4:(e,t)=>{var i,n;const o=t.data.videoList.length,r={type:e.type,items:null===(i=e.user_list)||void 0===i?void 0:i.map((({user_info:e})=>{var i;return t.totalLength++,null!==(i=e.unique_id)&&void 0!==i?i:""})),position:o%6==0?o:6*Math.ceil(o/6),hasMore:null!==(n=e.view_more)&&void 0!==n&&n,common:e.common};t.data.otherDataList=[...t.data.otherDataList,r]},20:(e,t)=>{var i,n,o,r,a,s,l,d,c;const u=t.data.videoList.length;t.totalLength++;const p={type:e.type,items:[null!==(n=null===(i=e.user_live)||void 0===i?void 0:i.user_info.user_info.unique_id)&&void 0!==n?n:""],lives:[null!==(a=null===(r=null===(o=e.user_live)||void 0===o?void 0:o.live_info)||void 0===r?void 0:r.id_str)&&void 0!==a?a:""],position:u%6==0?u:6*Math.ceil(u/6),hasMore:null!==(s=e.view_more)&&void 0!==s&&s,common:e.common,teaParams:{search_result_id:null!==(c=null===(d=null===(l=e.user_live)||void 0===l?void 0:l.user_info)||void 0===d?void 0:d.user_info.uid)&&void 0!==c?c:""}};t.data.otherDataList=[...t.data.otherDataList,p]},61:(e,t)=>{var i,n,o,r;const a=t.data.videoList.length;t.totalLength++;const s={type:e.type,lives:null===(i=e.live_collection)||void 0===i?void 0:i.map((({id_str:e})=>e)),position:a%6==0?a:6*Math.ceil(a/6),hasMore:null!==(n=e.view_more)&&void 0!==n&&n,common:e.common,teaParams:{search_result_id:null!==(r=null===(o=e.common)||void 0===o?void 0:o.doc_id_str)&&void 0!==r?r:""}};t.data.otherDataList=[...t.data.otherDataList,s]}},Z={1:(e,t,i)=>{var n,o,r;const{enter_from:a,totalLength:s,count:l,impr_id:d,videoCount:c,videoStart:u}=t;j.$G.handleSearchVideoImpression(Object.assign(Object.assign({},i),{enter_from:a,rank:u+c,item_rank:s+l,group_id:null===(n=e.item)||void 0===n?void 0:n.id,author_id:null===(r=null===(o=e.item)||void 0===o?void 0:o.author)||void 0===r?void 0:r.id,impr_id:d})),t.count++,t.videoCount++},4:(e,t,i)=>{var n;const{enter_from:o,userStart:r,userCount:a,totalLength:s,count:l,impr_id:d}=t;return null===(n=e.user_list)||void 0===n||n.forEach((e=>{var n;const c=Object.assign(Object.assign({},i),{search_result_id:e.user_info.uid});j.$G.handleSearchImpression(Object.assign({enter_from:o,rank:r+a,item_rank:s+l,impr_id:d},c));const u=null!==(n=e.user_info.room_id_str)&&void 0!==n?n:String(e.user_info.room_id);Boolean(Number(u))&&I(Object.assign({room_id:u,anchor_id:e.user_info.uid,action_type:"click",enter_from_merge:"general_search",enter_method:"others_photo"},c)),t.count++,t.userCount++})),t},61:(e,t,i)=>{var n,o,r;const{enter_from:a}=t,s=Object.assign(Object.assign({},i),{search_result_id:null!==(o=null===(n=e.common)||void 0===n?void 0:n.doc_id_str)&&void 0!==o?o:"",enter_from:a,token_type:"live_card",is_aladdin:1,rank:0});j.$G.handleSearchImpression(s),null===(r=e.live_collection)||void 0===r||r.forEach(((e,t)=>{j.$G.handleSearchImpression(Object.assign(Object.assign({},s),{aladdin_words:e.title,aladdin_rank:t,list_result_type:"live",list_item_id:e.id_str,realtime_watch_user:e.user_count}))})),t.count++},20:(e,t,i)=>{var n,o,r,a,s;const{enter_from:l,impr_id:d}=t,{user_info:c,live_info:u}=null!==(n=null==e?void 0:e.user_live)&&void 0!==n?n:{},p=Object.assign(Object.assign({},i),{search_result_id:null!==(o=null==c?void 0:c.user_info.uid)&&void 0!==o?o:""}),h=Object.assign(Object.assign({},p),{user_name:null===(r=null==c?void 0:c.user_info)||void 0===r?void 0:r.nickname,user_tag:"",enter_from:l,token_type:"hot_user",is_aladdin:1,rank:0});j.$G.handleSearchImpression(Object.assign(Object.assign({},h),{impr_id:d})),j.$G.handleSearchImpression(Object.assign(Object.assign({},h),{list_result_type:"live",list_item_id:null!==(a=null==u?void 0:u.id_str)&&void 0!==a?a:""}));const g=null==u?void 0:u.id_str;g&&I(Object.assign(Object.assign({},p),{room_id:g,anchor_id:null!==(s=null==c?void 0:c.user_info.uid)&&void 0!==s?s:"",action_type:"click",enter_from_merge:"general_search",enter_method:"others_photo"})),t.count++}};let Q=class extends d.E{constructor(e,t,i,n,o,r,a,s,l,d){super(),this.service=e,this.user=t,this.seoModule=i,this.itemList=n,this.liveList=o,this.videoMask=r,this.bizContext=a,this.videoPlayerJotai=s,this.personalization=l,this.t=d,this.defaultState={showTabs:!0,general:W,user:H,video:H,live:H,searchReminderData:null,searchGlobalParams:$}}setSearchResult(e,t){const{key:i,result:n}=null!=t?t:{};e[i]=n}setSearchReminderData(e,t){e.searchReminderData=t.data}addSearchResult(e,t){var i,n,o,r,a;const{key:s,result:l}=null!=t?t:{};if(!e[s])return e[s]=l,e;e[s]=Object.assign(Object.assign(Object.assign({},e[s]),l),{items:null===(n=null===(i=e[s])||void 0===i?void 0:i.items)||void 0===n?void 0:n.concat(l.items),preloadList:null===(r=null===(o=e[s])||void 0===o?void 0:o.preloadList)||void 0===r?void 0:r.concat(null!==(a=l.preloadList)&&void 0!==a?a:[])})}addTopSearchResult(e,t){var i,n;const o=e.general;null===(i=t.data)||void 0===i||i.forEach((e=>{e.type&&K[e.type](e,o)})),e.general=Object.assign(Object.assign({},e.general),{hasMore:Boolean(t.has_more),cursor:null!==(n=t.cursor)&&void 0!==n?n:0,data:Object.assign({},o.data),rid:t.rid,preloadList:o.preloadList})}setSearchLoading(e,t){const{key:i,loading:n}=null!=t?t:{};e[i].loading=n}setIsGoToHashtag(e,t){const{key:i,isGoToHashtag:n}=null!=t?t:{};e[i].isGoToHashtag=n}setShowTabs(e,t){e.showTabs=t}setSearchGlobalParams(e,t){e.searchGlobalParams=Object.assign(Object.assign({},e.searchGlobalParams),t)}setSearchPrecheck(e,t){const{key:i,value:n}=null!=t?t:{};e[i].searchPrecheck=n}setKeyword(e,t){const{key:i,keyword:n}=t;e[i].keyword=n}resetSearchResult(e){e.general=W,e.user=H,e.video=H,e.live=H}getTopSearch(e){return e.pipe((0,v.E)(this.state$,this.videoMask.state$,this.bizContext.state$,this.personalization.state$,this.videoPlayerJotai.state$),(0,m.T)((([e,t,i,n,{isSearchPersonalized:o},r])=>({query:e,state:t.general,videoMaskState:i,bizContextState:n,searchGlobalParams:t.searchGlobalParams,nonPersonalized:o?void 0:1,currentVideo:r.currentVideo}))),(0,f.n)((e=>{var t=e.query,{teaParams:i,abTestVersion:n,user:o,language:r,hasSearchLive:a}=t,s=(0,l.Tt)(t,["teaParams","abTestVersion","user","language","hasSearchLive"]),{state:d,state:{cursor:c,data:u,rid:p},videoMaskState:_,searchGlobalParams:v,nonPersonalized:f,currentVideo:k}=e;let w=(0,h.of)({});s.keyword&&!(0,A.fU)()&&(w=this.service.getTopSearch(Object.assign(Object.assign({},s),{offset:c,search_id:p,web_search_code:this.getWebSearchCode(n),is_non_personalized_search:f})));const j=Date.now();return w.pipe((0,m.T)((e=>{var t,i;return Object.assign(e,{data:null!==(i=null===(t=e.data)||void 0===t?void 0:t.map((e=>{var t,i,n,o,r,s;switch(e.type){case 20:return a?Object.assign(e,{user_live:{live_info:JSON.parse(null!==(n=null===(i=null===(t=e.user_live)||void 0===t?void 0:t.live_info)||void 0===i?void 0:i.raw_data)&&void 0!==n?n:"{}"),user_info:null===(o=e.user_live)||void 0===o?void 0:o.user_info}}):null;case 61:return a?Object.assign(e,{live_collection:null===(s=null===(r=e.live_collection)||void 0===r?void 0:r.live_list)||void 0===s?void 0:s.map((({raw_data:e="{}"})=>JSON.parse(e)))}):null;case 4:case 1:return e;default:return null}})).filter((e=>Boolean(e))))&&void 0!==i?i:[]})})),this.handleTopSearchReport({state:d,keyword:s.keyword,isSendSearch:0===c,teaParams:i,requestStart:j,searchGlobalParams:v,groupId:null==k?void 0:k.id}),(0,y.Z)((e=>{var t,i,a,l,c,u;let v=!1;const m=null===(t=null==e?void 0:e.global_doodle_config)||void 0===t?void 0:t.forbid_search_type;(1===m||0===m&&0===(null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.length))&&(v=!0);const f=this.seoModule.setSearchSEOProps(e,{language:r},{pathname:C.OZ.searchHome,input_keyword:s.keyword}),{has_more:y,data:b=[],extra:x={},search_nil_info:S,suicide_prevent:k,search_nil_text:w,status_code:j,log_pb:T}=e,I=[0,203,403].includes(j)?0:j,{logid:O}=x,L=null!==(a=null!=p?p:O)&&void 0!==a?a:"",E=S&&[11,13].includes(null!==(l=S.text_type)&&void 0!==l?l:0);if(!b.length&&!y&&!E)return this.generateErrorState({search_nil_info:S,search_nil_text:w,suicide_prevent:k,state:d,key:"general",keyword:s.keyword,pathname:C.OZ.searchHome,action$s:[f]});const A=[],P=[],R={hasMore:Boolean(y),statusCode:I,itemList:[],rid:L,log_pb:T},D={hasMore:Boolean(y),statusCode:I,liveList:[],rid:L};let M=null;E&&(M={type:null!==(c=null==S?void 0:S.text_type)&&void 0!==c?c:11,data:Object.assign(Object.assign({},k),{et_search_id:L})}),b.forEach((e=>{var t,i,n,o,r;switch(e.type){case 1:R.itemList.push(e.item);break;case 4:const a=Object.assign(Object.assign({},e),{items:[]}),{user_list:s=[]}=e;s.forEach((({user_info:e={}})=>{const{user:t,stats:i}=this.userConvertor(e,L,null==T?void 0:T.impr_id),{unique_id:n=""}=e;A.push(t),P.push(i),a.items.push(n)}));break;case 20:if(null===(i=null===(t=e.user_live)||void 0===t?void 0:t.user_info)||void 0===i?void 0:i.user_info){const{user_live:{user_info:{user_info:t}}}=e,{user:i,stats:n}=this.userConvertor(t,L,null==T?void 0:T.impr_id);A.push(i),P.push(n)}(null===(o=null===(n=e.user_live)||void 0===n?void 0:n.live_info)||void 0===o?void 0:o.id_str)&&D.liveList.push(e.user_live.live_info);break;case 61:null===(r=e.live_collection)||void 0===r||r.forEach((e=>{e.id_str&&D.liveList.push(e)}))}})),(1===(null==o?void 0:o.photoSensitiveVideosSetting)||!o&&1===_.photoSensitiveVideosSetting)&&(e.data=null===(u=e.data)||void 0===u?void 0:u.filter((e=>{var t;return 4===e.type||4!==(null===(t=e.item)||void 0===t?void 0:t.maskType)})));const F=(0,h.of)(this.user.getActions().multiSetUser(A),this.user.getActions().multiSetUserStats(P),this.itemList.getActions().setList({response:R,key:"search_top",abTestVersion:n,user:o,language:r}),this.liveList.getActions().setList({response:D,key:"search_top",abTestVersion:n,user:o,language:r}),this.getActions().addTopSearchResult(Object.assign(Object.assign({},e),{rid:L})),this.getActions().setSearchPrecheck({key:"general",value:M}),this.getActions().setIsGoToHashtag({key:"general",isGoToHashtag:v}),this.getActions().setSearchGlobalParams({preSearchId:L}));return(0,g.h)(F,f)})),this.catchError({isEmpty:Boolean(u.videoList.length||u.otherDataList.length),key:"general",keyword:s.keyword,state:d,teaParams:i,isSendSearch:0===c}),(0,b.Z)(this.getActions().setSearchLoading({key:"general",loading:!0}),this.getActions().setShowTabs(!0),this.getActions().setKeyword({key:"general",keyword:s.keyword})),(0,x.q)(this.getActions().setSearchLoading({key:"general",loading:!1}),this.terminate()),(0,S.Q)(this.getAction$().dispose))})))}getUserSearch(e){return e.pipe((0,v.E)(this.state$,this.bizContext.state$,this.personalization.state$,this.videoPlayerJotai.state$),(0,m.T)((([e,t,i,{isSearchPersonalized:n},o])=>({query:e,state:t.user,bizContextState:i,currentVideo:o.currentVideo,searchGlobalParams:t.searchGlobalParams,nonPersonalized:n?void 0:1}))),(0,f.n)((e=>{var t=e.query,{teaParams:i,abTestVersion:n,language:o,user:r}=t,a=(0,l.Tt)(t,["teaParams","abTestVersion","language","user"]),{state:s,state:{cursor:d,items:c,rid:u},searchGlobalParams:p,nonPersonalized:_,currentVideo:v}=e;let m=(0,h.of)({});a.keyword&&!(0,A.fU)()&&(m=this.service.getUserSearch(Object.assign(Object.assign({},a),{cursor:d,search_id:u,web_search_code:this.getWebSearchCode(n),is_non_personalized_search:_})));const f=Date.now();return m.pipe((0,k.M)((e=>{var t,n;const{user_list:o=[],log_pb:r,extra:s}=e,{impr_id:l}=null!=r?r:{},{logid:h}=null!=s?s:{},g=null!==(t=null!=u?u:h)&&void 0!==t?t:"";if(o.length){const e=c.length;o.forEach(((t,i)=>{var n;j.$G.handleSearchImpression({search_type:"user",enter_from:"search_result",rank:e+i,search_keyword:a.keyword,search_result_id:t.user_info.uid,impr_id:l,search_id:g});const o=null!==(n=t.user_info.room_id_str)&&void 0!==n?n:String(t.user_info.room_id);Boolean(Number(o))&&I({room_id:o,anchor_id:t.user_info.uid,action_type:"click",enter_from_merge:"search_user",enter_method:"others_photo",search_type:"user",search_id:g,search_keyword:a.keyword,search_result_id:t.user_info.uid,rank:e+i,impr_id:l})}))}else j.$G.handleSearchResultEmpty({search_keyword:a.keyword,impr_id:l,search_id:g});0===d&&i&&j.$G.handleSearch(Object.assign(Object.assign({},i),{search_id:g,search_keyword:a.keyword,impr_id:l,duration:Date.now()-f,pre_search_id:p.preSearchId,group_id:null!==(n=null==v?void 0:v.id)&&void 0!==n?n:void 0}))})),(0,y.Z)((e=>{var t,i,n;const r=this.seoModule.setSearchSEOProps(e,{language:o},{pathname:C.OZ.searchUser,input_keyword:a.keyword}),{has_more:l,cursor:d,user_list:c=[],extra:p,search_nil_info:_,suicide_prevent:v,search_nil_text:m,log_pb:f}=e,y=null!==(t=null!=u?u:null==p?void 0:p.logid)&&void 0!==t?t:"",b=_&&[11,13].includes(null!==(i=_.text_type)&&void 0!==i?i:0);let x=null,S=null;if(b&&(S={type:null!==(n=null==_?void 0:_.text_type)&&void 0!==n?n:11,data:Object.assign(Object.assign({},v),{et_search_id:y})},x=(0,h.of)(this.getActions().setSearchPrecheck({key:"user",value:S}))),!c.length&&!l&&!b)return this.generateErrorState({res:e,search_nil_info:_,search_nil_text:m,suicide_prevent:v,state:s,key:"user",keyword:a.keyword,pathname:C.OZ.searchUser,action$s:[r]});if(c.length){const e=[],t=[],i=c.map((({user_info:i})=>{const{user:n,stats:o}=this.userConvertor(i,y,null==f?void 0:f.impr_id);return e.push(n),t.push(o),n.uniqueId})),n=(0,h.of)(this.user.getActions().multiSetUser(e),this.user.getActions().multiSetUserStats(t),this.getActions().addSearchResult({key:"user",result:{hasMore:Boolean(l),keyword:a.keyword,cursor:d,error:null,items:i,loading:!1,rid:y,preloadList:[]}}),this.getActions().setSearchGlobalParams({preSearchId:y}));return x?(0,g.h)(r,n,x):(0,g.h)(r,n)}return x?(0,g.h)(r,x):r})),this.catchError({isEmpty:Boolean(c.length),key:"user",keyword:a.keyword,state:s,teaParams:i,isSendSearch:0===d}),(0,b.Z)(this.getActions().setSearchLoading({key:"user",loading:!0}),this.getActions().setShowTabs(!0),this.getActions().setKeyword({key:"user",keyword:a.keyword})),(0,x.q)(this.getActions().setSearchLoading({key:"user",loading:!1}),this.terminate()),(0,S.Q)(this.getAction$().dispose))})))}getVideoSearch(e){return e.pipe((0,v.E)(this.state$,this.videoMask.state$,this.bizContext.state$,this.personalization.state$,this.videoPlayerJotai.state$),(0,m.T)((([e,t,i,n,{isSearchPersonalized:o},r])=>({query:e,state:t.video,searchGlobalParams:t.searchGlobalParams,videoMaskState:i,bizContextState:n,nonPersonalized:o?void 0:1,currentVideo:r.currentVideo}))),(0,f.n)((e=>{var t=e.query,{teaParams:i,abTestVersion:n,language:o,user:r,filterId:a}=t,s=(0,l.Tt)(t,["teaParams","abTestVersion","language","user","filterId"]),{state:d,state:{cursor:c,items:u,rid:p},videoMaskState:_,searchGlobalParams:v,currentVideo:m,nonPersonalized:f}=e;let w=(0,h.of)({});s.keyword&&!(0,A.fU)()&&(w=this.service.getVideoSearch(Object.assign(Object.assign({},s),{offset:c,count:20,search_id:p,web_search_code:this.getWebSearchCode(n),is_non_personalized_search:f})));const T=Date.now();return w.pipe((0,k.M)((e=>{var t,n;const{item_list:o=[],log_pb:r,extra:a}=e,l=null!==(t=null!=p?p:null==a?void 0:a.logid)&&void 0!==t?t:"";if(o.length){const e=u.length;o.forEach(((t,i)=>{var n;j.$G.handleSearchVideoImpression({search_type:"video",enter_from:"search_result",group_id:null==t?void 0:t.id,author_id:null===(n=null==t?void 0:t.author)||void 0===n?void 0:n.id,rank:e+i,search_keyword:s.keyword,impr_id:null==r?void 0:r.impr_id,search_id:l})}))}else j.$G.handleSearchResultEmpty({search_keyword:s.keyword,impr_id:null==r?void 0:r.impr_id,search_id:l});0===c&&i&&j.$G.handleSearch(Object.assign(Object.assign({},i),{search_id:l,search_keyword:s.keyword,impr_id:null==r?void 0:r.impr_id,duration:Date.now()-T,pre_search_id:v.preSearchId,group_id:null!==(n=null==m?void 0:m.id)&&void 0!==n?n:void 0}))})),(0,y.Z)((e=>{var t,i,l,c,u;const v=this.seoModule.setSearchSEOProps(e,{language:o},{pathname:C.OZ.searchVideo,input_keyword:s.keyword}),{has_more:m,cursor:f,item_list:y=[],extra:b,search_nil_info:x,suicide_prevent:S,search_nil_text:k,status_code:w,log_pb:j}=e,T=[0,203,403].includes(w)?0:w,I=x&&[11,13].includes(null!==(t=x.text_type)&&void 0!==t?t:0),O=null!==(i=null!=p?p:null==b?void 0:b.logid)&&void 0!==i?i:"";if(!y.length&&!m&&!I)return this.generateErrorState({search_nil_info:x,search_nil_text:k,suicide_prevent:S,state:d,key:"video",keyword:s.keyword,pathname:C.OZ.searchVideo,action$s:[v]});let L=[];const E=y.filter((e=>e.id!==a));L=1===(null==r?void 0:r.photoSensitiveVideosSetting)||!r&&1===_.photoSensitiveVideosSetting?E.filter((e=>4!==(null==e?void 0:e.maskType))).map((({id:e})=>e)):E.map((({id:e})=>e));const A=null!==(l=E.map((e=>{const{video:{id:t,playAddr:i=""}}=e;return{id:t,url:i}})))&&void 0!==l?l:[];let P=null;I&&(P={type:null!==(c=null==x?void 0:x.text_type)&&void 0!==c?c:11,data:Object.assign(Object.assign({},S),{et_search_id:null!==(u=null==b?void 0:b.logid)&&void 0!==u?u:""})});const R=(0,h.of)(this.itemList.getActions().setList({response:{itemList:E,hasMore:Boolean(m),statusCode:T,log_pb:j},key:"search_video",abTestVersion:n,language:o,user:r}),this.getActions().addSearchResult({key:"video",result:{hasMore:Boolean(m),keyword:s.keyword,cursor:null!=f?f:0,error:null,items:L,loading:!1,rid:null!=p?p:null==b?void 0:b.logid,preloadList:A}}),this.getActions().setSearchPrecheck({key:"video",value:P}),this.getActions().setSearchGlobalParams({preSearchId:O}));return(0,g.h)(R,v)})),this.catchError({isEmpty:Boolean(u.length),state:d,keyword:s.keyword,teaParams:i,key:"video",isSendSearch:0===c}),(0,b.Z)(this.getActions().setSearchLoading({key:"video",loading:!0}),this.getActions().setShowTabs(!0),this.getActions().setKeyword({key:"video",keyword:s.keyword})),(0,x.q)(this.getActions().setSearchLoading({key:"video",loading:!1}),this.terminate()),(0,S.Q)(this.getAction$().dispose))})))}getLiveSearch(e){return e.pipe((0,v.E)(this.state$,this.bizContext.state$,this.personalization.state$,this.videoPlayerJotai.state$),(0,m.T)((([e,t,i,{isSearchPersonalized:n},o])=>({query:e,state:t.live,searchGlobalParams:t.searchGlobalParams,bizContextState:i,nonPersonalized:n?void 0:1,currentVideo:o.currentVideo}))),(0,f.n)((e=>{var t=e.query,{teaParams:i,abTestVersion:n,language:o,user:r}=t,a=(0,l.Tt)(t,["teaParams","abTestVersion","language","user"]),{state:s,state:{cursor:d,items:c,rid:u},searchGlobalParams:p,currentVideo:_,nonPersonalized:v}=e;let f=(0,h.of)({});a.keyword&&!(0,A.fU)()&&(f=this.service.getLiveSearch(Object.assign(Object.assign({},a),{offset:d,count:20,search_id:u,web_search_code:this.getWebSearchCode(n),is_non_personalized_search:v})));const w=Date.now(),T=f.pipe((0,m.T)((e=>{var t;return Object.assign(Object.assign({},e),{data:null===(t=e.data)||void 0===t?void 0:t.map((e=>{var t,i;return JSON.parse(null!==(i=null===(t=e.live_info)||void 0===t?void 0:t.raw_data)&&void 0!==i?i:"{}")}))})})));return T.pipe((0,k.M)((e=>{var t,n;const{data:o=[],log_pb:r,extra:s}=e,l=null!==(t=null!=u?u:null==s?void 0:s.logid)&&void 0!==t?t:"";if(o.length){const e=c.length;o.forEach((({user_count:t=0,like_count:i=0,id_str:n},o)=>{const s=t<=50&&i>t;j.$G.handleSearchImpression({search_id:l,search_result_id:n,enter_from:"search_result",search_keyword:a.keyword,token_type:"live_card",is_aladdin:0,rank:e+o,result_source:"search",room_tag:"",like_number:s?i:"",realtime_watch_user:s?"":t,search_type:"live",impr_id:null==r?void 0:r.impr_id})}))}else j.$G.handleSearchResultEmpty({search_keyword:a.keyword,impr_id:null==r?void 0:r.impr_id,search_id:l});0===d&&i&&j.$G.handleSearch(Object.assign(Object.assign({},i),{search_id:l,search_keyword:a.keyword,impr_id:null==r?void 0:r.impr_id,duration:Date.now()-w,pre_search_id:p.preSearchId,group_id:null!==(n=null==_?void 0:_.id)&&void 0!==n?n:void 0}))})),(0,y.Z)((e=>{var t,i,l,d;const c=this.seoModule.setSearchSEOProps(e,{language:o},{pathname:C.OZ.searchLive,input_keyword:a.keyword}),{has_more:p,cursor:_,data:v=[],extra:m,search_nil_info:f,suicide_prevent:y,search_nil_text:b,status_code:x}=e,S=[0,203,403].includes(x)?0:x,k=f&&[11,13].includes(null!==(t=f.text_type)&&void 0!==t?t:0),w=null!==(i=null!=u?u:null==m?void 0:m.logid)&&void 0!==i?i:"";if(!v.length&&!p&&!k)return this.generateErrorState({search_nil_info:f,search_nil_text:b,suicide_prevent:y,state:s,key:"live",keyword:a.keyword,pathname:C.OZ.searchLive,action$s:[c]});let j=null;k&&(j={type:null!==(l=null==f?void 0:f.text_type)&&void 0!==l?l:11,data:Object.assign(Object.assign({},y),{et_search_id:null!==(d=null==m?void 0:m.logid)&&void 0!==d?d:""})});const T=(0,h.of)(this.liveList.getActions().setList({response:{liveList:v,hasMore:Boolean(p),statusCode:S},key:"search_live",abTestVersion:n,language:o,user:r}),this.getActions().addSearchResult({key:"live",result:{hasMore:Boolean(p),keyword:a.keyword,cursor:null!=_?_:0,error:null,items:v.map((e=>e.id_str)),loading:!1,rid:null!=u?u:null==m?void 0:m.logid}}),this.getActions().setSearchPrecheck({key:"live",value:j}),this.getActions().setSearchGlobalParams({preSearchId:w}));return(0,g.h)(T,c)})),this.catchError({isEmpty:Boolean(c.length),state:s,keyword:a.keyword,teaParams:i,key:"video",isSendSearch:0===d}),(0,b.Z)(this.getActions().setSearchLoading({key:"live",loading:!0}),this.getActions().setShowTabs(!0),this.getActions().setKeyword({key:"live",keyword:a.keyword})),(0,x.q)(this.getActions().setSearchLoading({key:"live",loading:!1}),this.terminate()),(0,S.Q)(this.getAction$().dispose))})))}handleTopSearchReport({state:{data:e,totalLength:t,rid:i},isSendSearch:n,teaParams:o,keyword:r,requestStart:a,searchGlobalParams:s,groupId:l}){return(0,k.M)((d=>{var c;const{data:u=[],log_pb:p,extra:h={}}=d,{logid:g}=h,_=null!==(c=null!=i?i:g)&&void 0!==c?c:"",{impr_id:v}=null!=p?p:{};if(u.length){const i=e.videoList.length,n={enter_from:"general_search",userStart:t-e.videoList.length,totalLength:t,keyword:r,impr_id:v,searchId:_,videoStart:i,count:0,userCount:0,videoCount:0},o={search_type:"general",search_id:_,search_keyword:r};u.forEach((e=>{var t,i;null===(i=Z[null!==(t=null==e?void 0:e.type)&&void 0!==t?t:""])||void 0===i||i.call(Z,e,n,o)}))}else j.$G.handleSearchResultEmpty({search_keyword:r,impr_id:v,search_id:_});n&&o&&j.$G.handleSearch(Object.assign(Object.assign({},o),{search_id:_,search_keyword:r,impr_id:v,duration:Date.now()-a,pre_search_id:s.preSearchId,group_id:null!=l?l:void 0}))}))}catchError({isEmpty:e,teaParams:t,keyword:i,key:n,state:o,isSendSearch:r}){return(0,w.W)((()=>e?(E.F.open({content:this.t("server_error_title"),duration:3,widthType:"half"}),(0,h.of)(this.noop())):(r&&t&&j.$G.handleSearch(Object.assign(Object.assign({},t),{search_id:"",search_keyword:i})),(0,h.of)(this.getActions().setSearchResult({key:n,result:Object.assign(Object.assign({},o),{keyword:i,error:{type:-1}})})))))}generateErrorState(e){const{search_nil_info:t,search_nil_text:i,state:n,key:o,keyword:r,actions:a=[],action$s:s=[]}=e,{text_type:l}=null!=t?t:{text_type:10},d={type:l||10};12===l&&(d.extra=i);const c=(0,h.of)(this.getActions().setSearchResult({key:o,result:Object.assign(Object.assign({},n),{keyword:r,error:d})}),...a);return(0,g.h)(c,...s)}userConvertor(e,t,i){var n;return{user:(0,R.bg)(e,{search_id:t,impr_id:i}),stats:{uniqueId:null!==(n=e.unique_id)&&void 0!==n?n:"",stats:(0,D.sg)(e,!0)}}}getWebSearchCode(e){var t,i;const{parameters:n={}}=null!=e?e:{},{search_add_live:o,search_server:r}=n,a={tiktok:{client_params_x:{search_engine:{}},search_server:{}}};return"v2"===(null==o?void 0:o.vid)&&(a.tiktok.client_params_x.search_engine.ies_mt_user_live_video_card_use_libra=1,a.tiktok.client_params_x.search_engine.mt_search_general_user_live_card=1),Object.keys(null!==(t=null==r?void 0:r.vid)&&void 0!==t?t:{}).length>0&&(a.tiktok.search_server=null!==(i=null==r?void 0:r.vid)&&void 0!==i?i:{}),JSON.stringify(a)}};(0,l.Cg)([(0,c.uk)(),(0,l.Sn)("design:type",_.c)],Q.prototype,"dispose",void 0),(0,l.Cg)([(0,c.h5)(),(0,l.Sn)("design:type",Function),(0,l.Sn)("design:paramtypes",[Object,Object]),(0,l.Sn)("design:returntype",void 0)],Q.prototype,"setSearchResult",null),(0,l.Cg)([(0,c.h5)(),(0,l.Sn)("design:type",Function),(0,l.Sn)("design:paramtypes",[Object,Object]),(0,l.Sn)("design:returntype",void 0)],Q.prototype,"setSearchReminderData",null),(0,l.Cg)([(0,c.h5)(),(0,l.Sn)("design:type",Function),(0,l.Sn)("design:paramtypes",[Object,Object]),(0,l.Sn)("design:returntype",void 0)],Q.prototype,"addSearchResult",null),(0,l.Cg)([(0,c.h5)(),(0,l.Sn)("design:type",Function),(0,l.Sn)("design:paramtypes",[Object,Object]),(0,l.Sn)("design:returntype",void 0)],Q.prototype,"addTopSearchResult",null),(0,l.Cg)([(0,c.h5)(),(0,l.Sn)("design:type",Function),(0,l.Sn)("design:paramtypes",[Object,Object]),(0,l.Sn)("design:returntype",void 0)],Q.prototype,"setSearchLoading",null),(0,l.Cg)([(0,c.h5)(),(0,l.Sn)("design:type",Function),(0,l.Sn)("design:paramtypes",[Object,Object]),(0,l.Sn)("design:returntype",void 0)],Q.prototype,"setIsGoToHashtag",null),(0,l.Cg)([(0,c.h5)(),(0,l.Sn)("design:type",Function),(0,l.Sn)("design:paramtypes",[Object,Boolean]),(0,l.Sn)("design:returntype",void 0)],Q.prototype,"setShowTabs",null),(0,l.Cg)([(0,c.h5)(),(0,l.Sn)("design:type",Function),(0,l.Sn)("design:paramtypes",[Object,Object]),(0,l.Sn)("design:returntype",void 0)],Q.prototype,"setSearchGlobalParams",null),(0,l.Cg)([(0,c.h5)(),(0,l.Sn)("design:type",Function),(0,l.Sn)("design:paramtypes",[Object,Object]),(0,l.Sn)("design:returntype",void 0)],Q.prototype,"setSearchPrecheck",null),(0,l.Cg)([(0,c.h5)(),(0,l.Sn)("design:type",Function),(0,l.Sn)("design:paramtypes",[Object,Object]),(0,l.Sn)("design:returntype",void 0)],Q.prototype,"setKeyword",null),(0,l.Cg)([(0,c.h5)(),(0,l.Sn)("design:type",Function),(0,l.Sn)("design:paramtypes",[Object]),(0,l.Sn)("design:returntype",void 0)],Q.prototype,"resetSearchResult",null),(0,l.Cg)([(0,c.Mj)({payloadGetter:1,skipFirstClientDispatch:!1}),(0,l.Sn)("design:type",Function),(0,l.Sn)("design:paramtypes",[_.c]),(0,l.Sn)("design:returntype",void 0)],Q.prototype,"getTopSearch",null),(0,l.Cg)([(0,c.Mj)({payloadGetter:1,skipFirstClientDispatch:!1}),(0,l.Sn)("design:type",Function),(0,l.Sn)("design:paramtypes",[_.c]),(0,l.Sn)("design:returntype",void 0)],Q.prototype,"getUserSearch",null),(0,l.Cg)([(0,c.Mj)({payloadGetter:1,skipFirstClientDispatch:!1}),(0,l.Sn)("design:type",Function),(0,l.Sn)("design:paramtypes",[_.c]),(0,l.Sn)("design:returntype",void 0)],Q.prototype,"getVideoSearch",null),(0,l.Cg)([(0,c.Mj)({payloadGetter:1,skipFirstClientDispatch:!1}),(0,l.Sn)("design:type",Function),(0,l.Sn)("design:paramtypes",[_.c]),(0,l.Sn)("design:returntype",void 0)],Q.prototype,"getLiveSearch",null),Q=(0,l.Cg)([(0,u.n)("Search"),(0,l.Qj)(9,(0,p.y)(P.hp)),(0,l.Sn)("design:paramtypes",[V.S,B.U,N.E,U.O,F.F,z.w,M.$,G.Q,q.fu,Function])],Q)},28633:(e,t,i)=>{i.d(t,{Jq:()=>c,pF:()=>d});var n=i(11379),o=i(25724),r=i(29756),a=i(63483),s=i(46863),l=i(52602);const d="l_s_platform",c="l_s_user",u={platformId:a.Ag.copy,user:{id:"",uniqueId:"",nickname:"",avatarThumb:"",avatarMedium:"",avatarLarger:"",signature:"",relation:-1}},p=()=>(0,n.sH)(void 0,void 0,void 0,(function*(){const e=Object.assign({},u);if("undefined"==typeof window||"undefined"==typeof document)return e;try{if(e.platformId=(0,l._S)(d,a.Ag.copy),e.user.id=(0,l._S)(c,""),e.user.id&&!e.user.avatarThumb){const t=yield function(e){return(0,n.sH)(this,void 0,void 0,(function*(){try{const t=yield(0,s.Gp)().getUserDetail({userId:e});return 0===t.statusCode&&t.userInfo?t.userInfo.user:(console.warn(`Warn: Unable to get last shared friend info for user ${e}`,t),null)}catch(e){return console.error("Error fetching user details:",e),null}}))}(e.user.id);if(!t)return console.error("Unable to get last shared friend info, default to copy method!"),e.platformId=a.Ag.copy,e;e.user=Object.assign({},t)}}catch(t){return console.error("getDefaultState() failed for getting shared info..."),e}return e})),h=(0,o.atom)(u);h.debugLabel="lastSharedAtom";const{useServiceDispatchers:g,useServiceState:_}=(0,r.i)(h,((e,t)=>({initLastSharedAtom:()=>(0,n.sH)(void 0,void 0,void 0,(function*(){const{platformId:i,user:n}=e(h);if(i&&n.id&&n.avatarThumb)return;const o=yield p();t(h,(e=>Object.assign(Object.assign({},e),o)))})),updateLastSharedInfo:e=>{var i,n;t(h,(t=>Object.assign(Object.assign({},t),{platformId:(null==e?void 0:e.platformId)||a.Ag.copy,user:(null==e?void 0:e.user)||t.user}))),(0,l.AP)(d,e.platformId),e.user&&(0,l.AP)(c,null!==(n=null===(i=e.user)||void 0===i?void 0:i.id)&&void 0!==n?n:"")}})))},85933:(e,t,i)=>{i.d(t,{c:()=>L});var n,o,r=i(11379),a=i(65622),s=i(18898),l=i(45372),d=i.n(l),c=i(34543),u=i.n(c),p=i(63161),h=i(48420),g=i(2070),_=i(52602),v=i(44459),m=i(54469),f=i(23685),y=i.n(f);!function(e){e.IMCloud="5",e.WatchOnPC="134217786"}(n||(n={})),function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(o||(o={}));var b,x,S=i(50374);!function(e){e.LiveMobileRelayProcess="livesdk_open_on_computer_process"}(b||(b={})),function(e){e.MessageReceived="message_received",e.MessageParseFailed="message_parse_failed",e.OpenLiveRoomStart="open_live_room_start",e.OpenLiveRoomFailed="open_live_room_failed"}(x||(x={}));const k=e=>{S.f.event(b.LiveMobileRelayProcess,e)};var w=i(56295),C=i(14218);const j=e=>{((e,t,i)=>{if(window.SlardarClient)try{window.SlardarClient("sendEvent",{name:"livesdk_open_on_computer_process",categories:i,metrics:{}})}catch(e){}})(0,0,e)},T=({uniqueId:e})=>{try{k({action_type:x.OpenLiveRoomStart}),j({action_type:x.OpenLiveRoomStart});const t=(0,w.G2o)({uniqueId:e});window.location.href=t,(0,_.J2)(C.Nj,JSON.stringify({time:Date.now(),isFromMobileRelay:"1",uniqueId:e}))}catch(e){k({action_type:x.OpenLiveRoomFailed,error_msg:JSON.stringify(e)}),j({action_type:x.OpenLiveRoomFailed,error_msg:JSON.stringify(e)})}};let I;let O;const L=()=>{const e=(0,h.V)(),{user:t,encryptedWebid:l,lang:c,env:f,wid:b,$wsUrl:S}=(0,s.P)(m.L,{dependencies:[],selector:t=>{var i,n,o,r;return{user:null===(i=t.appContext)||void 0===i?void 0:i.user,wid:null===(n=t.appContext)||void 0===n?void 0:n.wid,encryptedWebid:null===(o=t.appContext)||void 0===o?void 0:o.encryptedWebid,lang:t.lang,env:null===(r=t.appContext)||void 0===r?void 0:r.env,$wsUrl:e.imFrontier.replace(/\/ws\/v\d+/,"")}}}),w=(0,a.useRef)(),L=(0,v.OW)("webapp_push_init_url",{}).disable_url,{pathname:E}=(0,p.zy)(),A=(0,a.useMemo)((()=>!!L&&Boolean((0,p.B6)(E,{path:L,exact:!0}))),[L,E]),P=(0,a.useCallback)(((e,t)=>(0,r.sH)(void 0,void 0,void 0,(function*(){const{FWS:o}=yield Promise.all([i.e(93278),i.e(29168),i.e(68105),i.e(32228)]).then(i.t.bind(i,9552,23)),r=new o(Object.assign({},e));w.current=r,r.onmessage=e=>{((e,t)=>{var i,o;try{if(String(null!==(o=null===(i=e.message)||void 0===i?void 0:i.service)&&void 0!==o?o:"0")===n.WatchOnPC)return void(({event:e,uid:t})=>{k({action_type:x.MessageReceived}),j({action_type:x.MessageReceived});try{const i=(e=>{var t,i;return y().parse(null!==(i=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.textPayload)&&void 0!==i?i:"{}")})(e),n=i.UserID.toString(),o=i.DisplayID.toString();if(String(n)!==t)throw new Error("uid not match");"visible"===document.visibilityState?(T({uniqueId:o}),I&&clearTimeout(I),I=setTimeout((()=>{(0,_.sc)(C.S0),clearTimeout(I)}),500)):(0,_.AP)(C.S0,JSON.stringify({time:Date.now(),payload:i}))}catch(e){k({action_type:x.MessageParseFailed,error_msg:JSON.stringify(e)}),j({action_type:x.MessageParseFailed,error_msg:JSON.stringify(e)})}})({event:e,uid:t})}catch(e){console.log("[dev] frontier onmessage error",JSON.stringify(e))}})(e,t)}}))),[]),R=(0,a.useCallback)((()=>{if(!w.current||A)return;const e=w.current.readyState;[o.closed,o.closing].includes(e)&&w.current.reconnect()}),[w,A]);(0,a.useEffect)((()=>{var e;const i=g.hd.getRiskParams(0),n=(()=>{var e;const t=`; ${document.cookie}`.split("; msToken=");return t.length>0?null===(e=t.pop())||void 0===e?void 0:e.split(";").shift():null})()||"";Object.keys(i).forEach((e=>{void 0!==i[e]?i[e]=String(i[e]):i[e]=""})),i.referer||(i.referer=window.location.href);const o={fpID:"9",aID:"1459",accessKey:u()(`9e1bd35ec9db7b8d846de66ed140b1ad9${b}f8a69f1719916z`).toString(),ttwID:window.decodeURIComponent(null!=l?l:""),url:S,payloadEncoding:{encoding:"",force:!0},payloadType:{type:"application/json",force:!0},enableTransformTextPayload:!0,enableAutoAck:!0,headers:Object.assign(Object.assign({},i),{from_appID:"1988",app_language:c,app_name:"tiktok_web",channel:"web",user_agent:navigator.userAgent,"Web-Sdk-Ms-Token":n}),whaleQueryParams:{aid:"1988",version_code:"1.0.0",app_name:"tiktok_web",device_platform:"web_pc"},"Web-Sdk-Ms-Token":n};Object.assign(o,{debug:!1}),(null==t?void 0:t.uid)&&l&&!(null==w?void 0:w.current)&&!A&&(O&&clearTimeout(O),O=setTimeout((()=>{P(o,t.uid)}),5e3)),A&&(null===(e=null==w?void 0:w.current)||void 0===e||e.close(),O&&clearTimeout(O))}),[null==f?void 0:f.name,c,b,l,S,P,A]),(0,a.useEffect)((()=>{const e=()=>{const e=JSON.parse((0,_._S)(C.S0)||"{}");if(e&&e.time&&e.payload)if(Date.now()-e.time<=6e4){if("visible"===document.visibilityState){const{DisplayID:t}=e.payload;(0,_.sc)(C.S0),T({uniqueId:t})}}else(0,_.sc)(C.S0),k({action_type:x.MessageParseFailed,error_msg:"message expired"}),j({action_type:x.MessageParseFailed,error_msg:"message expired"})};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}),[]),(0,a.useEffect)((()=>{const e=(0,_.Gz)(d(),R);return()=>{var t;null==e||e(),null===(t=null==w?void 0:w.current)||void 0===t||t.close(),O&&clearTimeout(O)}}),[])}},54353:(e,t,i)=>{i.d(t,{Tu:()=>m,yS:()=>h});var n=i(56139),o=i(65622),r=i(6023),a=i(37268),s=i(52528),l=i(22616),d=i(88149),c=i(55148),u=i(61942),p=i(46863);function h(e=""){return(0,p.nW)((t=>t.users[e]),u.bN)}i(53535);const g={[-1]:"Follow",0:"Follow",1:"Following",3:"requested",2:"friends",4:"webapp_unblocked_button1",5:"Follow",6:"Follow"},_="Inbox_Follow_back",v=(e,t)=>{if(1===t){if(e<1)return _;if(1===e)return g[2]}else if(!t&&6===e)return _;return g[e]};function m({uniqueId:e,followerStatus:t,prevent:i,onNeedLogin:h,teaParams:g={},isInLiveCard:_=!1,liveCardTeaParams:m={},liveFollowStatus:f}){const y=(0,l.W)((()=>["user"]),[]),b=Boolean(null==y?void 0:y.user),[{relation:x,secUid:S},k]=(0,p.JY)((t=>{var i,n,o,r;return{relation:null!==(n=null===(i=t.users[e])||void 0===i?void 0:i.relation)&&void 0!==n?n:-1,secUid:null!==(r=null===(o=t.users[e])||void 0===o?void 0:o.secUid)&&void 0!==r?r:""}}),u.bN);(0,o.useEffect)((()=>{_&&k.setUserRelation({uniqueId:e,relation:Number(null!=f?f:0)})}),[]);const w=(0,n.w)(c.k),C=(0,d.tc)(),{showRightSideComments:j}=(0,d.vP)(),{play_mode:T,group_id:I}=g,O=(0,o.useCallback)((t=>{var n;if(i&&(t.preventDefault(),t.stopPropagation()),r.O.handleGeneralClick("follow",{scene:null!==(n=g.scene)&&void 0!==n?n:"video_feed",group_id:I,play_mode:T}),!b)return null==h?void 0:h();4!==x?(k.postCommitFollowUser(Object.assign(Object.assign({},g),{uniqueId:e,useFollowV2:C,resetWebappQuery:j})),1!==x&&w.addMlModelTrainData({id:g.group_id,action:"follow"}),_&&(1===x?a.YH.handleUnFollow(m):a.YH.handleFollow(m))):k.blockOrUnblockUser({uniqueId:e,secUid:S,isBlock:!0,resetWebappQuery:j})}),[i,b,x,k,g,e,C,_,h,S,m]),L=(0,s.s)()(v(x,t));return{isFollowing:1===x||2===x,text:L,handleFollow:O,relation:x}}},19303:(e,t,i)=>{i.d(t,{E7:()=>m,sL:()=>v});var n=i(56139),o=i(65622),r=i(5238),a=i(88457),s=i(88149),l=i(98281),d=i(12688),c=i(39232);const u=()=>{var e,t;const{user:i}=(0,c.x)();return{showAds:"v2"===(null!==(e=(0,d.d)("enable_ads"))&&void 0!==e?e:"v1")&&!!i,showAboutThisAd:"v2"===(null!==(t=(0,d.d)("enable_about_this_ad"))&&void 0!==t?t:"v1")}};var p=i(22616),h=i(48470),g=i(62389),_=i(9190);function v(){const{foryou:{isForyouListJotai:e}}=(0,s.tL)(),t=(0,r.sL)(),i=(0,n.w)(_.O);return(0,o.useMemo)((()=>e?t:{dispose$:i.dispose$,getRecommendList:i.getRecommendList,setDeleteVideo:i.setDeleteVideo,resetRecommendList:e=>i.resetItemList(Object.assign({key:"foryou"},e)),setRecommendListById:e=>i.setItemListById(Object.assign({key:"foryou"},e))}),[e,t,i])}function m(e,t,i="",n=""){const{streamDeviceType:r}=(0,h.A)(),s=v(),{user:d,language:_,abTestVersion:m}=(0,l.L$)((0,p.W)((()=>["user","language","abTestVersion"]),[])),f=u();return(0,o.useCallback)((()=>{var o,l;n&&s.setRecommendListById({list:[n]});const p=(0,a.fU)()?"":(0,g.ey)(),h=function(e,t,i){const n=(0,c.x)(),{user:o,language:r,abTestVersion:s}=n,l=(0,a.fU)()?"":(0,g.ey)();return{itemId:e,key:"foryou",routeName:t,language:r,abTestVersion:s,user:o,pullType:1,ttamParams:u(),fypFeederItemId:i,watchLiveLastTime:l,device_type:"web_h264"}}(e,t,i),v={itemId:e,key:"foryou",routeName:t,language:_,abTestVersion:m,user:d,pullType:1,ttamParams:f,watchLiveLastTime:p,device_type:r,fypFeederItemId:i};console.debug("[useFYPRecommendListFirstPull]","originParams",v,"expParams",h,JSON.stringify(h)===JSON.stringify(v));const y="v2"!==(null===(l=null===(o=null==m?void 0:m.parameters)||void 0===o?void 0:o.foryou_prefetch)||void 0===l?void 0:l.vid)?v:h;s.getRecommendList(y)}),[m,s,r,e,_,t,d,f,i,n])}},69474:(e,t,i)=>{function n(){return!!window.liveSdk_recharge_coinsConfigLogId}function o(){return{charge_from:window.liveSdk_recharge_coinsConfigRefhash||"",request_id:window.liveSdk_recharge_coinsConfigLogId||""}}i.d(t,{h8:()=>o,mR:()=>n})},72339:(e,t,i)=>{i.d(t,{h:()=>n});const n=(0,i(22715).Ay)({resolved:{},chunkName:()=>"multi-account-controller",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!i.m[t]},importAsync:()=>Promise.all([i.e(7181),i.e(63392),i.e(91427),i.e(22318),i.e(80241),i.e(34336),i.e(41387),i.e(81429),i.e(98873),i.e(86536),i.e(23446),i.e(93290),i.e(63557),i.e(61274),i.e(72618),i.e(72142),i.e(21683),i.e(36514),i.e(45308),i.e(18605),i.e(42486),i.e(24875),i.e(71493),i.e(73593),i.e(49920),i.e(57104),i.e(78474),i.e(8177),i.e(99937),i.e(41605),i.e(14437)]).then(i.bind(i,44317)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>44317})},19241:(e,t,i)=>{i.d(t,{I7:()=>l,sT:()=>c});var n,o=i(30926),r=i(92337);!function(e){e.rewardOnboarding="rewardOnboarding",e.rewardOnboardingIframe="rewardOnboardingIframe",e.verifyIdentityForm="verifyIdentityForm",e.verifyIdentityFormV2="verifyIdentityFormV2",e.pipoAppealForm="pipoAppealForm",e.verifyIdentityResult="verifyIdentityResult",e.coin="coin",e.coinWithHash="coinWithHash",e.coinWithUser="coinWithUser",e.coinWithHashAndUser="coinWithHashAndUser",e.coinCashier="coinCashier",e.coinRedeem="coinRedeem",e.coinReferral="coinReferral",e.coinPaymentResult="coinPaymentResult",e.coinTransactions="coinTransactions",e.coinUnavailable="coinUnavailable",e.coinTerms="coinTerms",e.coinTermsGiftCardPolicy="coinTermsGiftCardPolicy",e.coinTransactionsDetail="coinTransactionsDetail",e.coinCardManagement="coinCardManagement",e.coinExchange="coinExchange",e.coinBindInfo="coinBindInfo",e.coinPlaceOrder="coinPlaceOrder",e.coinPlaceOrderWithHash="coinPlaceOrderWithHash",e.tax="tax",e.euTaxForm="euTaxForm",e.w9TaxSelect="w9TaxSelect",e.w9TaxInputIndividual="w9TaxInputIndividual",e.w9TaxInputEntity="w9TaxInputEntity",e.taxPaperlessConsent="taxPaperlessConsent",e.taxComplete="taxComplete",e.taxInfoUs="taxInfoUs",e.w8TaxInput="w8TaxInput",e.taxInfoW8="taxInfoW8",e.taxOverview="taxOverview",e.taxEuWhtInfo="taxEuWhtInfo",e.taxEuWhtInput="taxEuWhtInput",e.taxEuVatInfo="taxEuVatInfo",e.taxEuVatInput="taxEuVatInput",e.taxSelfBilling="taxSelfBilling",e.periodic="periodic",e.periodicDashboard="periodicDashboard",e.periodicPastPayout="periodicPastPayout",e.periodicEarningsTransaction="periodicEarningsTransaction",e.periodicPayoutTransaction="periodicPayoutTransaction",e.coinPIVerifyFAQ="coinPIVerifyFAQ",e.coinPIVerifyForm="coinPIVerifyForm",e.coinPIVerifyStatus="coinPIVerifyStatus",e.taxW9Certify="taxW9Certify",e.emailUnsubscribe="emailUnsubscribe"}(n||(n={}));const a={rewardOnboarding:"/reward-onboarding",rewardOnboardingIframe:"/reward-onboarding/iframe",verifyIdentityForm:"/coin/verify-identity/form",verifyIdentityFormV2:"/coin/verify-identity/formV2",pipoAppealForm:"/unified-wallet/appeal/pipo-risk/form",verifyIdentityResult:"/coin/verify-identity/result",coin:"/coin",coinWithHash:"/coin/:refhash",coinWithUser:"/coin/@:uniqueId",coinWithHashAndUser:"/coin/:refhash/@:uniqueId",coinCashier:"/coin/cashier",coinRedeem:"/coin/redeem",coinReferral:"/coin/referral",coinPaymentResult:"/coin/payment-result",coinTransactions:"/coin/transaction-history",coinUnavailable:"/coin/unavailable",coinTerms:"/coin/legal/terms-of-purchase-for-coins",coinTermsGiftCardPolicy:"/coin/legal/gift-card-policy",coinTransactionsDetail:"/coin/transaction-history/detail",coinCardManagement:"/coin/card-management",coinExchange:"/coin/exchange",coinBindInfo:"/coin/bind-info",coinPlaceOrder:"/coin/place-order",coinPlaceOrderWithHash:"/coin/place-order/:refhash",tax:"/tax",euTaxForm:"/tax/eu-tax",w9TaxSelect:"/tax/us-w9-tax-select",w9TaxInputIndividual:"/tax/us-w9-tax-input-individual",w9TaxInputEntity:"/tax/us-w9-tax-input-entity",taxPaperlessConsent:"/tax/paperless-consent",taxComplete:"/tax/complete",taxInfoUs:"/tax/info-us",w8TaxInput:"/tax/w8-tax-input",taxInfoW8:"/tax/info-w8",taxOverview:"/tax/tax-overview",taxEuWhtInfo:"/tax/eu-wht-info",taxEuWhtInput:"/tax/eu-wht-input",taxEuVatInfo:"/tax/eu-vat-info",taxEuVatInput:"/tax/eu-vat-input",taxSelfBilling:"/tax/self-billing",periodic:"/periodic",periodicDashboard:"/periodic/dashboard",periodicPastPayout:"/periodic/past-payout",periodicEarningsTransaction:"/periodic/earnings-transaction",periodicPayoutTransaction:"/periodic/payout-transaction",coinPIVerifyFAQ:"/coin/pi-verify-faq",coinPIVerifyForm:"/coin/pi-verify-form",coinPIVerifyStatus:"/coin/pi-verify-status",taxW9Certify:"/tax/w9-certify",emailUnsubscribe:"/wallet/live-rewards/email-unsubscribe"};var s;(0,r.r)(a),(0,r.k)(a),function(e){e.rewardOnboarding="rewardOnboarding",e.rewardOnboardingIframe="rewardOnboardingIframe",e.verifyIdentityForm="verifyIdentityForm",e.verifyIdentityFormV2="verifyIdentityFormV2",e.pipoAppealForm="pipoAppealForm",e.verifyIdentityResult="verifyIdentityResult",e.coin="coin",e.coinWithHash="coinWithHash",e.coinWithUser="coinWithUser",e.coinWithHashAndUser="coinWithHashAndUser",e.coinCashier="coinCashier",e.coinRedeem="coinRedeem",e.coinReferral="coinReferral",e.coinPaymentResult="coinPaymentResult",e.coinTransactions="coinTransactions",e.coinUnavailable="coinUnavailable",e.coinTerms="coinTerms",e.coinTermsGiftCardPolicy="coinTermsGiftCardPolicy",e.coinTransactionsDetail="coinTransactionsDetail",e.coinCardManagement="coinCardManagement",e.coinExchange="coinExchange",e.coinBindInfo="coinBindInfo",e.coinPlaceOrder="coinPlaceOrder",e.coinPlaceOrderWithHash="coinPlaceOrderWithHash",e.tax="tax",e.euTaxForm="euTaxForm",e.w9TaxSelect="w9TaxSelect",e.w9TaxInputIndividual="w9TaxInputIndividual",e.w9TaxInputEntity="w9TaxInputEntity",e.taxPaperlessConsent="taxPaperlessConsent",e.taxComplete="taxComplete",e.taxInfoUs="taxInfoUs",e.w8TaxInput="w8TaxInput",e.taxInfoW8="taxInfoW8",e.taxOverview="taxOverview",e.taxEuWhtInfo="taxEuWhtInfo",e.taxEuWhtInput="taxEuWhtInput",e.taxEuVatInfo="taxEuVatInfo",e.taxEuVatInput="taxEuVatInput",e.taxSelfBilling="taxSelfBilling",e.periodic="periodic",e.periodicDashboard="periodicDashboard",e.periodicPastPayout="periodicPastPayout",e.periodicEarningsTransaction="periodicEarningsTransaction",e.periodicPayoutTransaction="periodicPayoutTransaction",e.coinPIVerifyFAQ="coinPIVerifyFAQ",e.coinPIVerifyForm="coinPIVerifyForm",e.coinPIVerifyStatus="coinPIVerifyStatus",e.taxW9Certify="taxW9Certify",e.emailUnsubscribe="emailUnsubscribe"}(s||(s={}));const l={rewardOnboarding:"/reward-onboarding",rewardOnboardingIframe:"/reward-onboarding/iframe",verifyIdentityForm:"/coin/verify-identity/form",verifyIdentityFormV2:"/coin/verify-identity/formV2",pipoAppealForm:"/unified-wallet/appeal/pipo-risk/form",verifyIdentityResult:"/coin/verify-identity/result",coin:"/coin",coinWithHash:"/coin/:refhash",coinWithUser:"/coin/@:uniqueId",coinWithHashAndUser:"/coin/:refhash/@:uniqueId",coinCashier:"/coin/cashier",coinRedeem:"/coin/redeem",coinReferral:"/coin/referral",coinPaymentResult:"/coin/payment-result",coinTransactions:"/coin/transaction-history",coinUnavailable:"/coin/unavailable",coinTerms:"/coin/legal/terms-of-purchase-for-coins",coinTermsGiftCardPolicy:"/coin/legal/gift-card-policy",coinTransactionsDetail:"/coin/transaction-history/detail",coinCardManagement:"/coin/card-management",coinExchange:"/coin/exchange",coinBindInfo:"/coin/bind-info",coinPlaceOrder:"/coin/place-order",coinPlaceOrderWithHash:"/coin/place-order/:refhash",tax:"/tax",euTaxForm:"/tax/eu-tax",w9TaxSelect:"/tax/us-w9-tax-select",w9TaxInputIndividual:"/tax/us-w9-tax-input-individual",w9TaxInputEntity:"/tax/us-w9-tax-input-entity",taxPaperlessConsent:"/tax/paperless-consent",taxComplete:"/tax/complete",taxInfoUs:"/tax/info-us",w8TaxInput:"/tax/w8-tax-input",taxInfoW8:"/tax/info-w8",taxOverview:"/tax/tax-overview",taxEuWhtInfo:"/tax/eu-wht-info",taxEuWhtInput:"/tax/eu-wht-input",taxEuVatInfo:"/tax/eu-vat-info",taxEuVatInput:"/tax/eu-vat-input",taxSelfBilling:"/tax/self-billing",periodic:"/periodic",periodicDashboard:"/periodic/dashboard",periodicPastPayout:"/periodic/past-payout",periodicEarningsTransaction:"/periodic/earnings-transaction",periodicPayoutTransaction:"/periodic/payout-transaction",coinPIVerifyFAQ:"/coin/pi-verify-faq",coinPIVerifyForm:"/coin/pi-verify-form",coinPIVerifyStatus:"/coin/pi-verify-status",taxW9Certify:"/tax/w9-certify",emailUnsubscribe:"/wallet/live-rewards/email-unsubscribe"};var d;(0,o.w)(l),(0,r.r)(l),(0,r.k)(l),function(e){e.rewardOnboarding="rewardOnboarding",e.rewardOnboardingIframe="rewardOnboardingIframe",e.verifyIdentityForm="verifyIdentityForm",e.verifyIdentityFormV2="verifyIdentityFormV2",e.pipoAppealForm="pipoAppealForm",e.verifyIdentityResult="verifyIdentityResult",e.coin="coin",e.coinWithHash="coinWithHash",e.coinWithUser="coinWithUser",e.coinWithHashAndUser="coinWithHashAndUser",e.coinCashier="coinCashier",e.coinRedeem="coinRedeem",e.coinReferral="coinReferral",e.coinPaymentResult="coinPaymentResult",e.coinTransactions="coinTransactions",e.coinUnavailable="coinUnavailable",e.coinTerms="coinTerms",e.coinTermsGiftCardPolicy="coinTermsGiftCardPolicy",e.coinTransactionsDetail="coinTransactionsDetail",e.coinCardManagement="coinCardManagement",e.coinExchange="coinExchange",e.coinBindInfo="coinBindInfo",e.coinPlaceOrder="coinPlaceOrder",e.coinPlaceOrderWithHash="coinPlaceOrderWithHash",e.tax="tax",e.euTaxForm="euTaxForm",e.w9TaxSelect="w9TaxSelect",e.w9TaxInputIndividual="w9TaxInputIndividual",e.w9TaxInputEntity="w9TaxInputEntity",e.taxPaperlessConsent="taxPaperlessConsent",e.taxComplete="taxComplete",e.taxInfoUs="taxInfoUs",e.w8TaxInput="w8TaxInput",e.taxInfoW8="taxInfoW8",e.taxOverview="taxOverview",e.taxEuWhtInfo="taxEuWhtInfo",e.taxEuWhtInput="taxEuWhtInput",e.taxEuVatInfo="taxEuVatInfo",e.taxEuVatInput="taxEuVatInput",e.taxSelfBilling="taxSelfBilling",e.periodic="periodic",e.periodicDashboard="periodicDashboard",e.periodicPastPayout="periodicPastPayout",e.periodicEarningsTransaction="periodicEarningsTransaction",e.periodicPayoutTransaction="periodicPayoutTransaction",e.coinPIVerifyFAQ="coinPIVerifyFAQ",e.coinPIVerifyForm="coinPIVerifyForm",e.coinPIVerifyStatus="coinPIVerifyStatus",e.taxW9Certify="taxW9Certify",e.emailUnsubscribe="emailUnsubscribe"}(d||(d={}));const c={rewardOnboarding:"/reward-onboarding",rewardOnboardingIframe:"/reward-onboarding/iframe",verifyIdentityForm:"/coin/verify-identity/form",verifyIdentityFormV2:"/coin/verify-identity/formV2",pipoAppealForm:"/unified-wallet/appeal/pipo-risk/form",verifyIdentityResult:"/coin/verify-identity/result",coin:"/coin",coinWithHash:"/coin/:refhash",coinWithUser:"/coin/@:uniqueId",coinWithHashAndUser:"/coin/:refhash/@:uniqueId",coinCashier:"/coin/cashier",coinRedeem:"/coin/redeem",coinReferral:"/coin/referral",coinPaymentResult:"/coin/payment-result",coinTransactions:"/coin/transaction-history",coinUnavailable:"/coin/unavailable",coinTerms:"/coin/legal/terms-of-purchase-for-coins",coinTermsGiftCardPolicy:"/coin/legal/gift-card-policy",coinTransactionsDetail:"/coin/transaction-history/detail",coinCardManagement:"/coin/card-management",coinExchange:"/coin/exchange",coinBindInfo:"/coin/bind-info",coinPlaceOrder:"/coin/place-order",coinPlaceOrderWithHash:"/coin/place-order/:refhash",tax:"/tax",euTaxForm:"/tax/eu-tax",w9TaxSelect:"/tax/us-w9-tax-select",w9TaxInputIndividual:"/tax/us-w9-tax-input-individual",w9TaxInputEntity:"/tax/us-w9-tax-input-entity",taxPaperlessConsent:"/tax/paperless-consent",taxComplete:"/tax/complete",taxInfoUs:"/tax/info-us",w8TaxInput:"/tax/w8-tax-input",taxInfoW8:"/tax/info-w8",taxOverview:"/tax/tax-overview",taxEuWhtInfo:"/tax/eu-wht-info",taxEuWhtInput:"/tax/eu-wht-input",taxEuVatInfo:"/tax/eu-vat-info",taxEuVatInput:"/tax/eu-vat-input",taxSelfBilling:"/tax/self-billing",periodic:"/periodic",periodicDashboard:"/periodic/dashboard",periodicPastPayout:"/periodic/past-payout",periodicEarningsTransaction:"/periodic/earnings-transaction",periodicPayoutTransaction:"/periodic/payout-transaction",coinPIVerifyFAQ:"/coin/pi-verify-faq",coinPIVerifyForm:"/coin/pi-verify-form",coinPIVerifyStatus:"/coin/pi-verify-status",taxW9Certify:"/tax/w9-certify",emailUnsubscribe:"/wallet/live-rewards/email-unsubscribe"};(0,o.w)(c),(0,r.r)(c),(0,r.k)(c)},45676:(e,t,i)=>{i.d(t,{d:()=>o});var n=i(50374);const o={handleClickAnalyticsButton:()=>{n.f.sendEvent("click_insight",{enter_method:"dropdown_button"})},handleClickAnalyticsVideoCover:e=>{n.f.sendEvent("video_play",{enter_from:"insight_page",widget_name:"video_detail",sub_widget:"null",enter_method:"video_card"}),n.f.sendEvent("click_insight",{enter_method:"invideo_button"}),n.f.sendEvent("enter_insight_detail",{widget_name:"video_detail",sub_widget:null,enter_method:"invideo_button",group_id:e})},handleProfileHoveShow:(e=!1)=>{n.f.sendEvent("livesdk_web_profile_hover_show",{is_ls_show:e?1:0})}}},53611:(e,t,i)=>{i.d(t,{R:()=>r});var n,o=i(50374);!function(e){e.ShowSnackbar="show_snackbar",e.ShowSnackbarAuto="show_snackbar_auto",e.ClickDownloadBar="click_download_bar",e.ClickGetForPC="click_get_for_pc",e.InstalWebApp="install_web_app",e.ClickGetApp="click_get_app_for_pc"}(n||(n={}));const r={handleShowSnack:e=>{const t=e?"show_snackbar_auto":"show_snackbar";o.f.event(t)},handleClickDownload:()=>{o.f.event("click_download_bar")},handleGetForPC:()=>{o.f.event("click_get_for_pc")},handleInstallApp:()=>{o.f.event("install_web_app")},handleClickGetApp:({enter_method:e})=>{o.f.event("click_get_app_for_pc",{enter_method:e})}}},12108:(e,t,i)=>{i.d(t,{U:()=>o});var n=i(50374);const o={handleDarkModeShow:()=>{n.f.sendEvent("dark_mode_show")},handleDarkModeClick:()=>{n.f.sendEvent("dark_mode_click")},handleDarkModePopUpShow:()=>{n.f.sendEvent("dark_mode_pop_up_show")},handleDarkModePopUpClose:()=>{n.f.sendEvent("dark_mode_pop_up_close")},handleDarkModePopUpDisappear:()=>{n.f.sendEvent("dark_mode_pop_up_disappear")}}},24318:(e,t,i)=>{i.d(t,{jA:()=>s});var n,o,r,a=i(50374);!function(e){e.Apple="apple",e.Amazon="amazon",e.Google="google",e.Download="download",e.Microsoft="microsoft"}(n||(n={})),function(e){e.Notify="download_app_notify",e.Confirm="download_app_confirm",e.Dismiss="download_app_dismiss",e.ClickAppStore="click_app_store",e.SwipeUpGuideShow="swipe_up_guide_show",e.SwipeUpGuideClose="swipe_up_guide_close"}(o||(o={})),function(e){e.XClose="x_close",e.ClickMask="click_mask",e.NotNow="not_now"}(r||(r={}));const s={handleClickAppStore:e=>{a.f.sendEvent("click_app_store",{channel:e,enter_from:"webapp_download_modal"})},handleDownloadShow:e=>{a.f.sendEvent("download_app_notify",e)},handleDownloadConfirm:e=>{a.f.sendEvent("download_app_confirm",e)},handleDownloadDismiss:e=>{a.f.sendEvent("download_app_dismiss",e)},handleNewUserGuideShow:e=>{a.f.sendEvent("swipe_up_guide_show",e)},handleNewUserGuideClose:e=>{a.f.sendEvent("swipe_up_guide_close",e)},tapDownloadConfirm:e=>{a.f.event("tap",Object.assign(Object.assign({},e),{duration:performance.now()})),window.__COIN_ACTIVITY_TAP_PARAMS&&a.f.event("luckycat_click_download",window.__COIN_ACTIVITY_TAP_PARAMS)}}},3954:(e,t,i)=>{i.d(t,{q:()=>l});var n,o=i(50374),r=i(95846),a=i(38397);!function(e){e.OneColumn="one_column",e.BrowserMode="browser_mode",e.VideoDetail="video_detail",e.VideoAnchor="video_anchor",e.CommentAnchor="comment_anchor",e.ClickCaption="click_caption"}(n||(n={}));const s={1:"regional",2:"store",3:"independent"},l={handleEnterTagDetail:e=>{o.f.sendEvent("enter_tag_detail",e)},handleEnterMusicDetail:e=>{o.f.sendEvent("enter_music_detail",e)},handleDiscoveryPage:e=>{o.f.sendEvent("enter_discovery_page",e)},handleEnterTopic:e=>{o.f.sendEvent("enter_topics_page",e)},handleEnterTrending:e=>{o.f.sendEvent("enter_homepage_hot",e)},handleEnterUser:e=>{o.f.sendEvent("enter_personal_detail",e),void 0!==e.group_id?(0,r.J2)(a.DK,e.group_id):(0,r.X)(a.DK)},handleEnterProfile:e=>{o.f.sendEvent("enter_personal_homepage",e)},handleEnterVideo:e=>{o.f.sendEvent("enter_video_detail",e)},handleEnterQuestion:e=>{o.f.sendEvent("enter_qa_detail_page",e)},handleEnterSet:e=>{o.f.sendEvent("enter_setting_page",e)},handleEnterFollowing:e=>{o.f.sendEvent("enter_homepage_follow",e)},handleEnterSuicidePrevention:e=>{o.f.sendEvent("tns_show_ssh_tips_support_page",e)},handleEnterLive:e=>{o.f.sendEvent("enter_live_detail",e)},handleEnterBusiness:()=>{o.f.sendEvent("enter_business_suite")},handleEnterLiveDiscover:e=>{o.f.sendEvent("enter_live_discover",e)},handleEnterKeyboardShortcut:()=>{o.f.sendEvent("enter_keyboard_setting")},handleEnterMessage:e=>{o.f.sendEvent("enter_homepage_message",Object.assign({enter_method:"click_button"},e))},handleEnterMusicPlaylist:e=>{o.f.sendEvent("enter_live_discover",e)},handleEnterQADetailPage:e=>{o.f.sendEvent("enter_qa_detail_page",e)},handleEnterPoi:e=>{const{enter_method:t,play_mode:i,author_id:n,group_id:r,id:a,type:l,cityCode:d,countryCode:c,typeCode:u,isClaimed:p,ttTypeCode:h,ttTypeNameMedium:g,ttTypeNameSuper:_,ttTypeNameTiny:v}=e;o.f.sendEvent("enter_poi_detail",{enter_method:t,play_mode:i,author_id:n,group_id:r,poi_id:a,poi_detail_type:s[null!=l?l:0],is_claimed:p?1:0,poi_city:d,poi_region_code:c,tt_poi_backend_type:`${_},${g},${v}|${h}`,poi_type_code:u})},handleEnterExplore:({enter_method:e})=>{o.f.sendEvent("enter_explore_page",{enter_method:e})},handleEnterFriends:({enter_method:e})=>{o.f.sendEvent("enter_friends_page",{enter_method:e})}}},42193:(e,t,i)=>{i.d(t,{S:()=>a});var n,o,r=i(50374);!function(e){e.ClickEntry="feedback",e.Confirm="feedback_confirm",e.Continue="feedback_continue",e.Submit="feedback_submit"}(n||(n={})),function(e){e.Yes="yes",e.No="no"}(o||(o={}));const a={handleEnterFeedback:e=>{r.f.event("feedback",{feedback_type:e})},handleSubmitFeedback:()=>{r.f.event("feedback_submit")},handleFeedbackResponseClick:e=>{r.f.event("feedback_confirm",{enter_method:"click_"+(e?"yes":"no")})},handleNeedMoreHelpClick:()=>{r.f.event("feedback_continue")}}},95164:(e,t,i)=>{i.d(t,{j:()=>o});var n=i(50374);const o={handleLanguageClick:e=>{n.f.sendEvent("click_change_language",e)},handleLanguageChange:e=>{n.f.sendEvent("change_langauage",e)}}},37268:(e,t,i)=>{i.d(t,{YH:()=>c});var n,o,r,a,s,l=i(50374);!function(e){e.Show="livesdk_live_show",e.Duration="livesdk_live_window_duration_v2",e.StartPlay="livesdk_live_window_play",e.RecPlay="livesdk_rec_live_play",e.Follow="livesdk_follow",e.Unfollow="livesdk_unfollow"}(n||(n={})),function(e){e.OneColumn="one_column",e.BrowserMode="browser_mode",e.ImmersivePlayer="immersive_player"}(o||(o={})),function(e){e.PageMode="page_mode",e.BrowserMode="browser_mode"}(r||(r={})),function(e){e.Cell="live_cell",e.Head="live_head",e.Btn="live_btn",e.FollowingPreview="live_cover_preview",e.Like="live_fyp_like",e.Share="live_fyp_share"}(a||(a={})),function(e){e.FYP="homepage_hot",e.FollowingPage="homepage_follow"}(s||(s={}));const d={0:"video_live",1:"third_party",2:"media",3:"audio",4:"screen_share",5:"social_live",6:"live_studio"},c={handleLiveShow:e=>{l.f.event("livesdk_live_show",Object.assign({enter_from_merge:"homepage_hot",enter_method:"live_cell",action_type:"click",live_type:d[Number(e.live_room_mode)]},e))},handleLiveEntranceClick:e=>{l.f.event("livesdk_rec_live_play",Object.assign({enter_from_merge:"homepage_hot",action_type:"click",live_type:d[Number(e.live_room_mode)]},e))},handleLiveDuration:e=>{l.f.event("livesdk_live_window_duration_v2",Object.assign({enter_from_merge:"homepage_hot",action_type:"click",live_type:d[Number(e.live_room_mode)]},e))},handleFollow:e=>{l.f.event("livesdk_follow",Object.assign({enter_from_merge:"homepage_hot",action_type:"click",live_type:d[Number(e.live_room_mode)]},e))},handleUnFollow:e=>{l.f.event("livesdk_unfollow",Object.assign({enter_from_merge:"homepage_hot",action_type:"click",live_type:d[Number(e.live_room_mode)]},e))},handleStartPlay:e=>{l.f.event("livesdk_live_window_play",Object.assign({enter_from_merge:"homepage_hot",action_type:"click",live_type:d[Number(e.live_room_mode)]},e))}}},58172:(e,t,i)=>{i.d(t,{Xg:()=>d});var n,o,r,a,s,l=i(50374);!function(e){e.GoLivePlayerError="livesdk_go_live_player_error",e.TakePageShow="livesdk_pm_live_takepage_show",e.ScreenshotClick="livesdk_cover_modify_screenshot_click",e.ScreenshotButtonShow="livesdk_cover_modify_screenshot_show",e.Take="livesdk_live_take",e.CoverChange="livesdk_cover_modify_click",e.WebTopicClick="livesdk_web_topic_click",e.AutoStopChange="livesdk_thirdparty_auto_stop",e.ServerUrlCopy="livesdk_server_url_copy",e.StreamKeyCopy="livesdk_stream_key_copy",e.StreamKeyChangePop="livesdk_stream_key_change_pop",e.ThirdPartyStatus="livesdk_thirdparty_status",e.ShareLinkCopy="livesdk_anchor_link_copy",e.EndLiveClick="livesdk_end_live_click",e.LiveOver="livesdk_live_over",e.AppealClick="livesdk_anchor_appeal_click",e.OBSRevokeAnchorPop="livesdk_obs_revoke_anchor_pop",e.OBSRevokeRemind="livesdk_obs_revoke_remind",e.LiveCenterEntranceShow="livesdk_anchor_live_center_entrance_show",e.LiveTakepageShow="livesdk_pm_live_takepage_show",e.LiveContentClick="livesdk_live_content_click",e.LiveContentResultShow="livesdk_live_content_result_show",e.LiveTopicClick="livesdk_live_topic_click",e.LiveMatureThemeIconClick="livesdk_mature_theme_icon_click",e.LiveMatureThemePopup="livesdk_mature_theme_popup",e.LiveMatureThemePopupClick="livesdk_mature_theme_popup_click"}(n||(n={})),function(e){e.FromObs="third_party",e.FromDirect="video_live"}(o||(o={})),function(e){e.On="on",e.Off="off"}(r||(r={})),function(e){e.On="on",e.Off="off"}(a||(a={})),function(e){e[e.Temp=0]="Temp",e[e.Permanent=1]="Permanent"}(s||(s={}));const d={handlePlayerError:(e,t)=>{l.f.event("livesdk_go_live_player_error",{roomId:String(t),code:String(e.status),message:e.message})},getHashTagname:(e,t)=>{var i,n;return null!==(n=null===(i=e.find((e=>e.id===t)))||void 0===i?void 0:i.title)&&void 0!==n?n:"none"},handleScreenshotStatusClick:e=>{l.f.event("livesdk_cover_modify_screenshot_click",Object.assign(Object.assign({},e),{live_type:"third_party"}))},handleScreenshotButtonShow:e=>{l.f.event("livesdk_cover_modify_screenshot_show",Object.assign(Object.assign({},e),{live_type:"third_party"}))},handlePageShow:e=>{l.f.event("livesdk_pm_live_takepage_show",Object.assign(Object.assign({},e),{shoot_way:"",device:"web",live_type:"third_party"}))},handleCoverChange:()=>{l.f.event("livesdk_cover_modify_click")},OBSRevokeAnchorPop:e=>{l.f.event("livesdk_obs_revoke_anchor_pop",e)},OBSRevokeRemindShow:e=>{l.f.event("livesdk_obs_revoke_remind",e)},handleTopicClick:e=>{l.f.event("livesdk_web_topic_click",e)},handleAutoStopChange:e=>{l.f.event("livesdk_thirdparty_auto_stop",e)},handleServerUrlCopyClick:e=>{l.f.event("livesdk_server_url_copy",e)},handleStreamKeyCopyClick:e=>{l.f.event("livesdk_stream_key_copy",e)},handleStreamKeyChangePop:e=>{l.f.event("livesdk_stream_key_change_pop",e)},handleAppealClick:e=>{l.f.event("livesdk_anchor_appeal_click",e)},handleEndLiveClick:()=>{l.f.event("livesdk_end_live_click")},handleLiveOver:e=>{l.f.event("livesdk_live_over",e)},handleShareLinkCopy:()=>{l.f.event("livesdk_anchor_link_copy")},handleLiveStreamReport:e=>{l.f.event("livesdk_live_take",Object.assign({live_type:"third_party",send_gift_type:"open",event_type:"click",is_active_fans_show:0,show_active_user_ucnt:0,event_page:"live_take_button",game_label:e.game_label,game_label_id:e.game_label_id},e))},handleLiveCenterShow:e=>{l.f.event("livesdk_anchor_live_center_entrance_show",{anchor_id:e.anchor_id,enter_from:"profile_hover",app_name:"webapp"})},handleGoLiveShow:()=>{l.f.event("livesdk_pm_live_takepage_show")},handleLiveContentClick:e=>{l.f.event("livesdk_live_content_click",{anchor_id:e.anchor_id})},handleLiveContentConfirm:e=>{l.f.event("livesdk_live_content_result_show",{anchor_id:e.anchor_id,game_label:e.game_label,game_label_id:e.game_label_id})},handleLiveTopicClick:e=>{l.f.event("livesdk_live_topic_click",{anchor_id:e.anchor_id})},handleLiveMatureThemeIconClick:e=>{l.f.event("livesdk_mature_theme_icon_click",{action_type:e.action_type,enter_from:"live",anchor_id:e.anchor_id,source:"web"})},handleLiveMatureThemePopup:e=>{l.f.event("livesdk_mature_theme_popup",{enter_from:"live",anchor_id:e.anchor_id,source:"web"})},handleLiveMatureThemePopupClick:e=>{l.f.event("livesdk_mature_theme_popup_click",{action_type:e.action_type,enter_from:"live",anchor_id:e.anchor_id,source:"web"})}}},88598:(e,t,i)=>{i.d(t,{_:()=>o});var n=i(50374);const o={handleLinkPhoneOrEmailPopupShow:e=>{n.f.sendEvent("link_phone_number_notify",{enter_method:e.enterMethod})},clickLinkPhoneNumber:()=>{n.f.sendEvent("click_link_phone_number")},linkPhoneNumberSuccess:()=>{n.f.sendEvent("link_phone_number_success")},clickLinkEmail:()=>{n.f.sendEvent("click_link_email")},linkEmailSuccess:()=>{n.f.sendEvent("link_email_success")},ClickFeedback:()=>{n.f.sendEvent("feedback")}}},74078:(e,t,i)=>{i.d(t,{z:()=>o});var n=i(50374);const o={logout:e=>{n.f.sendEvent("monitor_logout",e)},logoutNotify:e=>{n.f.sendEvent("logout_notify",e)},logoutSubmit:e=>{n.f.sendEvent("logout_submit",e)},logoutCancel:e=>{n.f.sendEvent("logout_cancel",e)}}},26071:(e,t,i)=>{i.d(t,{w:()=>r});var n,o=i(50374);!function(e){e.EnterChatList="enter_chat_list",e.LeaveChatList="leave_chat_list",e.LeaveChat="leave_chat",e.DeleteChat="delete_chat",e.AcceptStrangerChat="accept_stranger_chat",e.ReportStrangerChat="report_stranger_chat",e.DeleteStrangerChat="delete_stranger_chat",e.SendMessage="send_message",e.FailSendMessage="fail_send_message",e.LikeMessage="like_message",e.DeleteMessage="delete_message",e.ReportMessage="report_message",e.ChatSettingClick="chat_setting_click",e.ChatMuteClick="chat_mute_click",e.ChatTopClick="chat_top_click",e.EnterStrangerChatList="enter_stranger_chat_list",e.ChangeMessagePermission="change_message_permission",e.ChangeBrandMessageStatus="change_brand_message_status",e.EnterChat="enter_chat",e.ShareHeadShow="share_head_show",e.ShareVideoToChat="share_video_to_chat",e.SearchContact="search_contact",e.ShareVideo="share_video",e.MediaMessageShow="media_message_show",e.MediaMessageShowFail="media_message_show_fail",e.WebAppDmLcp="webapp_dm_lcp"}(n||(n={}));const r={handleEnterChatList:(e,t)=>{o.f.event("enter_chat_list",{num:e,enterMethod:t})},handleSendMessage:e=>{o.f.event("send_message",e)},handleFailSendMessage:e=>{o.f.event("fail_send_message",e)},handleShareHeadShow:e=>{o.f.event("share_head_show",e)},handleShareVideoToChat:e=>{o.f.event("share_video_to_chat",e)},handleSearchContact:()=>{o.f.event("search_contact",{action_type:"share"})},handleLeaveChatList:()=>{o.f.event("leave_chat_list")},handleEnterStrangerChatList:()=>{o.f.event("enter_stranger_chat_list")},handleChatSettingClick:e=>{o.f.event("chat_setting_click",{conversation_id:e,chat_type:"private"})},handleChatMuteClick:({to_status:e,conversation_id:t})=>{o.f.event("chat_mute_click",{to_status:e,conversation_id:t,chat_type:"private"})},handleChatTopClick:({to_status:e,conversation_id:t})=>{o.f.event("chat_top_click",{to_status:e,conversation_id:t,chat_type:"private"})},handleDeleteChat:({is_stranger:e,conversation_id:t})=>{o.f.event("delete_chat",{is_stranger:e?1:0,conversation_id:t,chat_type:"private"})},handleEnterChat:({relation_tag:e,is_stranger:t,conversation_id:i,chat_type:n})=>{o.f.event("enter_chat",{relation_tag:e,is_stranger:t?1:0,conversation_id:i,chat_type:n})},handleAcceptStrangerChat:()=>{o.f.event("accept_stranger_chat")},handleDeleteMessage:e=>{o.f.event("delete_message",Object.assign(Object.assign({},e),{chat_type:"private"}))},handleReportMessage:e=>{o.f.event("report_message",Object.assign(Object.assign({},e),{chat_type:"private"}))},handleLikeMessage:({conversation_id:e,to_user_id:t,chat_type:i})=>{o.f.event("like_message",{conversation_id:e,to_user_id:t,chat_type:i})},handleChangeMessagePermission:e=>{o.f.event("change_message_permission",{to_status:e})},handleChangeBrandMessageStatus:e=>{o.f.event("change_brand_message_status",{to_status:e})},handleLeaveChat:({relation_tag:e,is_stranger:t,conversation_id:i})=>{o.f.event("leave_chat",{relation_tag:e,is_stranger:t?1:0,conversation_id:i})},handleMediaMessageShow:e=>{o.f.event("media_message_show",e)},handleMediaMessageShowFail:e=>{o.f.event("media_message_show_fail",e)},handleReportMessagePageLcp:e=>{o.f.event("webapp_dm_lcp",{lcp:Math.floor(e.lcp),is_business_account:e.is_business_account?1:0})}}},87908:(e,t,i)=>{i.d(t,{t:()=>o});var n=i(50374);const o={handleClickLogo:()=>{n.f.sendEvent("click_logo")},handleClickNav:e=>{n.f.sendEvent("click_navigation_bar",e)},handleClickHamburgerMenu:()=>{n.f.sendEvent("click_hamburger_menu")},handleEntranceShow:e=>{n.f.sendEvent("eh_web_entrance_show",e)},handleClickEntrance:e=>{n.f.sendEvent("click_eh_web_entrance",e)},handleShowFollowingRedDot:()=>{n.f.sendEvent("red_dot_show")},handleRemoveFollowingRedDot:e=>{n.f.sendEvent("red_dot_exit",e)},handleShowNewLabel:()=>{n.f.sendEvent("new_label_show")},handleRemoveNewLabel:e=>{n.f.sendEvent("new_label_exit",e)}}},92694:(e,t,i)=>{i.d(t,{b:()=>u});var n,o=i(11379),r=i(18649),a=i(49610),s=i(19994),l=i.n(s),d=i(50374);const c="homepage_message";let u=n=class{handlePopShow(e){d.f.sendEvent("message_pop_notice_show",e)}handleChangeTab(e){d.f.sendEvent("change_notification_tab",this.getNoticeParams(e))}handleEnterFollow(e){d.f.sendEvent("enter_follow_request",this.getNoticeParams(e))}handleFollowRequestAction(e){d.f.sendEvent("follow_request_action",l()(e,{enter_from:"follow_request_page",previous_page:"homepage_message"}))}handleEnterFold(e){d.f.sendEvent("enter_folded_message",l()(e,{enter_from:c,account_type:"like"}))}handleSystemNotificationShow(){d.f.sendEvent("system_notification_show",this.getNoticeParams({}))}handleSystemNotificationClick(e){d.f.sendEvent("system_notification_click",this.getNoticeParams({enter_from:"system_notification_page",enter_method:e.enter_method}))}handleChangeSystemNotificationTab(e){d.f.sendEvent("change_system_notification_tab",this.getNoticeParams(e))}getNoticeParams(e){return l()(e,{enter_from:c,page_name:c,previous_page:d.f.commonParams.page_name})}};u.getInstance=()=>r.l.getInstance(n),u=n=(0,o.Cg)([(0,a._)()],u)},40357:(e,t,i)=>{i.d(t,{U:()=>o});var n=i(50374);const o={handlePopupShow:e=>{n.f.sendEvent("general_pop_up",e)}}},63125:(e,t,i)=>{i.d(t,{I:()=>r});var n,o=i(50374);!function(e){e.ShowCollectionsTooltip="show_collections_tooltip",e.EnterCollectionsPage="enter_collections_page"}(n||(n={}));const r={handleShowCollectionsTooltip:()=>{o.f.event("show_collections_tooltip")},handleEnterCollectionsPage:()=>{o.f.event("enter_collections_page",{enterMethod:"top_bar"})}}},92496:(e,t,i)=>{i.d(t,{s:()=>l});var n=i(27334),o=i(2032),r=i(51900),a=i(53240);const s=(0,o.default)("span",{target:"e1aglo370"})((({width:e,height:t,style:i={},theme:{direction:n}})=>[(0,a.mp)({direction:n,marginStart:"4px"}),Object.assign(Object.assign({},i),{width:"number"==typeof e?`${e}px`:e,height:"number"==typeof t?`${t}px`:t})]),"label:SpanVerifyBadgeContainer;"),l=e=>(0,n.jsx)(s,Object.assign({},e,{children:(0,n.jsx)(r.V,{size:"number"==typeof e.width?e.width:void 0})}))},20559:(e,t,i)=>{i.d(t,{e:()=>h});var n,o=i(11379),r=i(27334),a=i(65622),s=i(2032);!function(e){e.Empty="rgba(18, 18, 18, 0.03)",e.Default="rgba(136, 136, 136, 0.5)"}(n||(n={}));const l=(0,s.default)("span",{target:"e1e9er4e0"})((({shape:e,empty:t,isShowBackground:i})=>[{display:"inline-block",boxSizing:"border-box",margin:"0",padding:"0",fontFeatureSettings:'"tnum"',position:"relative",overflow:"hidden",color:"#fff",whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",lineHeight:"32px",borderRadius:"square"===e?"0":"50%"},i?{backgroundColor:t?"rgba(18, 18, 18, 0.03)":"rgba(136, 136, 136, 0.5)"}:null]),"label:SpanAvatarContainer;"),d=(0,s.default)("img",{target:"e1e9er4e1"})({width:"100%",height:"100%",objectFit:"cover"},"label:ImgAvatar;"),c=(0,s.default)("svg",{target:"e1e9er4e2"})({width:"100%",height:"100%"},"label:SvgContainer;"),u={EMPTY:(0,r.jsx)(c,Object.assign({width:"300",height:"300",viewBox:"0 0 300 300",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},{children:(0,r.jsx)("rect",{cx:"150",cy:"150",fill:"#888",fillOpacity:".5"})})),NON_EMPTY:(0,r.jsxs)(c,Object.assign({width:"300",height:"300",viewBox:"0 0 300 300",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},{children:[(0,r.jsx)("rect",{cx:"150",cy:"150",fill:"#888",fillOpacity:".5"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M58.74 269.054C74.383 234.242 109.361 210 150 210s75.617 24.242 91.26 59.054C215.978 288.463 184.336 300 150 300c-34.336 0-65.978-11.537-91.26-30.946z",fill:"#fff",fillOpacity:".75"}),(0,r.jsx)("circle",{cx:"150",cy:"138",r:"55",fill:"#fff",fillOpacity:".75"})]}))},p=()=>!0,h=(0,a.memo)((function(e){const{src:t,empty:i=!1,backgroundImage:n,size:s=32,shape:c="circle",style:h={},onError:g=p,alt:_="",imageLoading:v="lazy",e2eTag:m=""}=e,f=(0,o.Tt)(e,["src","empty","backgroundImage","size","shape","style","onError","alt","imageLoading","e2eTag"]),[y,b]=(0,a.useState)(!1),x=(0,a.useCallback)((e=>{var t;g&&b(null===(t=g(e))||void 0===t||t)}),[g]),S=t&&!y,k=i?"EMPTY":"NON_EMPTY";return(0,r.jsx)(l,Object.assign({shape:c,isShowBackground:Boolean(S),empty:i,style:Object.assign(Object.assign({},h),{width:s,height:s}),"data-e2e":m},f,{children:S?(0,r.jsx)(d,{loading:v,onError:x,onLoad:e.onLoad,alt:_,src:t}):u[k]}))}))},62669:(e,t,i)=>{i.d(t,{z:()=>h,I:()=>g});var n=i(11379),o=i(85490),r=i(25724),a=i(45372),s=i.n(a),l=i(65622),d=i(79569);const c=Symbol("BASE_DATA_ATOM_KEY"),u=Symbol("HYDRATION_TOGGLE_PROP");var p=i(61942);function h(e){const t=(0,r.atom)(e.initState),i=(0,r.atom)((e=>e(t)),((i,o,...r)=>(0,n.sH)(this,void 0,void 0,(function*(){let n;return n="action"in e?yield e.action({prevState:i(t),get:i},...r):yield e.fetchAction(i(t),...r),o(t,n),n}))));return i[c]=t,i[u]=e.rehydrationDataKey,i}function g(e,t){const{resetStateBeforeDispatch:i=!1,skipFirstClientDispatch:a=!0}=null!=t?t:{},h=e[u],g=e[c],[_,v,m]=h?(0,o.Dh)(h,null,{volatile:!0}):[null,s(),()=>null];!function(e){const t=(0,r.useStore)(void 0);(0,d.S)(t,e)}(_&&a?[[g,_]]:[]);const[f,y]=(0,r.useAtom)(e),b=(0,r.useSetAtom)(g),[x,S]=(0,l.useState)((()=>({isFetching:!1,rehydratedFromSSR:Boolean(_)}))),k=(0,l.useRef)(!0);(0,l.useEffect)((()=>()=>{i&&b(g.init)}),[]);const w=(0,l.useCallback)(((...e)=>(0,n.sH)(this,void 0,void 0,(function*(){if(k.current&&a&&x.rehydratedFromSSR)return k.current=!1,f;S({isFetching:!0,rehydratedFromSSR:!1}),i&&b(g.init);const t=yield y(...e);return S({isFetching:!1,rehydratedFromSSR:!1}),t}))),[y]);return[(0,p.xb)(x,f),w,m]}},61297:(e,t,i)=>{e.exports=i.p+"d60c66b9f5dc9647f3a3.png"},43065:(e,t,i)=>{e.exports=i.p+"c287bca871661e22ee8a.png"},34088:(e,t,i)=>{e.exports=i.p+"47624c235266dedd8e4d.png"}}]);